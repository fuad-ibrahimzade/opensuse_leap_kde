/*! For license information please see background-script.js.LICENSE.txt */
(()=>{var e,t,r={85867:(e,t,r)=>{var n={"./de.json":86200,"./en.json":75452,"./es.json":48883,"./fr.json":50320,"./pt.json":57366,"./ru.json":90274,"./sv.json":69766,"./zh_CN.json":61038,"./zh_TW.json":13571};function o(e){var t=a(e);return r(t)}function a(e){if(!r.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}o.keys=function(){return Object.keys(n)},o.resolve=a,e.exports=o,o.id=85867},74232:(e,t,r)=>{"use strict";r.r(t),r.d(t,{Http:()=>n});const n=(0,r(29895).fo)("Http",{web:()=>r.e(592).then(r.bind(r,11592)).then((e=>new e.HttpWeb)),electron:()=>r.e(592).then(r.bind(r,11592)).then((e=>new e.HttpWeb))})},29895:(e,t,r)=>{"use strict";r.d(t,{Uw:()=>u,fo:()=>s});const n=(e=>e.CapacitorPlatforms=(e=>{const t=new Map;t.set("web",{name:"web"});const r=e.CapacitorPlatforms||{currentPlatform:{name:"web"},platforms:t};return r.addPlatform=(e,t)=>{r.platforms.set(e,t)},r.setPlatform=e=>{r.platforms.has(e)&&(r.currentPlatform=r.platforms.get(e))},r})(e))("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==r.g?r.g:{});var o;n.addPlatform,n.setPlatform,function(e){e.Unimplemented="UNIMPLEMENTED",e.Unavailable="UNAVAILABLE"}(o||(o={}));class a extends Error{constructor(e,t){super(e),this.message=e,this.code=t}}const i=(e=>e.Capacitor=(e=>{var t,r,n,i,s;const u=e.CapacitorCustomPlatform||null,c=e.Capacitor||{},l=c.Plugins=c.Plugins||{},f=e.CapacitorPlatforms,d=(null===(t=null==f?void 0:f.currentPlatform)||void 0===t?void 0:t.getPlatform)||(()=>null!==u?u.name:(e=>{var t,r;return(null==e?void 0:e.androidBridge)?"android":(null===(r=null===(t=null==e?void 0:e.webkit)||void 0===t?void 0:t.messageHandlers)||void 0===r?void 0:r.bridge)?"ios":"web"})(e)),p=(null===(r=null==f?void 0:f.currentPlatform)||void 0===r?void 0:r.isNativePlatform)||(()=>"web"!==d()),h=(null===(n=null==f?void 0:f.currentPlatform)||void 0===n?void 0:n.isPluginAvailable)||(e=>{const t=g.get(e);return!!(null==t?void 0:t.platforms.has(d()))||!!m(e)}),m=(null===(i=null==f?void 0:f.currentPlatform)||void 0===i?void 0:i.getPluginHeader)||(e=>{var t;return null===(t=c.PluginHeaders)||void 0===t?void 0:t.find((t=>t.name===e))}),g=new Map,v=(null===(s=null==f?void 0:f.currentPlatform)||void 0===s?void 0:s.registerPlugin)||((e,t={})=>{const r=g.get(e);if(r)return console.warn(`Capacitor plugin "${e}" already registered. Cannot register plugins twice.`),r.proxy;const n=d(),i=m(e);let s;const f=r=>{let l;const f=(...f)=>{const d=(async()=>(!s&&n in t?s=s="function"==typeof t[n]?await t[n]():t[n]:null!==u&&!s&&"web"in t&&(s=s="function"==typeof t.web?await t.web():t.web),s))().then((t=>{const s=((t,r)=>{var s,u;if(!i){if(t)return null===(u=t[r])||void 0===u?void 0:u.bind(t);throw new a(`"${e}" plugin is not implemented on ${n}`,o.Unimplemented)}{const n=null==i?void 0:i.methods.find((e=>r===e.name));if(n)return"promise"===n.rtype?t=>c.nativePromise(e,r.toString(),t):(t,n)=>c.nativeCallback(e,r.toString(),t,n);if(t)return null===(s=t[r])||void 0===s?void 0:s.bind(t)}})(t,r);if(s){const e=s(...f);return l=null==e?void 0:e.remove,e}throw new a(`"${e}.${r}()" is not implemented on ${n}`,o.Unimplemented)}));return"addListener"===r&&(d.remove=async()=>l()),d};return f.toString=()=>`${r.toString()}() { [capacitor code] }`,Object.defineProperty(f,"name",{value:r,writable:!1,configurable:!1}),f},p=f("addListener"),h=f("removeListener"),v=(e,t)=>{const r=p({eventName:e},t),n=async()=>{const n=await r;h({eventName:e,callbackId:n},t)},o=new Promise((e=>r.then((()=>e({remove:n})))));return o.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await n()},o},y=new Proxy({},{get(e,t){switch(t){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return i?v:p;case"removeListener":return h;default:return f(t)}}});return l[e]=y,g.set(e,{name:e,proxy:y,platforms:new Set([...Object.keys(t),...i?[n]:[]])}),y});return c.convertFileSrc||(c.convertFileSrc=e=>e),c.getPlatform=d,c.handleError=t=>e.console.error(t),c.isNativePlatform=p,c.isPluginAvailable=h,c.pluginMethodNoop=(e,t,r)=>Promise.reject(`${r} does not have an implementation of "${t}".`),c.registerPlugin=v,c.Exception=a,c.DEBUG=!!c.DEBUG,c.isLoggingEnabled=!!c.isLoggingEnabled,c.platform=c.getPlatform(),c.isNative=c.isNativePlatform(),c})(e))("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==r.g?r.g:{}),s=i.registerPlugin;i.Plugins;class u{constructor(e){this.listeners={},this.windowListeners={},e&&(console.warn(`Capacitor WebPlugin "${e.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=e)}addListener(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t);const r=this.windowListeners[e];r&&!r.registered&&this.addWindowListener(r);const n=async()=>this.removeListener(e,t),o=Promise.resolve({remove:n});return Object.defineProperty(o,"remove",{value:async()=>{console.warn("Using addListener() without 'await' is deprecated."),await n()}}),o}async removeAllListeners(){this.listeners={};for(const e in this.windowListeners)this.removeWindowListener(this.windowListeners[e]);this.windowListeners={}}notifyListeners(e,t){const r=this.listeners[e];r&&r.forEach((e=>e(t)))}hasListeners(e){return!!this.listeners[e].length}registerWindowListener(e,t){this.windowListeners[t]={registered:!1,windowEventName:e,pluginEventName:t,handler:e=>{this.notifyListeners(t,e)}}}unimplemented(e="not implemented"){return new i.Exception(e,o.Unimplemented)}unavailable(e="not available"){return new i.Exception(e,o.Unavailable)}async removeListener(e,t){const r=this.listeners[e];if(!r)return;const n=r.indexOf(t);this.listeners[e].splice(n,1),this.listeners[e].length||this.removeWindowListener(this.windowListeners[e])}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}}},52406:(e,t,r)=>{"use strict";r.r(t),r.d(t,{Device:()=>n});const n=(0,r(29895).fo)("Device",{web:()=>r.e(961).then(r.bind(r,7961)).then((e=>new e.DeviceWeb))})},38602:(e,t,r)=>{"use strict";r.r(t),r.d(t,{Storage:()=>n});const n=(0,r(29895).fo)("Storage",{web:()=>r.e(645).then(r.bind(r,56645)).then((e=>new e.StorageWeb))})},99758:(e,t,r)=>{"use strict";e.exports=r(69512)},69512:e=>{"use strict";var t=function(e){if(e=e||{},this.Promise=e.Promise||Promise,this.queues=Object.create(null),this.domainReentrant=e.domainReentrant||!1,this.domainReentrant){if("undefined"==typeof process||void 0===process.domain)throw new Error("Domain-reentrant locks require `process.domain` to exist. Please flip `opts.domainReentrant = false`, use a NodeJS version that still implements Domain, or install a browser polyfill.");this.domains=Object.create(null)}this.timeout=e.timeout||t.DEFAULT_TIMEOUT,e.maxPending===1/0||Number.isInteger(e.maxPending)&&e.maxPending>=0?this.maxPending=e.maxPending:this.maxPending=t.DEFAULT_MAX_PENDING};t.DEFAULT_TIMEOUT=0,t.DEFAULT_MAX_PENDING=1e3,t.prototype.acquire=function(e,t,r,n){if(Array.isArray(e))return this._acquireBatch(e,t,r,n);if("function"!=typeof t)throw new Error("You must pass a function to execute");var o=null,a=null,i=null;"function"!=typeof r&&(n=r,r=null,i=new this.Promise((function(e,t){o=e,a=t}))),n=n||{};var s=!1,u=null,c=this,l=function(t,n,u){t&&(0===c.queues[e].length&&delete c.queues[e],c.domainReentrant&&delete c.domains[e]),s||(i?n?a(n):o(u):"function"==typeof r&&r(n,u),s=!0),t&&c.queues[e]&&c.queues[e].length>0&&c.queues[e].shift()()},f=function(r){if(s)return l(r);if(u&&(clearTimeout(u),u=null),c.domainReentrant&&r&&(c.domains[e]=process.domain),1===t.length){var n=!1;t((function(e,t){n||(n=!0,l(r,e,t))}))}else c._promiseTry((function(){return t()})).then((function(e){l(r,void 0,e)}),(function(e){l(r,e)}))};if(c.domainReentrant&&process.domain&&(f=process.domain.bind(f)),c.queues[e])if(c.domainReentrant&&process.domain&&process.domain===c.domains[e])f(!1);else if(c.queues[e].length>=c.maxPending)l(!1,new Error("Too much pending tasks"));else{var d=function(){f(!0)};n.skipQueue?c.queues[e].unshift(d):c.queues[e].push(d);var p=n.timeout||c.timeout;p&&(u=setTimeout((function(){u=null,l(!1,new Error("async-lock timed out"))}),p))}else c.queues[e]=[],f(!0);return i||void 0},t.prototype._acquireBatch=function(e,t,r,n){"function"!=typeof r&&(n=r,r=null);var o=this,a=t;if(e.reverse().forEach((function(e){a=function(e,t){return function(r){o.acquire(e,t,r,n)}}(e,a)})),"function"!=typeof r)return new this.Promise((function(e,t){1===a.length?a((function(r,n){r?t(r):e(n)})):e(a())}));a(r)},t.prototype.isBusy=function(e){return e?!!this.queues[e]:Object.keys(this.queues).length>0},t.prototype._promiseTry=function(e){try{return this.Promise.resolve(e())}catch(e){return this.Promise.reject(e)}},e.exports=t},18329:function(e,t){"use strict";var r=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,a){function i(e){try{u(n.next(e))}catch(e){a(e)}}function s(e){try{u(n.throw(e))}catch(e){a(e)}}function u(e){e.done?o(e.value):new r((function(t){t(e.value)})).then(i,s)}u((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});class n extends Error{constructor(e){super(`${e.length} errors`),this.list=e}}function o(e,t){return r(this,void 0,void 0,(function*(){var r=0,o=!1,a=[];return new Promise(((i,s)=>{!function u(){for(;r<e&&!o;)r+=1,t().then((e=>{0!=--r||!o&&e?e?u():o=!0:0===a.length?i():s(new n(a))})).catch((e=>{a.push(e),o=!0,0==--r&&s(new n(a))}))}()}))}))}function a(e){return"number"==typeof e?{concurrency:e}:"object"==typeof e?Object.assign({concurrency:t.concurrency},e):{concurrency:t.concurrency}}t.MultiError=n,t.concurrency=0,t.setConcurrency=function(e){t.concurrency=e},t.each=function(e,t,n){return r(this,void 0,void 0,(function*(){if(e&&e.length>0){e=e.slice(0);var i=a(n).concurrency||e.length;yield o(i,(()=>r(this,void 0,void 0,(function*(){return e.length>0&&(yield t(e.shift())),e.length>0}))))}}))},t.every=function(e,t,n){return r(this,void 0,void 0,(function*(){var i=!0;if(e&&e.length>0){e=e.slice(0);var s=a(n).concurrency||e.length,u=0;yield o(s,(()=>r(this,void 0,void 0,(function*(){return e.length>0&&((yield t(e.shift(),u++,e))||(i=!1)),!i||e.length>0}))))}return i}))},t.filter=function(e,t,n){return r(this,void 0,void 0,(function*(){var i=[];if(e&&e.length>0){var s=e.slice(0),u=a(n).concurrency||e.length,c=0;yield o(u,(()=>r(this,void 0,void 0,(function*(){if(s.length>0){var e=c++,r=s.shift();(yield t(r,c,s))&&(i[e]=r)}return s.length>0}))))}return i.filter((e=>void 0!==e))}))},t.invoke=function(e,t){return r(this,void 0,void 0,(function*(){if(e&&e.length>0){e=e.slice(0);var n=a(t).concurrency||e.length;yield o(n,(()=>r(this,void 0,void 0,(function*(){return e.length>0&&(yield e.shift().call(this)),e.length>0}))))}}))},t.map=function(e,t,n){return r(this,void 0,void 0,(function*(){var i=[];if(e&&e.length>0){e=e.slice(0);var s=a(n).concurrency||e.length,u=0;yield o(s,(()=>r(this,void 0,void 0,(function*(){if(e.length>0){var r=u++;i[r]=yield t(e.shift(),r,e)}return e.length>0}))))}return i}))},t.pool=o,t.reduce=function(e,t,n,i){return r(this,void 0,void 0,(function*(){var s=n;if(e&&e.length>0){e=e.slice(0);var u=a(i).concurrency||e.length,c=0;yield o(u,(()=>r(this,void 0,void 0,(function*(){return e.length>0&&(s=yield t(s,e.shift(),c++,e)),e.length>0}))))}return s}))},t.sleep=function(e){return r(this,void 0,void 0,(function*(){return new Promise((t=>setTimeout((()=>t()),e)))}))},t.some=function(e,t,n){return r(this,void 0,void 0,(function*(){var i=!1;if(e&&e.length>0){e=e.slice(0);var s=a(n).concurrency||e.length,u=0;yield o(s,(()=>r(this,void 0,void 0,(function*(){return e.length>0&&(yield t(e.shift(),u++,e))&&(i=!0),i||e.length>0}))))}return i}))}},42002:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n}),r(57640),r(9924),r(82472),r(48675),r(33824),r(8922),r(37380),r(1118),r(5835),r(84444),r(98145),r(87145);class n{static async sha256(e){const t=new TextEncoder("utf-8").encode(e),r=await crypto.subtle.digest("SHA-256",t);return this.bufferToHexstr(r)}static bufferToHexstr(e){return Array.from(new Uint8Array(e)).map((e=>("00"+e.toString(16)).slice(-2))).join("")}static hexstrToBuffer(e){for(var t=new Uint8Array(e.length/2),r=0;r<e.length;r+=2)t[r/2]=parseInt(e.substr(r,2),16);return t}static async prepareKey(e){const t=await crypto.subtle.digest("SHA-256",new TextEncoder("utf-8").encode(e));return await crypto.subtle.importKey("raw",t,{name:"AES-CBC"},!1,["decrypt","encrypt"])}static async decryptAES(e,t,r){return(new TextDecoder).decode(await crypto.subtle.decrypt({name:"AES-CBC",iv:Uint8Array.from(n.iv)},await this.prepareKey(e),this.hexstrToBuffer(r)))}static async encryptAES(e,t,r){return this.bufferToHexstr(await crypto.subtle.encrypt({name:"AES-CBC",iv:Uint8Array.from(n.iv)},await this.prepareKey(e),(new TextEncoder).encode(r)))}static getRandomBytes(e){let t=new Int8Array(e);return crypto.getRandomValues(t),t}}n.iv=[58,14,9,204,174,93,77,98,12,248,11,160,143,24,119,20]},59564:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s}),r(33948),r(60285),r(41637);var n=r(52406),o=r(89539),a=r.n(o),i=r(4147);class s{static log(){const e=[(new Date).toISOString(),...arguments];console.log(a().format.apply(a(),e)),this.messages.push(a().format.apply(a(),e))}static async persist(){const e="web"===(await n.Device.getInfo()).platform?await Promise.resolve().then(r.bind(r,95940)):await Promise.resolve().then(r.bind(r,42810));await e.default.changeEntry("logs",(e=>{const t=this.messages;return this.messages=[],t}),[])}static async getLogs(){return("web"===(await n.Device.getInfo()).platform?await Promise.resolve().then(r.bind(r,95940)):await Promise.resolve().then(r.bind(r,42810))).default.getEntry("logs",[])}static async downloadLogs(){const e=await this.getLogs();console.log(e);let t=new Blob([e.join("\n")],{type:"text/plain",endings:"native"});this.download("floccus-"+i.i8+"-"+(new Date).toISOString().slice(0,10)+".log",t)}static download(e,t){const r=document.createElement("a");let n=URL.createObjectURL(t);r.setAttribute("href",n),r.setAttribute("download",e),r.style.display="none",document.body.appendChild(r),r.click(),URL.revokeObjectURL(n),document.body.removeChild(r)}}s.messages=[]},9334:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var n=r(63479),o=r.n(n);class a extends(o()){constructor(e){super(),this.server=e}static getDefaultValues(){return{type:"fake"}}setData(e){this.server=e}getData(){return JSON.parse(JSON.stringify(this.server))}getLabel(){return"Fake account (floccus)"}}},60406:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>h}),r(15581),r(2490),r(34514);var n=r(63479),o=r.n(n),a=r(21617),i=r(59564),s=r(52300),u=r(8575),c=r(57516),l=r.n(c),f=r(79846),d=r(74232),p=r(52406);class h extends(o()){constructor(e){super(e),this.server=e}static getDefaultValues(){return{type:"webdav",url:"https://example.org/",username:"bob",password:"s3cret",bookmark_file:"bookmarks.xbel",includeCredentials:!1,allowRedirects:!1,passphrase:""}}getData(){return{...h.getDefaultValues(),...this.server}}normalizeServerURL(e){let t=u.parse(e);return t.pathname||(t.pathname=""),u.format({protocol:t.protocol,auth:t.auth,host:t.host,port:t.port,pathname:t.pathname+("/"!==t.pathname[t.pathname.length-1]?"/":"")})}cancel(){this.cancelCallback&&this.cancelCallback()}getBookmarkURL(){return this.normalizeServerURL(this.server.url)+this.server.bookmark_file}getBookmarkLockURL(){return this.getBookmarkURL()+".lock"}async downloadFile(e){let t,r=s.Base64.encode(this.server.username+":"+this.server.password);try{t=await d.Http.request({url:e,method:"GET",headers:{Authorization:"Basic "+r},responseType:"text",webFetchExtra:{credentials:"omit",...!this.server.allowRedirects&&{redirect:"manual"}}})}catch(e){throw new f.NetworkError}if(0===t.status&&!this.server.allowRedirects)throw new f.RedirectError;if(401===t.status)throw new f.AuthenticationError;if(t.status>=300&&404!==t.status)throw new f.HttpError(t.status,"GET");return t}async checkLock(){let e=this.getBookmarkLockURL();return i.default.log(e),(await this.downloadFile(e)).status}timeout(e){return new Promise(((t,r)=>{setTimeout(t,e),this.cancelCallback=()=>r(new f.InterruptedSyncError)}))}async uploadFile(e,t,r){return"web"===(await p.Device.getInfo()).platform?this.uploadFileWeb(e,t,r):this.uploadFileNative(e,t,r)}async uploadFileWeb(e,t,r){let n=s.Base64.encode(this.server.username+":"+this.server.password);try{var o=await fetch(e,{method:"PUT",headers:{"Content-Type":t,Authorization:"Basic "+n},credentials:"omit",body:r})}catch(e){throw i.default.log("Error Caught"),i.default.log(e),new f.NetworkError}if(401===o.status||403===o.status)throw new f.AuthenticationError;if(o.status>=300)throw new f.HttpError(o.status,"PUT")}async uploadFileNative(e,t,r){let n=s.Base64.encode(this.server.username+":"+this.server.password);try{var o=await d.Http.request({url:e,method:"PUT",headers:{"Content-Type":t,Authorization:"Basic "+n},data:r,webFetchExtra:{credentials:"omit"}})}catch(e){throw i.default.log("Error Caught"),i.default.log(e),new f.NetworkError}if(401===o.status||403===o.status)throw new f.AuthenticationError;if(o.status>=300)throw new f.HttpError(o.status,"PUT")}async obtainLock(){let e;const t=Date.now();for(let r=0;Date.now()-t<18e5;r++)if(e=await this.checkLock(),200===e)await this.timeout(1.25**r*1e3);else if(200!==e)break;if(200===e);else{if(404!==e)throw new f.LockFileError(e,this.server.bookmark_file+".lock");{let e=this.getBookmarkLockURL();i.default.log(e),await this.uploadFile(e,"text/html","<html><body>I am a lock file</body></html>")}}}async freeLock(){let e=this.getBookmarkLockURL(),t=s.Base64.encode(this.server.username+":"+this.server.password);try{await d.Http.request({url:e,method:"DELETE",headers:{Authorization:"Basic "+t},webFetchExtra:{credentials:"omit"}})}catch(e){i.default.log("Error Caught"),i.default.log(e)}}async pullFromServer(){let e=this.getBookmarkURL(),t=await this.downloadFile(e);if(401===t.status)throw new f.AuthenticationError;if(404===t.status)return this.resetCache(),t;if(200===t.status){let e=t.data;if(this.server.passphrase)try{e=await l().decryptAES(this.server.passphrase,e,this.server.bookmark_file)}catch(t){if(!e.includes('<?xml version="1.0" encoding="UTF-8"?>'))throw new f.DecryptionError}else if(!e.includes('<?xml version="1.0" encoding="UTF-8"?>'))throw new f.FileUnreadableError;e.split("\n").forEach((e=>{if(e.indexOf("\x3c!--- highestId :")>=0){let t=e.indexOf(":")+1,r=e.lastIndexOf(":");this.highestId=parseInt(e.substring(t,r))}})),this.bookmarksCache=a.default.deserialize(e)}return t}async onSyncStart(){if(i.default.log("onSyncStart: begin"),"/"===this.server.bookmark_file[0])throw new f.SlashError;await this.obtainLock();let e=await this.pullFromServer();if(200!==e.status&&404!==e.status)throw new f.HttpError(e.status,"GET");if(this.initialTreeHash=await this.bookmarksCache.hash(!0),i.default.log("onSyncStart: completed"),404===e.status)return!1}async onSyncFail(){i.default.log("onSyncFail"),await this.freeLock()}async onSyncComplete(){if(i.default.log("onSyncComplete"),this.bookmarksCache=this.bookmarksCache.clone(),await this.bookmarksCache.hash(!0)!==this.initialTreeHash){let e=this.getBookmarkURL(),t=function(e,t){let r='<?xml version="1.0" encoding="UTF-8"?>\n<!DOCTYPE xbel PUBLIC "+//IDN python.org//DTD XML Bookmark Exchange Language 1.0//EN//XML" "http://pyxml.sourceforge.net/topics/dtds/xbel.dtd">\n<xbel version="1.0">\n';return r+="\x3c!--- highestId :"+t+": for Floccus bookmark sync browser extension --\x3e\n",r+=a.default.serialize(e),r+="\n</xbel>",r}(this.bookmarksCache,this.highestId);this.server.passphrase&&(t=await l().encryptAES(this.server.passphrase,t,this.server.bookmark_file)),await this.uploadFile(e,"application/xml",t)}else i.default.log("No changes to the server version necessary");await this.freeLock()}}},53769:(e,t,r)=>{"use strict";let n;r.r(t),"undefined"==typeof browser&&"undefined"!=typeof chrome?(n=new ChromePromise,n.alarms=chrome.alarms,n.browserAction=chrome.browserAction,n.i18n=chrome.i18n):n=browser,t.default=n},95940:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>d});var n=r(53769),o=r(57516),a=r.n(o),i=r(42002),s=r(26941),u=r.n(s),c=r(40505),l=r(99758);const f=new(r.n(l)());class d{constructor(e){this.accountId=e}static async changeEntry(e,t,r){await f.acquire(e,(async()=>{let o=await d.getEntry(e,r);o=t(o),await n.default.storage.local.set({[e]:JSON.stringify(o)})}))}static async getEntry(e,t){let r=await n.default.storage.local.get(e);if(r[e]){for(;"string"==typeof r[e];)r[e]=JSON.parse(r[e]);return r[e]}return t}static deleteEntry(e){return n.default.storage.local.remove(e)}static async getAllAccounts(){let e=await d.getEntry("accounts",{});return Object.keys(e)}async getAccountData(e){let t=(await d.getEntry("accounts",{}))[this.accountId];return e&&(t.iv?(t.password=await i.Z.decryptAES(e,t.iv,t.password),delete t.iv):(t.password=await a().decryptAES(e,t.password,t.username),t.passphrase&&(t.passphrase=await a().decryptAES(e,t.passphrase,t.username)))),t}async setAccountData(e,t){let r=e;return t&&(e.iv&&delete e.iv,r={...e,password:await a().encryptAES(t,e.password,e.username),...e.passphrase&&{passphrase:await a().encryptAES(t,e.passphrase,e.username)}}),d.changeEntry("accounts",(e=>(e[this.accountId]=r,e)),{})}async deleteAccountData(){await d.changeEntry("accounts",(e=>(delete e[this.accountId],e))),await this.deleteCache(),await this.deleteMappings()}async initCache(){await d.changeEntry("bookmarks[".concat(this.accountId,"].cache"),(()=>({})))}async getCache(){const e=await d.getEntry("bookmarks[".concat(this.accountId,"].cache"));return c.Folder.hydrate(e&&Object.keys(e).length?e:{})}async setCache(e){await d.changeEntry("bookmarks[".concat(this.accountId,"].cache"),(()=>e))}async deleteCache(){await d.deleteEntry("bookmarks[".concat(this.accountId,"].cache"))}async initMappings(){await d.changeEntry("bookmarks[".concat(this.accountId,"].mappings"),(()=>({})))}async getMappings(){const e=await d.getEntry("bookmarks[".concat(this.accountId,"].mappings"));return new(u())(this,e&&Object.keys(e).length?e:{bookmarks:{ServerToLocal:{},LocalToServer:{}},folders:{ServerToLocal:{},LocalToServer:{}}})}async setMappings(e){await d.changeEntry("bookmarks[".concat(this.accountId,"].mappings"),(()=>e))}async deleteMappings(){await d.deleteEntry("bookmarks[".concat(this.accountId,"].mappings"))}}},42810:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>d});var n=r(38602),o=r(57516),a=r.n(o),i=r(42002),s=r(26941),u=r.n(s),c=r(40505),l=r(99758);const f=new(r.n(l)());class d{constructor(e){this.accountId=e}static async changeEntry(e,t,r){await f.acquire(e,(async()=>{let o=await d.getEntry(e,r);o=t(o),await n.Storage.set({key:e,value:JSON.stringify(o)})}))}static async getEntry(e,t){let r=await n.Storage.get({key:e});if(r.value){for(;"string"==typeof r.value;)r.value=JSON.parse(r.value);return r.value}return t}static deleteEntry(e){return n.Storage.remove({key:e})}static async getAllAccounts(){let e=await d.getEntry("accounts",{});return Object.keys(e)}async getAccountData(e){let t=(await d.getEntry("accounts",{}))[this.accountId];return e&&(t.iv?(t.password=await i.Z.decryptAES(e,t.iv,t.password),delete t.iv):(t.password=await a().decryptAES(e,t.password,t.username),t.passphrase&&(t.passphrase=await a().decryptAES(e,t.passphrase,t.username)))),t}async setAccountData(e,t){let r=e;return t&&(e.iv&&delete e.iv,r={...e,password:await a().encryptAES(t,e.password,e.username),...e.passphrase&&{passphrase:await a().encryptAES(t,e.passphrase,e.username)}}),d.changeEntry("accounts",(e=>(e[this.accountId]=r,e)),{})}async deleteAccountData(){await d.changeEntry("accounts",(e=>(delete e[this.accountId],e))),await this.deleteCache(),await this.deleteMappings()}async initCache(){await d.changeEntry("bookmarks[".concat(this.accountId,"].cache"),(()=>({})))}async getCache(){const e=await d.getEntry("bookmarks[".concat(this.accountId,"].cache"));return c.Folder.hydrate(e&&Object.keys(e).length?e:{})}async setCache(e){await d.changeEntry("bookmarks[".concat(this.accountId,"].cache"),(()=>e))}async deleteCache(){await d.deleteEntry("bookmarks[".concat(this.accountId,"].cache"))}async initMappings(){await d.changeEntry("bookmarks[".concat(this.accountId,"].mappings"),(()=>({})))}async getMappings(){const e=await d.getEntry("bookmarks[".concat(this.accountId,"].mappings"));return new(u())(this,e&&Object.keys(e).length?e:{bookmarks:{ServerToLocal:{},LocalToServer:{}},folders:{ServerToLocal:{},LocalToServer:{}}})}async setMappings(e){await d.changeEntry("bookmarks[".concat(this.accountId,"].mappings"),(()=>e))}async deleteMappings(){await d.deleteEntry("bookmarks[".concat(this.accountId,"].mappings"))}}},93290:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>y}),r(33948),r(57640),r(9924),r(88449),r(2490),r(59849),r(15581),r(34514);var n=r(38602),o=r(29007),a=r.n(o),i=r(28534),s=r.n(i),u=r(57516),c=r.n(u),l=r(4147),f=r(42810),d=r(15420),p=r(96486),h=r.n(p),m=r(12492),g=r.n(m);class v{constructor(e){this.ctl=e,setInterval((()=>this.checkSync()),6e4)}async checkSync(){const e=await f.default.getAllAccounts();for(let t of e){const e=(await a().get(t)).getData();(!e.lastSync||Date.now()>1e3*(e.syncInterval||15)*60+e.lastSync)&&this.ctl.scheduleSync(t)}}}class y{constructor(){this.jobs=new(g())({concurrency:1}),this.waiting={},this.schedule={},this.listeners=[],this.alarms=new v(this),n.Storage.get({key:"accountsLocked"}).then((async e=>{let{value:t}=e;this.setEnabled(!t),this.unlocked=!t,t&&(this.key=null)})),n.Storage.get({key:"currentVersion"}).then((async e=>{let{value:t}=e;if(l.i8===t)return;await n.Storage.set({key:"currentVersion",value:l.i8});const r=l.i8.split("."),o=t?t.split("."):[];r[0]!==o[0]||(r[1],o[1])}))}setEnabled(e){this.enabled=e}async setKey(e){let t=await a().getAllAccounts();await Promise.all(t.map((e=>e.updateFromStorage()))),this.key=e;let r=await c().sha256(e),o=await c().encryptAES(e,r,"FLOCCUS");await n.Storage.set({key:"accountsLocked",value:o}),t.length&&await Promise.all(t.map((e=>e.setData(e.getData())))),this.unlocked=!0,this.setEnabled(!0)}async unlock(e){let t=await n.Storage.get({key:"accountsLocked"});if(t){let r=await c().sha256(e);if(await c().decryptAES(e,t,"FLOCCUS")!==r)throw new Error("The provided key was wrong");this.key=e}this.unlocked=!0,this.setEnabled(!0)}async unsetKey(){if(!this.unlocked)throw new Error("Cannot disable encryption without unlocking first");let e=await a().getAllAccounts();await Promise.all(e.map((e=>e.updateFromStorage()))),this.key=null,await n.Storage.set({key:"accountsLocked",value:null}),await Promise.all(e.map((e=>e.setData(e.getData()))))}async onchange(e,t){if(!this.enabled)return;this.setEnabled(!1);const r=await a().getAllAccounts(),n=await Promise.all(r.map((async t=>t.tracksBookmark(e))));let o,i=r.filter(((e,t)=>n[t]));try{o=await s().getIdPathFromLocalId(e)}catch(e){return void this.setEnabled(!0)}const u=await a().getAccountsContainingLocalId(e,o,r);i=h().uniqBy(i.concat(u),(e=>e.id)).filter((e=>!e.getData().syncing)).filter((e=>e.getData().enabled)),i.forEach((e=>{this.cancelSync(e.id,!0),this.scheduleSync(e.id,!0)})),this.setEnabled(!0)}async scheduleSync(e,t){if(t)return this.schedule[e]&&clearTimeout(this.schedule[e]),void(this.schedule[e]=setTimeout((()=>this.scheduleSync(e)),6e4));let r=await a().get(e);return r.getData().syncing||!r.getData().enabled||this.waiting[e]?void 0:(this.waiting[e]=!0,this.jobs.add((()=>this.syncAccount(e))))}async cancelSync(e,t){let r=await a().get(e);t||await r.setData({...r.getData(),enabled:!1}),await r.cancelSync()}async syncAccount(e,t){if(this.waiting[e]=!1,!this.enabled)return;let r=await a().get(e);if(!r.getData().syncing){setTimeout((()=>this.updateStatus()),500);try{await r.sync(t)}catch(e){console.error(e)}this.updateStatus()}}async updateStatus(){this.listeners.forEach((e=>e()))}onStatusChange(e){this.listeners.push(e);let t=!1;return()=>{t||(this.listeners.splice(this.listeners.indexOf(e),1),t=!0)}}async onLoad(){const e=await a().getAllAccounts();await Promise.all(e.map((async e=>{e.getData().syncing&&await e.setData({...e.getData(),syncing:!1,error:d.i18n.getMessage("Error027")})})))}}let b;y.getSingleton=function(){return b||(b=new y),b}},36948:(e,t,r)=>{"use strict";const{countInDegrees:n,getRoots:o,getNonRoots:a}=r(93793);e.exports=e=>{const t=n(e),r=[];let i=o(t);for(;i.length;){r.push(i);const n=[];i.forEach((r=>{e[r].forEach((e=>{t[e]--,0===t[e]&&n.push(e)}))})),i=n}if(a(t).length)throw Error("Cycle(s) detected; toposort only works on acyclic graphs");return r}},93793:e=>{"use strict";const t=e=>t=>Object.entries(t).filter((([t,r])=>e(r))).map((([e,t])=>e)),r=t((e=>0===e)),n=t((e=>0!==e));e.exports={countInDegrees:e=>{const t={};return Object.entries(e).forEach((([e,r])=>{t[e]=t[e]||0,r.forEach((e=>{t[e]=t[e]||0,t[e]++}))})),t},getRoots:r,getNonRoots:n}},19662:(e,t,r)=>{var n=r(17854),o=r(60614),a=r(66330),i=n.TypeError;e.exports=function(e){if(o(e))return e;throw i(a(e)+" is not a function")}},39483:(e,t,r)=>{var n=r(17854),o=r(4411),a=r(66330),i=n.TypeError;e.exports=function(e){if(o(e))return e;throw i(a(e)+" is not a constructor")}},96077:(e,t,r)=>{var n=r(17854),o=r(60614),a=n.String,i=n.TypeError;e.exports=function(e){if("object"==typeof e||o(e))return e;throw i("Can't set "+a(e)+" as a prototype")}},51223:(e,t,r)=>{var n=r(5112),o=r(70030),a=r(3070),i=n("unscopables"),s=Array.prototype;null==s[i]&&a.f(s,i,{configurable:!0,value:o(null)}),e.exports=function(e){s[i][e]=!0}},25787:(e,t,r)=>{var n=r(17854),o=r(47976),a=n.TypeError;e.exports=function(e,t){if(o(t,e))return e;throw a("Incorrect invocation")}},19670:(e,t,r)=>{var n=r(17854),o=r(70111),a=n.String,i=n.TypeError;e.exports=function(e){if(o(e))return e;throw i(a(e)+" is not an object")}},24019:e=>{e.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},90260:(e,t,r)=>{"use strict";var n,o,a,i=r(24019),s=r(19781),u=r(17854),c=r(60614),l=r(70111),f=r(92597),d=r(70648),p=r(66330),h=r(68880),m=r(31320),g=r(3070).f,v=r(47976),y=r(79518),b=r(27674),w=r(5112),E=r(69711),k=u.Int8Array,L=k&&k.prototype,_=u.Uint8ClampedArray,S=_&&_.prototype,A=k&&y(k),x=L&&y(L),T=Object.prototype,O=u.TypeError,I=w("toStringTag"),R=E("TYPED_ARRAY_TAG"),D=E("TYPED_ARRAY_CONSTRUCTOR"),P=i&&!!b&&"Opera"!==d(u.opera),C=!1,F={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},j={BigInt64Array:8,BigUint64Array:8},U=function(e){if(!l(e))return!1;var t=d(e);return f(F,t)||f(j,t)};for(n in F)(a=(o=u[n])&&o.prototype)?h(a,D,o):P=!1;for(n in j)(a=(o=u[n])&&o.prototype)&&h(a,D,o);if((!P||!c(A)||A===Function.prototype)&&(A=function(){throw O("Incorrect invocation")},P))for(n in F)u[n]&&b(u[n],A);if((!P||!x||x===T)&&(x=A.prototype,P))for(n in F)u[n]&&b(u[n].prototype,x);if(P&&y(S)!==x&&b(S,x),s&&!f(x,I))for(n in C=!0,g(x,I,{get:function(){return l(this)?this[R]:void 0}}),F)u[n]&&h(u[n],R,n);e.exports={NATIVE_ARRAY_BUFFER_VIEWS:P,TYPED_ARRAY_CONSTRUCTOR:D,TYPED_ARRAY_TAG:C&&R,aTypedArray:function(e){if(U(e))return e;throw O("Target is not a typed array")},aTypedArrayConstructor:function(e){if(c(e)&&(!b||v(A,e)))return e;throw O(p(e)+" is not a typed array constructor")},exportTypedArrayMethod:function(e,t,r){if(s){if(r)for(var n in F){var o=u[n];if(o&&f(o.prototype,e))try{delete o.prototype[e]}catch(e){}}x[e]&&!r||m(x,e,r?t:P&&L[e]||t)}},exportTypedArrayStaticMethod:function(e,t,r){var n,o;if(s){if(b){if(r)for(n in F)if((o=u[n])&&f(o,e))try{delete o[e]}catch(e){}if(A[e]&&!r)return;try{return m(A,e,r?t:P&&A[e]||t)}catch(e){}}for(n in F)!(o=u[n])||o[e]&&!r||m(o,e,t)}},isView:function(e){if(!l(e))return!1;var t=d(e);return"DataView"===t||f(F,t)||f(j,t)},isTypedArray:U,TypedArray:A,TypedArrayPrototype:x}},13331:(e,t,r)=>{"use strict";var n=r(17854),o=r(1702),a=r(19781),i=r(24019),s=r(76530),u=r(68880),c=r(12248),l=r(47293),f=r(25787),d=r(19303),p=r(17466),h=r(57067),m=r(11179),g=r(79518),v=r(27674),y=r(8006).f,b=r(3070).f,w=r(21285),E=r(50206),k=r(58003),L=r(29909),_=s.PROPER,S=s.CONFIGURABLE,A=L.get,x=L.set,T="ArrayBuffer",O="Wrong index",I=n.ArrayBuffer,R=I,D=R&&R.prototype,P=n.DataView,C=P&&P.prototype,F=Object.prototype,j=n.Array,U=n.RangeError,N=o(w),M=o([].reverse),B=m.pack,z=m.unpack,V=function(e){return[255&e]},q=function(e){return[255&e,e>>8&255]},G=function(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]},W=function(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]},H=function(e){return B(e,23,4)},K=function(e){return B(e,52,8)},X=function(e,t){b(e.prototype,t,{get:function(){return A(this)[t]}})},$=function(e,t,r,n){var o=h(r),a=A(e);if(o+t>a.byteLength)throw U(O);var i=A(a.buffer).bytes,s=o+a.byteOffset,u=E(i,s,s+t);return n?u:M(u)},Y=function(e,t,r,n,o,a){var i=h(r),s=A(e);if(i+t>s.byteLength)throw U(O);for(var u=A(s.buffer).bytes,c=i+s.byteOffset,l=n(+o),f=0;f<t;f++)u[c+f]=l[a?f:t-f-1]};if(i){var J=_&&I.name!==T;if(l((function(){I(1)}))&&l((function(){new I(-1)}))&&!l((function(){return new I,new I(1.5),new I(NaN),J&&!S})))J&&S&&u(I,"name",T);else{(R=function(e){return f(this,D),new I(h(e))}).prototype=D;for(var Z,Q=y(I),ee=0;Q.length>ee;)(Z=Q[ee++])in R||u(R,Z,I[Z]);D.constructor=R}v&&g(C)!==F&&v(C,F);var te=new P(new R(2)),re=o(C.setInt8);te.setInt8(0,2147483648),te.setInt8(1,2147483649),!te.getInt8(0)&&te.getInt8(1)||c(C,{setInt8:function(e,t){re(this,e,t<<24>>24)},setUint8:function(e,t){re(this,e,t<<24>>24)}},{unsafe:!0})}else D=(R=function(e){f(this,D);var t=h(e);x(this,{bytes:N(j(t),0),byteLength:t}),a||(this.byteLength=t)}).prototype,C=(P=function(e,t,r){f(this,C),f(e,D);var n=A(e).byteLength,o=d(t);if(o<0||o>n)throw U("Wrong offset");if(o+(r=void 0===r?n-o:p(r))>n)throw U("Wrong length");x(this,{buffer:e,byteLength:r,byteOffset:o}),a||(this.buffer=e,this.byteLength=r,this.byteOffset=o)}).prototype,a&&(X(R,"byteLength"),X(P,"buffer"),X(P,"byteLength"),X(P,"byteOffset")),c(C,{getInt8:function(e){return $(this,1,e)[0]<<24>>24},getUint8:function(e){return $(this,1,e)[0]},getInt16:function(e){var t=$(this,2,e,arguments.length>1?arguments[1]:void 0);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=$(this,2,e,arguments.length>1?arguments[1]:void 0);return t[1]<<8|t[0]},getInt32:function(e){return W($(this,4,e,arguments.length>1?arguments[1]:void 0))},getUint32:function(e){return W($(this,4,e,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(e){return z($(this,4,e,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(e){return z($(this,8,e,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(e,t){Y(this,1,e,V,t)},setUint8:function(e,t){Y(this,1,e,V,t)},setInt16:function(e,t){Y(this,2,e,q,t,arguments.length>2?arguments[2]:void 0)},setUint16:function(e,t){Y(this,2,e,q,t,arguments.length>2?arguments[2]:void 0)},setInt32:function(e,t){Y(this,4,e,G,t,arguments.length>2?arguments[2]:void 0)},setUint32:function(e,t){Y(this,4,e,G,t,arguments.length>2?arguments[2]:void 0)},setFloat32:function(e,t){Y(this,4,e,H,t,arguments.length>2?arguments[2]:void 0)},setFloat64:function(e,t){Y(this,8,e,K,t,arguments.length>2?arguments[2]:void 0)}});k(R,T),k(P,"DataView"),e.exports={ArrayBuffer:R,DataView:P}},21285:(e,t,r)=>{"use strict";var n=r(47908),o=r(51400),a=r(26244);e.exports=function(e){for(var t=n(this),r=a(t),i=arguments.length,s=o(i>1?arguments[1]:void 0,r),u=i>2?arguments[2]:void 0,c=void 0===u?r:o(u,r);c>s;)t[s++]=e;return t}},97745:e=>{e.exports=function(e,t){for(var r=0,n=t.length,o=new e(n);n>r;)o[r]=t[r++];return o}},48457:(e,t,r)=>{"use strict";var n=r(17854),o=r(49974),a=r(46916),i=r(47908),s=r(53411),u=r(97659),c=r(4411),l=r(26244),f=r(86135),d=r(18554),p=r(71246),h=n.Array;e.exports=function(e){var t=i(e),r=c(this),n=arguments.length,m=n>1?arguments[1]:void 0,g=void 0!==m;g&&(m=o(m,n>2?arguments[2]:void 0));var v,y,b,w,E,k,L=p(t),_=0;if(!L||this==h&&u(L))for(v=l(t),y=r?new this(v):h(v);v>_;_++)k=g?m(t[_],_):t[_],f(y,_,k);else for(E=(w=d(t,L)).next,y=r?new this:[];!(b=a(E,w)).done;_++)k=g?s(w,m,[b.value,_],!0):b.value,f(y,_,k);return y.length=_,y}},61386:(e,t,r)=>{var n=r(17854),o=r(49974),a=r(1702),i=r(68361),s=r(47908),u=r(34948),c=r(26244),l=r(70030),f=r(97745),d=n.Array,p=a([].push);e.exports=function(e,t,r,n){for(var a,h,m,g=s(e),v=i(g),y=o(t,r),b=l(null),w=c(v),E=0;w>E;E++)m=v[E],(h=u(y(m,E,g)))in b?p(b[h],m):b[h]=[m];if(n&&(a=n(g))!==d)for(h in b)b[h]=f(a,b[h]);return b}},41318:(e,t,r)=>{var n=r(45656),o=r(51400),a=r(26244),i=function(e){return function(t,r,i){var s,u=n(t),c=a(u),l=o(i,c);if(e&&r!=r){for(;c>l;)if((s=u[l++])!=s)return!0}else for(;c>l;l++)if((e||l in u)&&u[l]===r)return e||l||0;return!e&&-1}};e.exports={includes:i(!0),indexOf:i(!1)}},9671:(e,t,r)=>{var n=r(49974),o=r(68361),a=r(47908),i=r(26244),s=function(e){var t=1==e;return function(r,s,u){for(var c,l=a(r),f=o(l),d=n(s,u),p=i(f);p-- >0;)if(d(c=f[p],p,l))switch(e){case 0:return c;case 1:return p}return t?-1:void 0}};e.exports={findLast:s(0),findLastIndex:s(1)}},42092:(e,t,r)=>{var n=r(49974),o=r(1702),a=r(68361),i=r(47908),s=r(26244),u=r(65417),c=o([].push),l=function(e){var t=1==e,r=2==e,o=3==e,l=4==e,f=6==e,d=7==e,p=5==e||f;return function(h,m,g,v){for(var y,b,w=i(h),E=a(w),k=n(m,g),L=s(E),_=0,S=v||u,A=t?S(h,L):r||d?S(h,0):void 0;L>_;_++)if((p||_ in E)&&(b=k(y=E[_],_,w),e))if(t)A[_]=b;else if(b)switch(e){case 3:return!0;case 5:return y;case 6:return _;case 2:c(A,y)}else switch(e){case 4:return!1;case 7:c(A,y)}return f?-1:o||l?l:A}};e.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6),filterReject:l(7)}},50206:(e,t,r)=>{var n=r(1702);e.exports=n([].slice)},94362:(e,t,r)=>{var n=r(50206),o=Math.floor,a=function(e,t){var r=e.length,u=o(r/2);return r<8?i(e,t):s(e,a(n(e,0,u),t),a(n(e,u),t),t)},i=function(e,t){for(var r,n,o=e.length,a=1;a<o;){for(n=a,r=e[a];n&&t(e[n-1],r)>0;)e[n]=e[--n];n!==a++&&(e[n]=r)}return e},s=function(e,t,r,n){for(var o=t.length,a=r.length,i=0,s=0;i<o||s<a;)e[i+s]=i<o&&s<a?n(t[i],r[s])<=0?t[i++]:r[s++]:i<o?t[i++]:r[s++];return e};e.exports=a},77475:(e,t,r)=>{var n=r(17854),o=r(43157),a=r(4411),i=r(70111),s=r(5112)("species"),u=n.Array;e.exports=function(e){var t;return o(e)&&(t=e.constructor,(a(t)&&(t===u||o(t.prototype))||i(t)&&null===(t=t[s]))&&(t=void 0)),void 0===t?u:t}},65417:(e,t,r)=>{var n=r(77475);e.exports=function(e,t){return new(n(e))(0===t?0:t)}},60956:(e,t,r)=>{"use strict";var n=r(35005),o=r(1702),a=r(19662),i=r(26244),s=r(47908),u=r(65417),c=n("Map"),l=c.prototype,f=o(l.forEach),d=o(l.has),p=o(l.set),h=o([].push);e.exports=function(e){var t,r,n,o=s(this),l=i(o),m=u(o,0),g=new c,v=null!=e?a(e):function(e){return e};for(t=0;t<l;t++)n=v(r=o[t]),d(g,n)||p(g,n,r);return f(g,(function(e){h(m,e)})),m}},45348:(e,t,r)=>{"use strict";var n=r(46916),o=r(19662),a=r(19670),i=r(70030),s=r(68880),u=r(12248),c=r(5112),l=r(29909),f=r(35005),d=r(58173),p=r(66462),h=f("Promise"),m=l.set,g=l.get,v=c("toStringTag");e.exports=function(e,t){var r=function(e){e.next=o(e.iterator.next),e.done=!1,e.ignoreArgument=!t,m(this,e)};return r.prototype=u(i(p),{next:function(r){var o=this,i=!!arguments.length;return new h((function(s){var u=g(o),c=i?[u.ignoreArgument?void 0:r]:t?[]:[void 0];u.ignoreArgument=!1,s(u.done?{done:!0,value:void 0}:a(n(e,u,h,c)))}))},return:function(e){var t=this;return new h((function(r,o){var i=g(t),s=i.iterator;i.done=!0;var u=d(s,"return");if(void 0===u)return r({done:!0,value:e});h.resolve(n(u,s,e)).then((function(t){a(t),r({done:!0,value:e})}),o)}))},throw:function(e){var t=this;return new h((function(r,o){var a=g(t),i=a.iterator;a.done=!0;var s=d(i,"throw");if(void 0===s)return o(e);r(n(s,i,e))}))}}),t||s(r.prototype,v,"Generator"),r}},12269:(e,t,r)=>{"use strict";var n=r(17854),o=r(46916),a=r(19662),i=r(19670),s=r(35005),u=r(58173),c=n.TypeError,l=function(e){var t=0==e,r=1==e,n=2==e,l=3==e;return function(e,f,d){i(e);var p=s("Promise"),h=a(e.next),m=0,g=void 0!==f;return!g&&t||a(f),new p((function(a,s){var v=function(t,r){try{var n=u(e,"return");if(n)return p.resolve(o(n,e)).then((function(){t(r)}),(function(e){s(e)}))}catch(e){return s(e)}t(r)},y=function(e){v(s,e)},b=function(){try{if(t&&m>9007199254740991&&g)throw c("The allowed number of iterations has been exceeded");p.resolve(i(o(h,e))).then((function(e){try{if(i(e).done)t?(d.length=m,a(d)):a(!l&&(n||void 0));else{var o=e.value;g?p.resolve(t?f(o,m):f(o)).then((function(e){r?b():n?e?b():v(a,!1):t?(d[m++]=e,b()):e?v(a,l||o):b()}),y):(d[m++]=o,b())}}catch(e){y(e)}}),y)}catch(e){y(e)}};b()}))}};e.exports={toArray:l(0),forEach:l(1),every:l(2),some:l(3),find:l(4)}},66462:(e,t,r)=>{var n,o,a=r(17854),i=r(5465),s=r(60614),u=r(70030),c=r(79518),l=r(31320),f=r(5112),d=r(31913),p=f("asyncIterator"),h=a.AsyncIterator,m=i.AsyncIteratorPrototype;if(m)n=m;else if(s(h))n=h.prototype;else if(i.USE_FUNCTION_CONSTRUCTOR||a.USE_FUNCTION_CONSTRUCTOR)try{o=c(c(c(Function("return async function*(){}()")()))),c(o)===Object.prototype&&(n=o)}catch(e){}n?d&&(n=u(n)):n={},s(n[p])||l(n,p,(function(){return this})),e.exports=n},53411:(e,t,r)=>{var n=r(19670),o=r(99212);e.exports=function(e,t,r,a){try{return a?t(n(r)[0],r[1]):t(r)}catch(t){o(e,"throw",t)}}},17072:(e,t,r)=>{var n=r(5112)("iterator"),o=!1;try{var a=0,i={next:function(){return{done:!!a++}},return:function(){o=!0}};i[n]=function(){return this},Array.from(i,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!o)return!1;var r=!1;try{var a={};a[n]=function(){return{next:function(){return{done:r=!0}}}},e(a)}catch(e){}return r}},84326:(e,t,r)=>{var n=r(1702),o=n({}.toString),a=n("".slice);e.exports=function(e){return a(o(e),8,-1)}},70648:(e,t,r)=>{var n=r(17854),o=r(51694),a=r(60614),i=r(84326),s=r(5112)("toStringTag"),u=n.Object,c="Arguments"==i(function(){return arguments}());e.exports=o?i:function(e){var t,r,n;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=function(e,t){try{return e[t]}catch(e){}}(t=u(e),s))?r:c?i(t):"Object"==(n=i(t))&&a(t.callee)?"Arguments":n}},99920:(e,t,r)=>{var n=r(92597),o=r(53887),a=r(31236),i=r(3070);e.exports=function(e,t){for(var r=o(t),s=i.f,u=a.f,c=0;c<r.length;c++){var l=r[c];n(e,l)||s(e,l,u(t,l))}}},49920:(e,t,r)=>{var n=r(47293);e.exports=!n((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},24994:(e,t,r)=>{"use strict";var n=r(13383).IteratorPrototype,o=r(70030),a=r(79114),i=r(58003),s=r(97497),u=function(){return this};e.exports=function(e,t,r){var c=t+" Iterator";return e.prototype=o(n,{next:a(1,r)}),i(e,c,!1,!0),s[c]=u,e}},68880:(e,t,r)=>{var n=r(19781),o=r(3070),a=r(79114);e.exports=n?function(e,t,r){return o.f(e,t,a(1,r))}:function(e,t,r){return e[t]=r,e}},79114:e=>{e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},86135:(e,t,r)=>{"use strict";var n=r(34948),o=r(3070),a=r(79114);e.exports=function(e,t,r){var i=n(t);i in e?o.f(e,i,a(0,r)):e[i]=r}},70654:(e,t,r)=>{"use strict";var n=r(82109),o=r(46916),a=r(31913),i=r(76530),s=r(60614),u=r(24994),c=r(79518),l=r(27674),f=r(58003),d=r(68880),p=r(31320),h=r(5112),m=r(97497),g=r(13383),v=i.PROPER,y=i.CONFIGURABLE,b=g.IteratorPrototype,w=g.BUGGY_SAFARI_ITERATORS,E=h("iterator"),k="keys",L="values",_="entries",S=function(){return this};e.exports=function(e,t,r,i,h,g,A){u(r,t,i);var x,T,O,I=function(e){if(e===h&&F)return F;if(!w&&e in P)return P[e];switch(e){case k:case L:case _:return function(){return new r(this,e)}}return function(){return new r(this)}},R=t+" Iterator",D=!1,P=e.prototype,C=P[E]||P["@@iterator"]||h&&P[h],F=!w&&C||I(h),j="Array"==t&&P.entries||C;if(j&&(x=c(j.call(new e)))!==Object.prototype&&x.next&&(a||c(x)===b||(l?l(x,b):s(x[E])||p(x,E,S)),f(x,R,!0,!0),a&&(m[R]=S)),v&&h==L&&C&&C.name!==L&&(!a&&y?d(P,"name",L):(D=!0,F=function(){return o(C,this)})),h)if(T={values:I(L),keys:g?F:I(k),entries:I(_)},A)for(O in T)(w||D||!(O in P))&&p(P,O,T[O]);else n({target:t,proto:!0,forced:w||D},T);return a&&!A||P[E]===F||p(P,E,F,{name:h}),m[t]=F,T}},19781:(e,t,r)=>{var n=r(47293);e.exports=!n((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},80317:(e,t,r)=>{var n=r(17854),o=r(70111),a=n.document,i=o(a)&&o(a.createElement);e.exports=function(e){return i?a.createElement(e):{}}},48324:e=>{e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},98509:(e,t,r)=>{var n=r(80317)("span").classList,o=n&&n.constructor&&n.constructor.prototype;e.exports=o===Object.prototype?void 0:o},68886:(e,t,r)=>{var n=r(88113).match(/firefox\/(\d+)/i);e.exports=!!n&&+n[1]},30256:(e,t,r)=>{var n=r(88113);e.exports=/MSIE|Trident/.test(n)},88113:(e,t,r)=>{var n=r(35005);e.exports=n("navigator","userAgent")||""},7392:(e,t,r)=>{var n,o,a=r(17854),i=r(88113),s=a.process,u=a.Deno,c=s&&s.versions||u&&u.version,l=c&&c.v8;l&&(o=(n=l.split("."))[0]>0&&n[0]<4?1:+(n[0]+n[1])),!o&&i&&(!(n=i.match(/Edge\/(\d+)/))||n[1]>=74)&&(n=i.match(/Chrome\/(\d+)/))&&(o=+n[1]),e.exports=o},98008:(e,t,r)=>{var n=r(88113).match(/AppleWebKit\/(\d+)\./);e.exports=!!n&&+n[1]},80748:e=>{e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},82109:(e,t,r)=>{var n=r(17854),o=r(31236).f,a=r(68880),i=r(31320),s=r(83505),u=r(99920),c=r(54705);e.exports=function(e,t){var r,l,f,d,p,h=e.target,m=e.global,g=e.stat;if(r=m?n:g?n[h]||s(h,{}):(n[h]||{}).prototype)for(l in t){if(d=t[l],f=e.noTargetGet?(p=o(r,l))&&p.value:r[l],!c(m?l:h+(g?".":"#")+l,e.forced)&&void 0!==f){if(typeof d==typeof f)continue;u(d,f)}(e.sham||f&&f.sham)&&a(d,"sham",!0),i(r,l,d,e)}}},47293:e=>{e.exports=function(e){try{return!!e()}catch(e){return!0}}},22104:e=>{var t=Function.prototype,r=t.apply,n=t.bind,o=t.call;e.exports="object"==typeof Reflect&&Reflect.apply||(n?o.bind(r):function(){return o.apply(r,arguments)})},49974:(e,t,r)=>{var n=r(1702),o=r(19662),a=n(n.bind);e.exports=function(e,t){return o(e),void 0===t?e:a?a(e,t):function(){return e.apply(t,arguments)}}},46916:e=>{var t=Function.prototype.call;e.exports=t.bind?t.bind(t):function(){return t.apply(t,arguments)}},76530:(e,t,r)=>{var n=r(19781),o=r(92597),a=Function.prototype,i=n&&Object.getOwnPropertyDescriptor,s=o(a,"name"),u=s&&"something"===function(){}.name,c=s&&(!n||n&&i(a,"name").configurable);e.exports={EXISTS:s,PROPER:u,CONFIGURABLE:c}},1702:e=>{var t=Function.prototype,r=t.bind,n=t.call,o=r&&r.bind(n);e.exports=r?function(e){return e&&o(n,e)}:function(e){return e&&function(){return n.apply(e,arguments)}}},35005:(e,t,r)=>{var n=r(17854),o=r(60614),a=function(e){return o(e)?e:void 0};e.exports=function(e,t){return arguments.length<2?a(n[e]):n[e]&&n[e][t]}},71246:(e,t,r)=>{var n=r(70648),o=r(58173),a=r(97497),i=r(5112)("iterator");e.exports=function(e){if(null!=e)return o(e,i)||o(e,"@@iterator")||a[n(e)]}},18554:(e,t,r)=>{var n=r(17854),o=r(46916),a=r(19662),i=r(19670),s=r(66330),u=r(71246),c=n.TypeError;e.exports=function(e,t){var r=arguments.length<2?u(e):t;if(a(r))return i(o(r,e));throw c(s(e)+" is not iterable")}},58173:(e,t,r)=>{var n=r(19662);e.exports=function(e,t){var r=e[t];return null==r?void 0:n(r)}},17854:(e,t,r)=>{var n=function(e){return e&&e.Math==Math&&e};e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof r.g&&r.g)||function(){return this}()||Function("return this")()},92597:(e,t,r)=>{var n=r(1702),o=r(47908),a=n({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return a(o(e),t)}},3501:e=>{e.exports={}},60490:(e,t,r)=>{var n=r(35005);e.exports=n("document","documentElement")},64664:(e,t,r)=>{var n=r(19781),o=r(47293),a=r(80317);e.exports=!n&&!o((function(){return 7!=Object.defineProperty(a("div"),"a",{get:function(){return 7}}).a}))},11179:(e,t,r)=>{var n=r(17854).Array,o=Math.abs,a=Math.pow,i=Math.floor,s=Math.log,u=Math.LN2;e.exports={pack:function(e,t,r){var c,l,f,d=n(r),p=8*r-t-1,h=(1<<p)-1,m=h>>1,g=23===t?a(2,-24)-a(2,-77):0,v=e<0||0===e&&1/e<0?1:0,y=0;for((e=o(e))!=e||e===1/0?(l=e!=e?1:0,c=h):(c=i(s(e)/u),e*(f=a(2,-c))<1&&(c--,f*=2),(e+=c+m>=1?g/f:g*a(2,1-m))*f>=2&&(c++,f/=2),c+m>=h?(l=0,c=h):c+m>=1?(l=(e*f-1)*a(2,t),c+=m):(l=e*a(2,m-1)*a(2,t),c=0));t>=8;d[y++]=255&l,l/=256,t-=8);for(c=c<<t|l,p+=t;p>0;d[y++]=255&c,c/=256,p-=8);return d[--y]|=128*v,d},unpack:function(e,t){var r,n=e.length,o=8*n-t-1,i=(1<<o)-1,s=i>>1,u=o-7,c=n-1,l=e[c--],f=127&l;for(l>>=7;u>0;f=256*f+e[c],c--,u-=8);for(r=f&(1<<-u)-1,f>>=-u,u+=t;u>0;r=256*r+e[c],c--,u-=8);if(0===f)f=1-s;else{if(f===i)return r?NaN:l?-1/0:1/0;r+=a(2,t),f-=s}return(l?-1:1)*r*a(2,f-t)}}},68361:(e,t,r)=>{var n=r(17854),o=r(1702),a=r(47293),i=r(84326),s=n.Object,u=o("".split);e.exports=a((function(){return!s("z").propertyIsEnumerable(0)}))?function(e){return"String"==i(e)?u(e,""):s(e)}:s},79587:(e,t,r)=>{var n=r(60614),o=r(70111),a=r(27674);e.exports=function(e,t,r){var i,s;return a&&n(i=t.constructor)&&i!==r&&o(s=i.prototype)&&s!==r.prototype&&a(e,s),e}},42788:(e,t,r)=>{var n=r(1702),o=r(60614),a=r(5465),i=n(Function.toString);o(a.inspectSource)||(a.inspectSource=function(e){return i(e)}),e.exports=a.inspectSource},29909:(e,t,r)=>{var n,o,a,i=r(68536),s=r(17854),u=r(1702),c=r(70111),l=r(68880),f=r(92597),d=r(5465),p=r(6200),h=r(3501),m="Object already initialized",g=s.TypeError,v=s.WeakMap;if(i||d.state){var y=d.state||(d.state=new v),b=u(y.get),w=u(y.has),E=u(y.set);n=function(e,t){if(w(y,e))throw new g(m);return t.facade=e,E(y,e,t),t},o=function(e){return b(y,e)||{}},a=function(e){return w(y,e)}}else{var k=p("state");h[k]=!0,n=function(e,t){if(f(e,k))throw new g(m);return t.facade=e,l(e,k,t),t},o=function(e){return f(e,k)?e[k]:{}},a=function(e){return f(e,k)}}e.exports={set:n,get:o,has:a,enforce:function(e){return a(e)?o(e):n(e,{})},getterFor:function(e){return function(t){var r;if(!c(t)||(r=o(t)).type!==e)throw g("Incompatible receiver, "+e+" required");return r}}}},97659:(e,t,r)=>{var n=r(5112),o=r(97497),a=n("iterator"),i=Array.prototype;e.exports=function(e){return void 0!==e&&(o.Array===e||i[a]===e)}},43157:(e,t,r)=>{var n=r(84326);e.exports=Array.isArray||function(e){return"Array"==n(e)}},60614:e=>{e.exports=function(e){return"function"==typeof e}},4411:(e,t,r)=>{var n=r(1702),o=r(47293),a=r(60614),i=r(70648),s=r(35005),u=r(42788),c=function(){},l=[],f=s("Reflect","construct"),d=/^\s*(?:class|function)\b/,p=n(d.exec),h=!d.exec(c),m=function(e){if(!a(e))return!1;try{return f(c,l,e),!0}catch(e){return!1}};e.exports=!f||o((function(){var e;return m(m.call)||!m(Object)||!m((function(){e=!0}))||e}))?function(e){if(!a(e))return!1;switch(i(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}return h||!!p(d,u(e))}:m},54705:(e,t,r)=>{var n=r(47293),o=r(60614),a=/#|\.prototype\./,i=function(e,t){var r=u[s(e)];return r==l||r!=c&&(o(t)?n(t):!!t)},s=i.normalize=function(e){return String(e).replace(a,".").toLowerCase()},u=i.data={},c=i.NATIVE="N",l=i.POLYFILL="P";e.exports=i},55988:(e,t,r)=>{var n=r(70111),o=Math.floor;e.exports=Number.isInteger||function(e){return!n(e)&&isFinite(e)&&o(e)===e}},70111:(e,t,r)=>{var n=r(60614);e.exports=function(e){return"object"==typeof e?null!==e:n(e)}},31913:e=>{e.exports=!1},52190:(e,t,r)=>{var n=r(17854),o=r(35005),a=r(60614),i=r(47976),s=r(43307),u=n.Object;e.exports=s?function(e){return"symbol"==typeof e}:function(e){var t=o("Symbol");return a(t)&&i(t.prototype,u(e))}},20408:(e,t,r)=>{var n=r(17854),o=r(49974),a=r(46916),i=r(19670),s=r(66330),u=r(97659),c=r(26244),l=r(47976),f=r(18554),d=r(71246),p=r(99212),h=n.TypeError,m=function(e,t){this.stopped=e,this.result=t},g=m.prototype;e.exports=function(e,t,r){var n,v,y,b,w,E,k,L=r&&r.that,_=!(!r||!r.AS_ENTRIES),S=!(!r||!r.IS_ITERATOR),A=!(!r||!r.INTERRUPTED),x=o(t,L),T=function(e){return n&&p(n,"normal",e),new m(!0,e)},O=function(e){return _?(i(e),A?x(e[0],e[1],T):x(e[0],e[1])):A?x(e,T):x(e)};if(S)n=e;else{if(!(v=d(e)))throw h(s(e)+" is not iterable");if(u(v)){for(y=0,b=c(e);b>y;y++)if((w=O(e[y]))&&l(g,w))return w;return new m(!1)}n=f(e,v)}for(E=n.next;!(k=a(E,n)).done;){try{w=O(k.value)}catch(e){p(n,"throw",e)}if("object"==typeof w&&w&&l(g,w))return w}return new m(!1)}},99212:(e,t,r)=>{var n=r(46916),o=r(19670),a=r(58173);e.exports=function(e,t,r){var i,s;o(e);try{if(!(i=a(e,"return"))){if("throw"===t)throw r;return r}i=n(i,e)}catch(e){s=!0,i=e}if("throw"===t)throw r;if(s)throw i;return o(i),r}},54956:(e,t,r)=>{"use strict";var n=r(46916),o=r(19662),a=r(19670),i=r(70030),s=r(68880),u=r(12248),c=r(5112),l=r(29909),f=r(58173),d=r(13383).IteratorPrototype,p=l.set,h=l.get,m=c("toStringTag");e.exports=function(e,t){var r=function(e){e.next=o(e.iterator.next),e.done=!1,e.ignoreArg=!t,p(this,e)};return r.prototype=u(i(d),{next:function(r){var o=h(this),a=arguments.length?[o.ignoreArg?void 0:r]:t?[]:[void 0];o.ignoreArg=!1;var i=o.done?void 0:n(e,o,a);return{done:o.done,value:i}},return:function(e){var t=h(this),r=t.iterator;t.done=!0;var o=f(r,"return");return{done:!0,value:o?a(n(o,r,e)).value:e}},throw:function(e){var t=h(this),r=t.iterator;t.done=!0;var o=f(r,"throw");if(o)return n(o,r,e);throw e}}),t||s(r.prototype,m,"Generator"),r}},13383:(e,t,r)=>{"use strict";var n,o,a,i=r(47293),s=r(60614),u=r(70030),c=r(79518),l=r(31320),f=r(5112),d=r(31913),p=f("iterator"),h=!1;[].keys&&("next"in(a=[].keys())?(o=c(c(a)))!==Object.prototype&&(n=o):h=!0),null==n||i((function(){var e={};return n[p].call(e)!==e}))?n={}:d&&(n=u(n)),s(n[p])||l(n,p,(function(){return this})),e.exports={IteratorPrototype:n,BUGGY_SAFARI_ITERATORS:h}},97497:e=>{e.exports={}},26244:(e,t,r)=>{var n=r(17466);e.exports=function(e){return n(e.length)}},30133:(e,t,r)=>{var n=r(7392),o=r(47293);e.exports=!!Object.getOwnPropertySymbols&&!o((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&n&&n<41}))},590:(e,t,r)=>{var n=r(47293),o=r(5112),a=r(31913),i=o("iterator");e.exports=!n((function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,r="";return e.pathname="c%20d",t.forEach((function(e,n){t.delete("b"),r+=n+e})),a&&!e.toJSON||!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[i]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://").host||"#%D0%B1"!==new URL("http://a#").hash||"a1c3"!==r||"x"!==new URL("http://x",void 0).host}))},68536:(e,t,r)=>{var n=r(17854),o=r(60614),a=r(42788),i=n.WeakMap;e.exports=o(i)&&/native code/.test(a(i))},21574:(e,t,r)=>{"use strict";var n=r(19781),o=r(1702),a=r(46916),i=r(47293),s=r(81956),u=r(25181),c=r(55296),l=r(47908),f=r(68361),d=Object.assign,p=Object.defineProperty,h=o([].concat);e.exports=!d||i((function(){if(n&&1!==d({b:1},d(p({},"a",{enumerable:!0,get:function(){p(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},r=Symbol(),o="abcdefghijklmnopqrst";return e[r]=7,o.split("").forEach((function(e){t[e]=e})),7!=d({},e)[r]||s(d({},t)).join("")!=o}))?function(e,t){for(var r=l(e),o=arguments.length,i=1,d=u.f,p=c.f;o>i;)for(var m,g=f(arguments[i++]),v=d?h(s(g),d(g)):s(g),y=v.length,b=0;y>b;)m=v[b++],n&&!a(p,g,m)||(r[m]=g[m]);return r}:d},70030:(e,t,r)=>{var n,o=r(19670),a=r(36048),i=r(80748),s=r(3501),u=r(60490),c=r(80317),l=r(6200)("IE_PROTO"),f=function(){},d=function(e){return"<script>"+e+"<\/script>"},p=function(e){e.write(d("")),e.close();var t=e.parentWindow.Object;return e=null,t},h=function(){try{n=new ActiveXObject("htmlfile")}catch(e){}var e,t;h="undefined"!=typeof document?document.domain&&n?p(n):((t=c("iframe")).style.display="none",u.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(d("document.F=Object")),e.close(),e.F):p(n);for(var r=i.length;r--;)delete h.prototype[i[r]];return h()};s[l]=!0,e.exports=Object.create||function(e,t){var r;return null!==e?(f.prototype=o(e),r=new f,f.prototype=null,r[l]=e):r=h(),void 0===t?r:a(r,t)}},36048:(e,t,r)=>{var n=r(19781),o=r(3070),a=r(19670),i=r(45656),s=r(81956);e.exports=n?Object.defineProperties:function(e,t){a(e);for(var r,n=i(t),u=s(t),c=u.length,l=0;c>l;)o.f(e,r=u[l++],n[r]);return e}},3070:(e,t,r)=>{var n=r(17854),o=r(19781),a=r(64664),i=r(19670),s=r(34948),u=n.TypeError,c=Object.defineProperty;t.f=o?c:function(e,t,r){if(i(e),t=s(t),i(r),a)try{return c(e,t,r)}catch(e){}if("get"in r||"set"in r)throw u("Accessors not supported");return"value"in r&&(e[t]=r.value),e}},31236:(e,t,r)=>{var n=r(19781),o=r(46916),a=r(55296),i=r(79114),s=r(45656),u=r(34948),c=r(92597),l=r(64664),f=Object.getOwnPropertyDescriptor;t.f=n?f:function(e,t){if(e=s(e),t=u(t),l)try{return f(e,t)}catch(e){}if(c(e,t))return i(!o(a.f,e,t),e[t])}},8006:(e,t,r)=>{var n=r(16324),o=r(80748).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,o)}},25181:(e,t)=>{t.f=Object.getOwnPropertySymbols},79518:(e,t,r)=>{var n=r(17854),o=r(92597),a=r(60614),i=r(47908),s=r(6200),u=r(49920),c=s("IE_PROTO"),l=n.Object,f=l.prototype;e.exports=u?l.getPrototypeOf:function(e){var t=i(e);if(o(t,c))return t[c];var r=t.constructor;return a(r)&&t instanceof r?r.prototype:t instanceof l?f:null}},47976:(e,t,r)=>{var n=r(1702);e.exports=n({}.isPrototypeOf)},16324:(e,t,r)=>{var n=r(1702),o=r(92597),a=r(45656),i=r(41318).indexOf,s=r(3501),u=n([].push);e.exports=function(e,t){var r,n=a(e),c=0,l=[];for(r in n)!o(s,r)&&o(n,r)&&u(l,r);for(;t.length>c;)o(n,r=t[c++])&&(~i(l,r)||u(l,r));return l}},81956:(e,t,r)=>{var n=r(16324),o=r(80748);e.exports=Object.keys||function(e){return n(e,o)}},55296:(e,t)=>{"use strict";var r={}.propertyIsEnumerable,n=Object.getOwnPropertyDescriptor,o=n&&!r.call({1:2},1);t.f=o?function(e){var t=n(this,e);return!!t&&t.enumerable}:r},27674:(e,t,r)=>{var n=r(1702),o=r(19670),a=r(96077);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,r={};try{(e=n(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(r,[]),t=r instanceof Array}catch(e){}return function(r,n){return o(r),a(n),t?e(r,n):r.__proto__=n,r}}():void 0)},92140:(e,t,r)=>{var n=r(17854),o=r(46916),a=r(60614),i=r(70111),s=n.TypeError;e.exports=function(e,t){var r,n;if("string"===t&&a(r=e.toString)&&!i(n=o(r,e)))return n;if(a(r=e.valueOf)&&!i(n=o(r,e)))return n;if("string"!==t&&a(r=e.toString)&&!i(n=o(r,e)))return n;throw s("Can't convert object to primitive value")}},53887:(e,t,r)=>{var n=r(35005),o=r(1702),a=r(8006),i=r(25181),s=r(19670),u=o([].concat);e.exports=n("Reflect","ownKeys")||function(e){var t=a.f(s(e)),r=i.f;return r?u(t,r(e)):t}},12248:(e,t,r)=>{var n=r(31320);e.exports=function(e,t,r){for(var o in t)n(e,o,t[o],r);return e}},31320:(e,t,r)=>{var n=r(17854),o=r(60614),a=r(92597),i=r(68880),s=r(83505),u=r(42788),c=r(29909),l=r(76530).CONFIGURABLE,f=c.get,d=c.enforce,p=String(String).split("String");(e.exports=function(e,t,r,u){var c,f=!!u&&!!u.unsafe,h=!!u&&!!u.enumerable,m=!!u&&!!u.noTargetGet,g=u&&void 0!==u.name?u.name:t;o(r)&&("Symbol("===String(g).slice(0,7)&&(g="["+String(g).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!a(r,"name")||l&&r.name!==g)&&i(r,"name",g),(c=d(r)).source||(c.source=p.join("string"==typeof g?g:""))),e!==n?(f?!m&&e[t]&&(h=!0):delete e[t],h?e[t]=r:i(e,t,r)):h?e[t]=r:s(t,r)})(Function.prototype,"toString",(function(){return o(this)&&f(this).source||u(this)}))},84488:(e,t,r)=>{var n=r(17854).TypeError;e.exports=function(e){if(null==e)throw n("Can't call method on "+e);return e}},83505:(e,t,r)=>{var n=r(17854),o=Object.defineProperty;e.exports=function(e,t){try{o(n,e,{value:t,configurable:!0,writable:!0})}catch(r){n[e]=t}return t}},96340:(e,t,r)=>{"use strict";var n=r(35005),o=r(3070),a=r(5112),i=r(19781),s=a("species");e.exports=function(e){var t=n(e),r=o.f;i&&t&&!t[s]&&r(t,s,{configurable:!0,get:function(){return this}})}},58003:(e,t,r)=>{var n=r(3070).f,o=r(92597),a=r(5112)("toStringTag");e.exports=function(e,t,r){e&&!o(e=r?e:e.prototype,a)&&n(e,a,{configurable:!0,value:t})}},6200:(e,t,r)=>{var n=r(72309),o=r(69711),a=n("keys");e.exports=function(e){return a[e]||(a[e]=o(e))}},5465:(e,t,r)=>{var n=r(17854),o=r(83505),a="__core-js_shared__",i=n[a]||o(a,{});e.exports=i},72309:(e,t,r)=>{var n=r(31913),o=r(5465);(e.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.19.0",mode:n?"pure":"global",copyright:" 2021 Denis Pushkarev (zloirock.ru)"})},36707:(e,t,r)=>{var n=r(19670),o=r(39483),a=r(5112)("species");e.exports=function(e,t){var r,i=n(e).constructor;return void 0===i||null==(r=n(i)[a])?t:o(r)}},28710:(e,t,r)=>{var n=r(1702),o=r(19303),a=r(41340),i=r(84488),s=n("".charAt),u=n("".charCodeAt),c=n("".slice),l=function(e){return function(t,r){var n,l,f=a(i(t)),d=o(r),p=f.length;return d<0||d>=p?e?"":void 0:(n=u(f,d))<55296||n>56319||d+1===p||(l=u(f,d+1))<56320||l>57343?e?s(f,d):n:e?c(f,d,d+2):l-56320+(n-55296<<10)+65536}};e.exports={codeAt:l(!1),charAt:l(!0)}},33197:(e,t,r)=>{"use strict";var n=r(17854),o=r(1702),a=2147483647,i=/[^\0-\u007E]/,s=/[.\u3002\uFF0E\uFF61]/g,u="Overflow: input needs wider integers to process",c=n.RangeError,l=o(s.exec),f=Math.floor,d=String.fromCharCode,p=o("".charCodeAt),h=o([].join),m=o([].push),g=o("".replace),v=o("".split),y=o("".toLowerCase),b=function(e){return e+22+75*(e<26)},w=function(e,t,r){var n=0;for(e=r?f(e/700):e>>1,e+=f(e/t);e>455;n+=36)e=f(e/35);return f(n+36*e/(e+38))},E=function(e){var t=[];e=function(e){for(var t=[],r=0,n=e.length;r<n;){var o=p(e,r++);if(o>=55296&&o<=56319&&r<n){var a=p(e,r++);56320==(64512&a)?m(t,((1023&o)<<10)+(1023&a)+65536):(m(t,o),r--)}else m(t,o)}return t}(e);var r,n,o=e.length,i=128,s=0,l=72;for(r=0;r<e.length;r++)(n=e[r])<128&&m(t,d(n));var g=t.length,v=g;for(g&&m(t,"-");v<o;){var y=a;for(r=0;r<e.length;r++)(n=e[r])>=i&&n<y&&(y=n);var E=v+1;if(y-i>f((a-s)/E))throw c(u);for(s+=(y-i)*E,i=y,r=0;r<e.length;r++){if((n=e[r])<i&&++s>a)throw c(u);if(n==i){for(var k=s,L=36;;L+=36){var _=L<=l?1:L>=l+26?26:L-l;if(k<_)break;var S=k-_,A=36-_;m(t,d(b(_+S%A))),k=f(S/A)}m(t,d(b(k))),l=w(s,E,v==g),s=0,++v}}++s,++i}return h(t,"")};e.exports=function(e){var t,r,n=[],o=v(g(y(e),s,"."),".");for(t=0;t<o.length;t++)r=o[t],m(n,l(i,r)?"xn--"+E(r):r);return h(n,".")}},51400:(e,t,r)=>{var n=r(19303),o=Math.max,a=Math.min;e.exports=function(e,t){var r=n(e);return r<0?o(r+t,0):a(r,t)}},57067:(e,t,r)=>{var n=r(17854),o=r(19303),a=r(17466),i=n.RangeError;e.exports=function(e){if(void 0===e)return 0;var t=o(e),r=a(t);if(t!==r)throw i("Wrong length or index");return r}},45656:(e,t,r)=>{var n=r(68361),o=r(84488);e.exports=function(e){return n(o(e))}},19303:e=>{var t=Math.ceil,r=Math.floor;e.exports=function(e){var n=+e;return n!=n||0===n?0:(n>0?r:t)(n)}},17466:(e,t,r)=>{var n=r(19303),o=Math.min;e.exports=function(e){return e>0?o(n(e),9007199254740991):0}},47908:(e,t,r)=>{var n=r(17854),o=r(84488),a=n.Object;e.exports=function(e){return a(o(e))}},84590:(e,t,r)=>{var n=r(17854),o=r(73002),a=n.RangeError;e.exports=function(e,t){var r=o(e);if(r%t)throw a("Wrong offset");return r}},73002:(e,t,r)=>{var n=r(17854),o=r(19303),a=n.RangeError;e.exports=function(e){var t=o(e);if(t<0)throw a("The argument can't be less than 0");return t}},57593:(e,t,r)=>{var n=r(17854),o=r(46916),a=r(70111),i=r(52190),s=r(58173),u=r(92140),c=r(5112),l=n.TypeError,f=c("toPrimitive");e.exports=function(e,t){if(!a(e)||i(e))return e;var r,n=s(e,f);if(n){if(void 0===t&&(t="default"),r=o(n,e,t),!a(r)||i(r))return r;throw l("Can't convert object to primitive value")}return void 0===t&&(t="number"),u(e,t)}},34948:(e,t,r)=>{var n=r(57593),o=r(52190);e.exports=function(e){var t=n(e,"string");return o(t)?t:t+""}},51694:(e,t,r)=>{var n={};n[r(5112)("toStringTag")]="z",e.exports="[object z]"===String(n)},41340:(e,t,r)=>{var n=r(17854),o=r(70648),a=n.String;e.exports=function(e){if("Symbol"===o(e))throw TypeError("Cannot convert a Symbol value to a string");return a(e)}},66330:(e,t,r)=>{var n=r(17854).String;e.exports=function(e){try{return n(e)}catch(e){return"Object"}}},19843:(e,t,r)=>{"use strict";var n=r(82109),o=r(17854),a=r(46916),i=r(19781),s=r(63832),u=r(90260),c=r(13331),l=r(25787),f=r(79114),d=r(68880),p=r(55988),h=r(17466),m=r(57067),g=r(84590),v=r(34948),y=r(92597),b=r(70648),w=r(70111),E=r(52190),k=r(70030),L=r(47976),_=r(27674),S=r(8006).f,A=r(97321),x=r(42092).forEach,T=r(96340),O=r(3070),I=r(31236),R=r(29909),D=r(79587),P=R.get,C=R.set,F=O.f,j=I.f,U=Math.round,N=o.RangeError,M=c.ArrayBuffer,B=M.prototype,z=c.DataView,V=u.NATIVE_ARRAY_BUFFER_VIEWS,q=u.TYPED_ARRAY_CONSTRUCTOR,G=u.TYPED_ARRAY_TAG,W=u.TypedArray,H=u.TypedArrayPrototype,K=u.aTypedArrayConstructor,X=u.isTypedArray,$="BYTES_PER_ELEMENT",Y="Wrong length",J=function(e,t){K(e);for(var r=0,n=t.length,o=new e(n);n>r;)o[r]=t[r++];return o},Z=function(e,t){F(e,t,{get:function(){return P(this)[t]}})},Q=function(e){var t;return L(B,e)||"ArrayBuffer"==(t=b(e))||"SharedArrayBuffer"==t},ee=function(e,t){return X(e)&&!E(t)&&t in e&&p(+t)&&t>=0},te=function(e,t){return t=v(t),ee(e,t)?f(2,e[t]):j(e,t)},re=function(e,t,r){return t=v(t),!(ee(e,t)&&w(r)&&y(r,"value"))||y(r,"get")||y(r,"set")||r.configurable||y(r,"writable")&&!r.writable||y(r,"enumerable")&&!r.enumerable?F(e,t,r):(e[t]=r.value,e)};i?(V||(I.f=te,O.f=re,Z(H,"buffer"),Z(H,"byteOffset"),Z(H,"byteLength"),Z(H,"length")),n({target:"Object",stat:!0,forced:!V},{getOwnPropertyDescriptor:te,defineProperty:re}),e.exports=function(e,t,r){var i=e.match(/\d+$/)[0]/8,u=e+(r?"Clamped":"")+"Array",c="get"+e,f="set"+e,p=o[u],v=p,y=v&&v.prototype,b={},E=function(e,t){F(e,t,{get:function(){return function(e,t){var r=P(e);return r.view[c](t*i+r.byteOffset,!0)}(this,t)},set:function(e){return function(e,t,n){var o=P(e);r&&(n=(n=U(n))<0?0:n>255?255:255&n),o.view[f](t*i+o.byteOffset,n,!0)}(this,t,e)},enumerable:!0})};V?s&&(v=t((function(e,t,r,n){return l(e,y),D(w(t)?Q(t)?void 0!==n?new p(t,g(r,i),n):void 0!==r?new p(t,g(r,i)):new p(t):X(t)?J(v,t):a(A,v,t):new p(m(t)),e,v)})),_&&_(v,W),x(S(p),(function(e){e in v||d(v,e,p[e])})),v.prototype=y):(v=t((function(e,t,r,n){l(e,y);var o,s,u,c=0,f=0;if(w(t)){if(!Q(t))return X(t)?J(v,t):a(A,v,t);o=t,f=g(r,i);var d=t.byteLength;if(void 0===n){if(d%i)throw N(Y);if((s=d-f)<0)throw N(Y)}else if((s=h(n)*i)+f>d)throw N(Y);u=s/i}else u=m(t),o=new M(s=u*i);for(C(e,{buffer:o,byteOffset:f,byteLength:s,length:u,view:new z(o)});c<u;)E(e,c++)})),_&&_(v,W),y=v.prototype=k(H)),y.constructor!==v&&d(y,"constructor",v),d(y,q,v),G&&d(y,G,u),b[u]=v,n({global:!0,forced:v!=p,sham:!V},b),$ in v||d(v,$,i),$ in y||d(y,$,i),T(u)}):e.exports=function(){}},63832:(e,t,r)=>{var n=r(17854),o=r(47293),a=r(17072),i=r(90260).NATIVE_ARRAY_BUFFER_VIEWS,s=n.ArrayBuffer,u=n.Int8Array;e.exports=!i||!o((function(){u(1)}))||!o((function(){new u(-1)}))||!a((function(e){new u,new u(null),new u(1.5),new u(e)}),!0)||o((function(){return 1!==new u(new s(2),1,void 0).length}))},43074:(e,t,r)=>{var n=r(97745),o=r(66304);e.exports=function(e,t){return n(o(e),t)}},97321:(e,t,r)=>{var n=r(49974),o=r(46916),a=r(39483),i=r(47908),s=r(26244),u=r(18554),c=r(71246),l=r(97659),f=r(90260).aTypedArrayConstructor;e.exports=function(e){var t,r,d,p,h,m,g=a(this),v=i(e),y=arguments.length,b=y>1?arguments[1]:void 0,w=void 0!==b,E=c(v);if(E&&!l(E))for(m=(h=u(v,E)).next,v=[];!(p=o(m,h)).done;)v.push(p.value);for(w&&y>2&&(b=n(b,arguments[2])),r=s(v),d=new(f(g))(r),t=0;r>t;t++)d[t]=w?b(v[t],t):v[t];return d}},66304:(e,t,r)=>{var n=r(90260),o=r(36707),a=n.TYPED_ARRAY_CONSTRUCTOR,i=n.aTypedArrayConstructor;e.exports=function(e){return i(o(e,e[a]))}},69711:(e,t,r)=>{var n=r(1702),o=0,a=Math.random(),i=n(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+i(++o+a,36)}},43307:(e,t,r)=>{var n=r(30133);e.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},5112:(e,t,r)=>{var n=r(17854),o=r(72309),a=r(92597),i=r(69711),s=r(30133),u=r(43307),c=o("wks"),l=n.Symbol,f=l&&l.for,d=u?l:l&&l.withoutSetter||i;e.exports=function(e){if(!a(c,e)||!s&&"string"!=typeof c[e]){var t="Symbol."+e;s&&a(l,e)?c[e]=l[e]:c[e]=u&&f?f(t):d(t)}return c[e]}},66992:(e,t,r)=>{"use strict";var n=r(45656),o=r(51223),a=r(97497),i=r(29909),s=r(70654),u="Array Iterator",c=i.set,l=i.getterFor(u);e.exports=s(Array,"Array",(function(e,t){c(this,{type:u,target:n(e),index:0,kind:t})}),(function(){var e=l(this),t=e.target,r=e.kind,n=e.index++;return!t||n>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==r?{value:n,done:!1}:"values"==r?{value:t[n],done:!1}:{value:[n,t[n]],done:!1}}),"values"),a.Arguments=a.Array,o("keys"),o("values"),o("entries")},78783:(e,t,r)=>{"use strict";var n=r(28710).charAt,o=r(41340),a=r(29909),i=r(70654),s="String Iterator",u=a.set,c=a.getterFor(s);i(String,"String",(function(e){u(this,{type:s,string:o(e),index:0})}),(function(){var e,t=c(this),r=t.string,o=t.index;return o>=r.length?{value:void 0,done:!0}:(e=n(r,o),t.index+=e.length,{value:e,done:!1})}))},48675:(e,t,r)=>{"use strict";var n=r(90260),o=r(26244),a=r(19303),i=n.aTypedArray;(0,n.exportTypedArrayMethod)("at",(function(e){var t=i(this),r=o(t),n=a(e),s=n>=0?n:r+n;return s<0||s>=r?void 0:t[s]}))},98145:(e,t,r)=>{"use strict";var n=r(63832);(0,r(90260).exportTypedArrayStaticMethod)("from",r(97321),n)},87145:(e,t,r)=>{r(19843)("Int8",(function(e){return function(t,r,n){return e(this,t,r,n)}}))},33824:(e,t,r)=>{"use strict";var n=r(17854),o=r(1702),a=r(47293),i=r(19662),s=r(94362),u=r(90260),c=r(68886),l=r(30256),f=r(7392),d=r(98008),p=n.Array,h=u.aTypedArray,m=u.exportTypedArrayMethod,g=n.Uint16Array,v=g&&o(g.prototype.sort),y=!(!v||a((function(){v(new g(2),null)}))&&a((function(){v(new g(2),{})}))),b=!!v&&!a((function(){if(f)return f<74;if(c)return c<67;if(l)return!0;if(d)return d<602;var e,t,r=new g(516),n=p(516);for(e=0;e<516;e++)t=e%4,r[e]=515-e,n[e]=e-2*t+3;for(v(r,(function(e,t){return(e/4|0)-(t/4|0)})),e=0;e<516;e++)if(r[e]!==n[e])return!0}));m("sort",(function(e){return void 0!==e&&i(e),b?v(this,e):s(h(this),function(e){return function(t,r){return void 0!==e?+e(t,r)||0:r!=r?-1:t!=t?1:0===t&&0===r?1/t>0&&1/r<0?1:-1:t>r}}(e))}),!b||y)},82472:(e,t,r)=>{r(19843)("Uint8",(function(e){return function(t,r,n){return e(this,t,r,n)}}))},68216:(e,t,r)=>{"use strict";var n=r(82109),o=r(12269).every;n({target:"AsyncIterator",proto:!0,real:!0},{every:function(e){return o(this,e)}})},88449:(e,t,r)=>{"use strict";var n=r(82109),o=r(22104),a=r(19662),i=r(19670),s=r(45348)((function(e,t){var r=this,n=r.filterer;return new e((function(a,s){var u=function(){try{e.resolve(i(o(r.next,r.iterator,t))).then((function(t){try{if(i(t).done)r.done=!0,a({done:!0,value:void 0});else{var o=t.value;e.resolve(n(o)).then((function(e){e?a({done:!1,value:o}):u()}),s)}}catch(e){s(e)}}),s)}catch(e){s(e)}};u()}))}));n({target:"AsyncIterator",proto:!0,real:!0},{filter:function(e){return new s({iterator:i(this),filterer:a(e)})}})},15581:(e,t,r)=>{"use strict";var n=r(82109),o=r(12269).forEach;n({target:"AsyncIterator",proto:!0,real:!0},{forEach:function(e){return o(this,e)}})},57640:(e,t,r)=>{"use strict";var n=r(82109),o=r(22104),a=r(19662),i=r(19670),s=r(45348)((function(e,t){var r=this,n=r.mapper;return e.resolve(i(o(r.next,r.iterator,t))).then((function(t){return i(t).done?(r.done=!0,{done:!0,value:void 0}):e.resolve(n(t.value)).then((function(e){return{done:!1,value:e}}))}))}));n({target:"AsyncIterator",proto:!0,real:!0},{map:function(e){return new s({iterator:i(this),mapper:a(e)})}})},25387:(e,t,r)=>{"use strict";var n=r(82109),o=r(17854),a=r(46916),i=r(19662),s=r(19670),u=r(35005)("Promise"),c=o.TypeError;n({target:"AsyncIterator",proto:!0,real:!0},{reduce:function(e){var t=s(this),r=i(t.next),n=arguments.length<2,o=n?void 0:arguments[1];return i(e),new u((function(i,l){var f=function(){try{u.resolve(s(a(r,t))).then((function(t){try{if(s(t).done)n?l(c("Reduce of empty iterator with no initial value")):i(o);else{var r=t.value;n?(n=!1,o=r,f()):u.resolve(e(o,r)).then((function(e){o=e,f()}),l)}}catch(e){l(e)}}),l)}catch(e){l(e)}};f()}))}})},2490:(e,t,r)=>{"use strict";var n=r(82109),o=r(17854),a=r(25787),i=r(60614),s=r(68880),u=r(47293),c=r(92597),l=r(5112),f=r(13383).IteratorPrototype,d=r(31913),p=l("toStringTag"),h=o.Iterator,m=d||!i(h)||h.prototype!==f||!u((function(){h({})})),g=function(){a(this,f)};c(f,p)||s(f,p,"Iterator"),!m&&c(f,"constructor")&&f.constructor!==Object||s(f,"constructor",g),g.prototype=f,n({global:!0,forced:m},{Iterator:g})},79433:(e,t,r)=>{"use strict";var n=r(82109),o=r(20408),a=r(19662),i=r(19670);n({target:"Iterator",proto:!0,real:!0},{every:function(e){return i(this),a(e),!o(this,(function(t,r){if(!e(t))return r()}),{IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}})},59849:(e,t,r)=>{"use strict";var n=r(82109),o=r(22104),a=r(19662),i=r(19670),s=r(54956),u=r(53411),c=s((function(e){for(var t,r,n=this.iterator,a=this.filterer,s=this.next;;){if(t=i(o(s,n,e)),this.done=!!t.done)return;if(r=t.value,u(n,a,r))return r}}));n({target:"Iterator",proto:!0,real:!0},{filter:function(e){return new c({iterator:i(this),filterer:a(e)})}})},34514:(e,t,r)=>{"use strict";var n=r(82109),o=r(20408),a=r(19670);n({target:"Iterator",proto:!0,real:!0},{forEach:function(e){o(a(this),e,{IS_ITERATOR:!0})}})},9924:(e,t,r)=>{"use strict";var n=r(82109),o=r(22104),a=r(19662),i=r(19670),s=r(54956),u=r(53411),c=s((function(e){var t=this.iterator,r=i(o(this.next,t,e));if(!(this.done=!!r.done))return u(t,this.mapper,r.value)}));n({target:"Iterator",proto:!0,real:!0},{map:function(e){return new c({iterator:i(this),mapper:a(e)})}})},72608:(e,t,r)=>{"use strict";var n=r(82109),o=r(17854),a=r(20408),i=r(19662),s=r(19670),u=o.TypeError;n({target:"Iterator",proto:!0,real:!0},{reduce:function(e){s(this),i(e);var t=arguments.length<2,r=t?void 0:arguments[1];if(a(this,(function(n){t?(t=!1,r=n):r=e(r,n)}),{IS_ITERATOR:!0}),t)throw u("Reduce of empty iterator with no initial value");return r}})},8922:(e,t,r)=>{"use strict";var n=r(90260),o=r(42092).filterReject,a=r(43074),i=n.aTypedArray;(0,n.exportTypedArrayMethod)("filterReject",(function(e){var t=o(i(this),e,arguments.length>1?arguments[1]:void 0);return a(this,t)}))},1118:(e,t,r)=>{"use strict";var n=r(90260),o=r(9671).findLastIndex,a=n.aTypedArray;(0,n.exportTypedArrayMethod)("findLastIndex",(function(e){return o(a(this),e,arguments.length>1?arguments[1]:void 0)}))},37380:(e,t,r)=>{"use strict";var n=r(90260),o=r(9671).findLast,a=n.aTypedArray;(0,n.exportTypedArrayMethod)("findLast",(function(e){return o(a(this),e,arguments.length>1?arguments[1]:void 0)}))},5835:(e,t,r)=>{"use strict";var n=r(90260),o=r(61386),a=r(66304),i=n.aTypedArray;(0,n.exportTypedArrayMethod)("groupBy",(function(e){var t=arguments.length>1?arguments[1]:void 0;return o(i(this),e,t,a)}))},84444:(e,t,r)=>{"use strict";var n=r(1702),o=r(90260),a=r(60956),i=r(43074),s=o.aTypedArray,u=o.exportTypedArrayMethod,c=n(a);u("uniqueBy",(function(e){return i(this,c(s(this),e))}))},33948:(e,t,r)=>{var n=r(17854),o=r(48324),a=r(98509),i=r(66992),s=r(68880),u=r(5112),c=u("iterator"),l=u("toStringTag"),f=i.values,d=function(e,t){if(e){if(e[c]!==f)try{s(e,c,f)}catch(t){e[c]=f}if(e[l]||s(e,l,t),o[t])for(var r in i)if(e[r]!==i[r])try{s(e,r,i[r])}catch(t){e[r]=i[r]}}};for(var p in o)d(n[p]&&n[p].prototype,p);d(a,"DOMTokenList")},41637:(e,t,r)=>{"use strict";r(66992);var n=r(82109),o=r(17854),a=r(35005),i=r(46916),s=r(1702),u=r(590),c=r(31320),l=r(12248),f=r(58003),d=r(24994),p=r(29909),h=r(25787),m=r(60614),g=r(92597),v=r(49974),y=r(70648),b=r(19670),w=r(70111),E=r(41340),k=r(70030),L=r(79114),_=r(18554),S=r(71246),A=r(5112),x=r(94362),T=A("iterator"),O="URLSearchParams",I="URLSearchParamsIterator",R=p.set,D=p.getterFor(O),P=p.getterFor(I),C=a("fetch"),F=a("Request"),j=a("Headers"),U=F&&F.prototype,N=j&&j.prototype,M=o.RegExp,B=o.TypeError,z=o.decodeURIComponent,V=o.encodeURIComponent,q=s("".charAt),G=s([].join),W=s([].push),H=s("".replace),K=s([].shift),X=s([].splice),$=s("".split),Y=s("".slice),J=/\+/g,Z=Array(4),Q=function(e){return Z[e-1]||(Z[e-1]=M("((?:%[\\da-f]{2}){"+e+"})","gi"))},ee=function(e){try{return z(e)}catch(t){return e}},te=function(e){var t=H(e,J," "),r=4;try{return z(t)}catch(e){for(;r;)t=H(t,Q(r--),ee);return t}},re=/[!'()~]|%20/g,ne={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},oe=function(e){return ne[e]},ae=function(e){return H(V(e),re,oe)},ie=function(e,t){if(t)for(var r,n,o=$(t,"&"),a=0;a<o.length;)(r=o[a++]).length&&(n=$(r,"="),W(e,{key:te(K(n)),value:te(G(n,"="))}))},se=function(e){this.entries.length=0,ie(this.entries,e)},ue=function(e,t){if(e<t)throw B("Not enough arguments")},ce=d((function(e,t){R(this,{type:I,iterator:_(D(e).entries),kind:t})}),"Iterator",(function(){var e=P(this),t=e.kind,r=e.iterator.next(),n=r.value;return r.done||(r.value="keys"===t?n.key:"values"===t?n.value:[n.key,n.value]),r})),le=function(){h(this,fe);var e,t,r,n,o,a,s,u,c,l=arguments.length>0?arguments[0]:void 0,f=this,d=[];if(R(f,{type:O,entries:d,updateURL:function(){},updateSearchParams:se}),void 0!==l)if(w(l))if(e=S(l))for(r=(t=_(l,e)).next;!(n=i(r,t)).done;){if(a=(o=_(b(n.value))).next,(s=i(a,o)).done||(u=i(a,o)).done||!i(a,o).done)throw B("Expected sequence with length 2");W(d,{key:E(s.value),value:E(u.value)})}else for(c in l)g(l,c)&&W(d,{key:c,value:E(l[c])});else ie(d,"string"==typeof l?"?"===q(l,0)?Y(l,1):l:E(l))},fe=le.prototype;if(l(fe,{append:function(e,t){ue(arguments.length,2);var r=D(this);W(r.entries,{key:E(e),value:E(t)}),r.updateURL()},delete:function(e){ue(arguments.length,1);for(var t=D(this),r=t.entries,n=E(e),o=0;o<r.length;)r[o].key===n?X(r,o,1):o++;t.updateURL()},get:function(e){ue(arguments.length,1);for(var t=D(this).entries,r=E(e),n=0;n<t.length;n++)if(t[n].key===r)return t[n].value;return null},getAll:function(e){ue(arguments.length,1);for(var t=D(this).entries,r=E(e),n=[],o=0;o<t.length;o++)t[o].key===r&&W(n,t[o].value);return n},has:function(e){ue(arguments.length,1);for(var t=D(this).entries,r=E(e),n=0;n<t.length;)if(t[n++].key===r)return!0;return!1},set:function(e,t){ue(arguments.length,1);for(var r,n=D(this),o=n.entries,a=!1,i=E(e),s=E(t),u=0;u<o.length;u++)(r=o[u]).key===i&&(a?X(o,u--,1):(a=!0,r.value=s));a||W(o,{key:i,value:s}),n.updateURL()},sort:function(){var e=D(this);x(e.entries,(function(e,t){return e.key>t.key?1:-1})),e.updateURL()},forEach:function(e){for(var t,r=D(this).entries,n=v(e,arguments.length>1?arguments[1]:void 0),o=0;o<r.length;)n((t=r[o++]).value,t.key,this)},keys:function(){return new ce(this,"keys")},values:function(){return new ce(this,"values")},entries:function(){return new ce(this,"entries")}},{enumerable:!0}),c(fe,T,fe.entries,{name:"entries"}),c(fe,"toString",(function(){for(var e,t=D(this).entries,r=[],n=0;n<t.length;)e=t[n++],W(r,ae(e.key)+"="+ae(e.value));return G(r,"&")}),{enumerable:!0}),f(le,O),n({global:!0,forced:!u},{URLSearchParams:le}),!u&&m(j)){var de=s(N.has),pe=s(N.set),he=function(e){if(w(e)){var t,r=e.body;if(y(r)===O)return t=e.headers?new j(e.headers):new j,de(t,"content-type")||pe(t,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),k(e,{body:L(0,E(r)),headers:L(0,t)})}return e};if(m(C)&&n({global:!0,enumerable:!0,forced:!0},{fetch:function(e){return C(e,arguments.length>1?he(arguments[1]):{})}}),m(F)){var me=function(e){return h(this,U),new F(e,arguments.length>1?he(arguments[1]):{})};U.constructor=me,me.prototype=U,n({global:!0,forced:!0},{Request:me})}}e.exports={URLSearchParams:le,getState:D}},60285:(e,t,r)=>{"use strict";r(78783);var n,o=r(82109),a=r(19781),i=r(590),s=r(17854),u=r(49974),c=r(46916),l=r(1702),f=r(36048),d=r(31320),p=r(25787),h=r(92597),m=r(21574),g=r(48457),v=r(50206),y=r(28710).codeAt,b=r(33197),w=r(41340),E=r(58003),k=r(41637),L=r(29909),_=L.set,S=L.getterFor("URL"),A=k.URLSearchParams,x=k.getState,T=s.URL,O=s.TypeError,I=s.parseInt,R=Math.floor,D=Math.pow,P=l("".charAt),C=l(/./.exec),F=l([].join),j=l(1..toString),U=l([].pop),N=l([].push),M=l("".replace),B=l([].shift),z=l("".split),V=l("".slice),q=l("".toLowerCase),G=l([].unshift),W="Invalid scheme",H="Invalid host",K="Invalid port",X=/[a-z]/i,$=/[\d+-.a-z]/i,Y=/\d/,J=/^0x/i,Z=/^[0-7]+$/,Q=/^\d+$/,ee=/^[\da-f]+$/i,te=/[\0\t\n\r #%/:<>?@[\\\]^|]/,re=/[\0\t\n\r #/:<>?@[\\\]^|]/,ne=/^[\u0000-\u0020]+|[\u0000-\u0020]+$/g,oe=/[\t\n\r]/g,ae=function(e,t){var r,n,o;if("["==P(t,0)){if("]"!=P(t,t.length-1))return H;if(!(r=se(V(t,1,-1))))return H;e.host=r}else if(me(e)){if(t=b(t),C(te,t))return H;if(null===(r=ie(t)))return H;e.host=r}else{if(C(re,t))return H;for(r="",n=g(t),o=0;o<n.length;o++)r+=pe(n[o],ce);e.host=r}},ie=function(e){var t,r,n,o,a,i,s,u=z(e,".");if(u.length&&""==u[u.length-1]&&u.length--,(t=u.length)>4)return e;for(r=[],n=0;n<t;n++){if(""==(o=u[n]))return e;if(a=10,o.length>1&&"0"==P(o,0)&&(a=C(J,o)?16:8,o=V(o,8==a?1:2)),""===o)i=0;else{if(!C(10==a?Q:8==a?Z:ee,o))return e;i=I(o,a)}N(r,i)}for(n=0;n<t;n++)if(i=r[n],n==t-1){if(i>=D(256,5-t))return null}else if(i>255)return null;for(s=U(r),n=0;n<r.length;n++)s+=r[n]*D(256,3-n);return s},se=function(e){var t,r,n,o,a,i,s,u=[0,0,0,0,0,0,0,0],c=0,l=null,f=0,d=function(){return P(e,f)};if(":"==d()){if(":"!=P(e,1))return;f+=2,l=++c}for(;d();){if(8==c)return;if(":"!=d()){for(t=r=0;r<4&&C(ee,d());)t=16*t+I(d(),16),f++,r++;if("."==d()){if(0==r)return;if(f-=r,c>6)return;for(n=0;d();){if(o=null,n>0){if(!("."==d()&&n<4))return;f++}if(!C(Y,d()))return;for(;C(Y,d());){if(a=I(d(),10),null===o)o=a;else{if(0==o)return;o=10*o+a}if(o>255)return;f++}u[c]=256*u[c]+o,2!=++n&&4!=n||c++}if(4!=n)return;break}if(":"==d()){if(f++,!d())return}else if(d())return;u[c++]=t}else{if(null!==l)return;f++,l=++c}}if(null!==l)for(i=c-l,c=7;0!=c&&i>0;)s=u[c],u[c--]=u[l+i-1],u[l+--i]=s;else if(8!=c)return;return u},ue=function(e){var t,r,n,o;if("number"==typeof e){for(t=[],r=0;r<4;r++)G(t,e%256),e=R(e/256);return F(t,".")}if("object"==typeof e){for(t="",n=function(e){for(var t=null,r=1,n=null,o=0,a=0;a<8;a++)0!==e[a]?(o>r&&(t=n,r=o),n=null,o=0):(null===n&&(n=a),++o);return o>r&&(t=n,r=o),t}(e),r=0;r<8;r++)o&&0===e[r]||(o&&(o=!1),n===r?(t+=r?":":"::",o=!0):(t+=j(e[r],16),r<7&&(t+=":")));return"["+t+"]"}return e},ce={},le=m({},ce,{" ":1,'"':1,"<":1,">":1,"`":1}),fe=m({},le,{"#":1,"?":1,"{":1,"}":1}),de=m({},fe,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),pe=function(e,t){var r=y(e,0);return r>32&&r<127&&!h(t,e)?e:encodeURIComponent(e)},he={ftp:21,file:null,http:80,https:443,ws:80,wss:443},me=function(e){return h(he,e.scheme)},ge=function(e){return""!=e.username||""!=e.password},ve=function(e){return!e.host||e.cannotBeABaseURL||"file"==e.scheme},ye=function(e,t){var r;return 2==e.length&&C(X,P(e,0))&&(":"==(r=P(e,1))||!t&&"|"==r)},be=function(e){var t;return e.length>1&&ye(V(e,0,2))&&(2==e.length||"/"===(t=P(e,2))||"\\"===t||"?"===t||"#"===t)},we=function(e){var t=e.path,r=t.length;!r||"file"==e.scheme&&1==r&&ye(t[0],!0)||t.length--},Ee=function(e){return"."===e||"%2e"===q(e)},ke={},Le={},_e={},Se={},Ae={},xe={},Te={},Oe={},Ie={},Re={},De={},Pe={},Ce={},Fe={},je={},Ue={},Ne={},Me={},Be={},ze={},Ve={},qe=function(e,t,r,o){var a,i,s,u,c,l=r||ke,f=0,d="",p=!1,m=!1,y=!1;for(r||(e.scheme="",e.username="",e.password="",e.host=null,e.port=null,e.path=[],e.query=null,e.fragment=null,e.cannotBeABaseURL=!1,t=M(t,ne,"")),t=M(t,oe,""),a=g(t);f<=a.length;){switch(i=a[f],l){case ke:if(!i||!C(X,i)){if(r)return W;l=_e;continue}d+=q(i),l=Le;break;case Le:if(i&&(C($,i)||"+"==i||"-"==i||"."==i))d+=q(i);else{if(":"!=i){if(r)return W;d="",l=_e,f=0;continue}if(r&&(me(e)!=h(he,d)||"file"==d&&(ge(e)||null!==e.port)||"file"==e.scheme&&!e.host))return;if(e.scheme=d,r)return void(me(e)&&he[e.scheme]==e.port&&(e.port=null));d="","file"==e.scheme?l=Fe:me(e)&&o&&o.scheme==e.scheme?l=Se:me(e)?l=Oe:"/"==a[f+1]?(l=Ae,f++):(e.cannotBeABaseURL=!0,N(e.path,""),l=Be)}break;case _e:if(!o||o.cannotBeABaseURL&&"#"!=i)return W;if(o.cannotBeABaseURL&&"#"==i){e.scheme=o.scheme,e.path=v(o.path),e.query=o.query,e.fragment="",e.cannotBeABaseURL=!0,l=Ve;break}l="file"==o.scheme?Fe:xe;continue;case Se:if("/"!=i||"/"!=a[f+1]){l=xe;continue}l=Ie,f++;break;case Ae:if("/"==i){l=Re;break}l=Me;continue;case xe:if(e.scheme=o.scheme,i==n)e.username=o.username,e.password=o.password,e.host=o.host,e.port=o.port,e.path=v(o.path),e.query=o.query;else if("/"==i||"\\"==i&&me(e))l=Te;else if("?"==i)e.username=o.username,e.password=o.password,e.host=o.host,e.port=o.port,e.path=v(o.path),e.query="",l=ze;else{if("#"!=i){e.username=o.username,e.password=o.password,e.host=o.host,e.port=o.port,e.path=v(o.path),e.path.length--,l=Me;continue}e.username=o.username,e.password=o.password,e.host=o.host,e.port=o.port,e.path=v(o.path),e.query=o.query,e.fragment="",l=Ve}break;case Te:if(!me(e)||"/"!=i&&"\\"!=i){if("/"!=i){e.username=o.username,e.password=o.password,e.host=o.host,e.port=o.port,l=Me;continue}l=Re}else l=Ie;break;case Oe:if(l=Ie,"/"!=i||"/"!=P(d,f+1))continue;f++;break;case Ie:if("/"!=i&&"\\"!=i){l=Re;continue}break;case Re:if("@"==i){p&&(d="%40"+d),p=!0,s=g(d);for(var b=0;b<s.length;b++){var w=s[b];if(":"!=w||y){var E=pe(w,de);y?e.password+=E:e.username+=E}else y=!0}d=""}else if(i==n||"/"==i||"?"==i||"#"==i||"\\"==i&&me(e)){if(p&&""==d)return"Invalid authority";f-=g(d).length+1,d="",l=De}else d+=i;break;case De:case Pe:if(r&&"file"==e.scheme){l=Ue;continue}if(":"!=i||m){if(i==n||"/"==i||"?"==i||"#"==i||"\\"==i&&me(e)){if(me(e)&&""==d)return H;if(r&&""==d&&(ge(e)||null!==e.port))return;if(u=ae(e,d))return u;if(d="",l=Ne,r)return;continue}"["==i?m=!0:"]"==i&&(m=!1),d+=i}else{if(""==d)return H;if(u=ae(e,d))return u;if(d="",l=Ce,r==Pe)return}break;case Ce:if(!C(Y,i)){if(i==n||"/"==i||"?"==i||"#"==i||"\\"==i&&me(e)||r){if(""!=d){var k=I(d,10);if(k>65535)return K;e.port=me(e)&&k===he[e.scheme]?null:k,d=""}if(r)return;l=Ne;continue}return K}d+=i;break;case Fe:if(e.scheme="file","/"==i||"\\"==i)l=je;else{if(!o||"file"!=o.scheme){l=Me;continue}if(i==n)e.host=o.host,e.path=v(o.path),e.query=o.query;else if("?"==i)e.host=o.host,e.path=v(o.path),e.query="",l=ze;else{if("#"!=i){be(F(v(a,f),""))||(e.host=o.host,e.path=v(o.path),we(e)),l=Me;continue}e.host=o.host,e.path=v(o.path),e.query=o.query,e.fragment="",l=Ve}}break;case je:if("/"==i||"\\"==i){l=Ue;break}o&&"file"==o.scheme&&!be(F(v(a,f),""))&&(ye(o.path[0],!0)?N(e.path,o.path[0]):e.host=o.host),l=Me;continue;case Ue:if(i==n||"/"==i||"\\"==i||"?"==i||"#"==i){if(!r&&ye(d))l=Me;else if(""==d){if(e.host="",r)return;l=Ne}else{if(u=ae(e,d))return u;if("localhost"==e.host&&(e.host=""),r)return;d="",l=Ne}continue}d+=i;break;case Ne:if(me(e)){if(l=Me,"/"!=i&&"\\"!=i)continue}else if(r||"?"!=i)if(r||"#"!=i){if(i!=n&&(l=Me,"/"!=i))continue}else e.fragment="",l=Ve;else e.query="",l=ze;break;case Me:if(i==n||"/"==i||"\\"==i&&me(e)||!r&&("?"==i||"#"==i)){if(".."===(c=q(c=d))||"%2e."===c||".%2e"===c||"%2e%2e"===c?(we(e),"/"==i||"\\"==i&&me(e)||N(e.path,"")):Ee(d)?"/"==i||"\\"==i&&me(e)||N(e.path,""):("file"==e.scheme&&!e.path.length&&ye(d)&&(e.host&&(e.host=""),d=P(d,0)+":"),N(e.path,d)),d="","file"==e.scheme&&(i==n||"?"==i||"#"==i))for(;e.path.length>1&&""===e.path[0];)B(e.path);"?"==i?(e.query="",l=ze):"#"==i&&(e.fragment="",l=Ve)}else d+=pe(i,fe);break;case Be:"?"==i?(e.query="",l=ze):"#"==i?(e.fragment="",l=Ve):i!=n&&(e.path[0]+=pe(i,ce));break;case ze:r||"#"!=i?i!=n&&("'"==i&&me(e)?e.query+="%27":e.query+="#"==i?"%23":pe(i,ce)):(e.fragment="",l=Ve);break;case Ve:i!=n&&(e.fragment+=pe(i,le))}f++}},Ge=function(e){var t,r,n=p(this,We),o=arguments.length>1?arguments[1]:void 0,i=w(e),s=_(n,{type:"URL"});if(void 0!==o)try{t=S(o)}catch(e){if(r=qe(t={},w(o)))throw O(r)}if(r=qe(s,i,null,t))throw O(r);var u=s.searchParams=new A,l=x(u);l.updateSearchParams(s.query),l.updateURL=function(){s.query=w(u)||null},a||(n.href=c(He,n),n.origin=c(Ke,n),n.protocol=c(Xe,n),n.username=c($e,n),n.password=c(Ye,n),n.host=c(Je,n),n.hostname=c(Ze,n),n.port=c(Qe,n),n.pathname=c(et,n),n.search=c(tt,n),n.searchParams=c(rt,n),n.hash=c(nt,n))},We=Ge.prototype,He=function(){var e=S(this),t=e.scheme,r=e.username,n=e.password,o=e.host,a=e.port,i=e.path,s=e.query,u=e.fragment,c=t+":";return null!==o?(c+="//",ge(e)&&(c+=r+(n?":"+n:"")+"@"),c+=ue(o),null!==a&&(c+=":"+a)):"file"==t&&(c+="//"),c+=e.cannotBeABaseURL?i[0]:i.length?"/"+F(i,"/"):"",null!==s&&(c+="?"+s),null!==u&&(c+="#"+u),c},Ke=function(){var e=S(this),t=e.scheme,r=e.port;if("blob"==t)try{return new Ge(t.path[0]).origin}catch(e){return"null"}return"file"!=t&&me(e)?t+"://"+ue(e.host)+(null!==r?":"+r:""):"null"},Xe=function(){return S(this).scheme+":"},$e=function(){return S(this).username},Ye=function(){return S(this).password},Je=function(){var e=S(this),t=e.host,r=e.port;return null===t?"":null===r?ue(t):ue(t)+":"+r},Ze=function(){var e=S(this).host;return null===e?"":ue(e)},Qe=function(){var e=S(this).port;return null===e?"":w(e)},et=function(){var e=S(this),t=e.path;return e.cannotBeABaseURL?t[0]:t.length?"/"+F(t,"/"):""},tt=function(){var e=S(this).query;return e?"?"+e:""},rt=function(){return S(this).searchParams},nt=function(){var e=S(this).fragment;return e?"#"+e:""},ot=function(e,t){return{get:e,set:t,configurable:!0,enumerable:!0}};if(a&&f(We,{href:ot(He,(function(e){var t=S(this),r=w(e),n=qe(t,r);if(n)throw O(n);x(t.searchParams).updateSearchParams(t.query)})),origin:ot(Ke),protocol:ot(Xe,(function(e){var t=S(this);qe(t,w(e)+":",ke)})),username:ot($e,(function(e){var t=S(this),r=g(w(e));if(!ve(t)){t.username="";for(var n=0;n<r.length;n++)t.username+=pe(r[n],de)}})),password:ot(Ye,(function(e){var t=S(this),r=g(w(e));if(!ve(t)){t.password="";for(var n=0;n<r.length;n++)t.password+=pe(r[n],de)}})),host:ot(Je,(function(e){var t=S(this);t.cannotBeABaseURL||qe(t,w(e),De)})),hostname:ot(Ze,(function(e){var t=S(this);t.cannotBeABaseURL||qe(t,w(e),Pe)})),port:ot(Qe,(function(e){var t=S(this);ve(t)||(""==(e=w(e))?t.port=null:qe(t,e,Ce))})),pathname:ot(et,(function(e){var t=S(this);t.cannotBeABaseURL||(t.path=[],qe(t,w(e),Ne))})),search:ot(tt,(function(e){var t=S(this);""==(e=w(e))?t.query=null:("?"==P(e,0)&&(e=V(e,1)),t.query="",qe(t,e,ze)),x(t.searchParams).updateSearchParams(t.query)})),searchParams:ot(rt),hash:ot(nt,(function(e){var t=S(this);""!=(e=w(e))?("#"==P(e,0)&&(e=V(e,1)),t.fragment="",qe(t,e,Ve)):t.fragment=null}))}),d(We,"toJSON",(function(){return c(He,this)}),{enumerable:!0}),d(We,"toString",(function(){return c(He,this)}),{enumerable:!0}),T){var at=T.createObjectURL,it=T.revokeObjectURL;at&&d(Ge,"createObjectURL",u(at,T)),it&&d(Ge,"revokeObjectURL",u(it,T))}E(Ge,"URL"),o({global:!0,forced:!i,sham:!a},{URL:Ge})},26729:e=>{"use strict";var t=Object.prototype.hasOwnProperty,r="~";function n(){}function o(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function a(e,t,n,a,i){if("function"!=typeof n)throw new TypeError("The listener must be a function");var s=new o(n,a||e,i),u=r?r+t:t;return e._events[u]?e._events[u].fn?e._events[u]=[e._events[u],s]:e._events[u].push(s):(e._events[u]=s,e._eventsCount++),e}function i(e,t){0==--e._eventsCount?e._events=new n:delete e._events[t]}function s(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(r=!1)),s.prototype.eventNames=function(){var e,n,o=[];if(0===this._eventsCount)return o;for(n in e=this._events)t.call(e,n)&&o.push(r?n.slice(1):n);return Object.getOwnPropertySymbols?o.concat(Object.getOwnPropertySymbols(e)):o},s.prototype.listeners=function(e){var t=r?r+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var o=0,a=n.length,i=new Array(a);o<a;o++)i[o]=n[o].fn;return i},s.prototype.listenerCount=function(e){var t=r?r+e:e,n=this._events[t];return n?n.fn?1:n.length:0},s.prototype.emit=function(e,t,n,o,a,i){var s=r?r+e:e;if(!this._events[s])return!1;var u,c,l=this._events[s],f=arguments.length;if(l.fn){switch(l.once&&this.removeListener(e,l.fn,void 0,!0),f){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,t),!0;case 3:return l.fn.call(l.context,t,n),!0;case 4:return l.fn.call(l.context,t,n,o),!0;case 5:return l.fn.call(l.context,t,n,o,a),!0;case 6:return l.fn.call(l.context,t,n,o,a,i),!0}for(c=1,u=new Array(f-1);c<f;c++)u[c-1]=arguments[c];l.fn.apply(l.context,u)}else{var d,p=l.length;for(c=0;c<p;c++)switch(l[c].once&&this.removeListener(e,l[c].fn,void 0,!0),f){case 1:l[c].fn.call(l[c].context);break;case 2:l[c].fn.call(l[c].context,t);break;case 3:l[c].fn.call(l[c].context,t,n);break;case 4:l[c].fn.call(l[c].context,t,n,o);break;default:if(!u)for(d=1,u=new Array(f-1);d<f;d++)u[d-1]=arguments[d];l[c].fn.apply(l[c].context,u)}}return!0},s.prototype.on=function(e,t,r){return a(this,e,t,r,!1)},s.prototype.once=function(e,t,r){return a(this,e,t,r,!0)},s.prototype.removeListener=function(e,t,n,o){var a=r?r+e:e;if(!this._events[a])return this;if(!t)return i(this,a),this;var s=this._events[a];if(s.fn)s.fn!==t||o&&!s.once||n&&s.context!==n||i(this,a);else{for(var u=0,c=[],l=s.length;u<l;u++)(s[u].fn!==t||o&&!s[u].once||n&&s[u].context!==n)&&c.push(s[u]);c.length?this._events[a]=1===c.length?c[0]:c:i(this,a)}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=r?r+e:e,this._events[t]&&i(this,t)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,e.exports=s},35717:e=>{"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}},44282:(e,t,r)=>{"use strict";r.r(t),r.d(t,{ErrorCode:()=>ge,FormatError:()=>we,IntlMessageFormat:()=>xe,InvalidValueError:()=>Ee,InvalidValueTypeError:()=>ke,MissingValueError:()=>Le,PART_TYPE:()=>be,default:()=>Te,formatToParts:()=>Se,isFormatXMLElementFn:()=>_e});var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)};function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var a=function(){return a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},a.apply(this,arguments)};function i(e,t,r){if(r||2===arguments.length)for(var n,o=0,a=t.length;o<a;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))}Object.create,Object.create;var s,u,c,l=function(){return l=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},l.apply(this,arguments)};function f(e){return e.type===u.literal}function d(e){return e.type===u.argument}function p(e){return e.type===u.number}function h(e){return e.type===u.date}function m(e){return e.type===u.time}function g(e){return e.type===u.select}function v(e){return e.type===u.plural}function y(e){return e.type===u.pound}function b(e){return e.type===u.tag}function w(e){return!(!e||"object"!=typeof e||e.type!==c.number)}function E(e){return!(!e||"object"!=typeof e||e.type!==c.dateTime)}Object.create,Object.create,function(e){e[e.EXPECT_ARGUMENT_CLOSING_BRACE=1]="EXPECT_ARGUMENT_CLOSING_BRACE",e[e.EMPTY_ARGUMENT=2]="EMPTY_ARGUMENT",e[e.MALFORMED_ARGUMENT=3]="MALFORMED_ARGUMENT",e[e.EXPECT_ARGUMENT_TYPE=4]="EXPECT_ARGUMENT_TYPE",e[e.INVALID_ARGUMENT_TYPE=5]="INVALID_ARGUMENT_TYPE",e[e.EXPECT_ARGUMENT_STYLE=6]="EXPECT_ARGUMENT_STYLE",e[e.INVALID_NUMBER_SKELETON=7]="INVALID_NUMBER_SKELETON",e[e.INVALID_DATE_TIME_SKELETON=8]="INVALID_DATE_TIME_SKELETON",e[e.EXPECT_NUMBER_SKELETON=9]="EXPECT_NUMBER_SKELETON",e[e.EXPECT_DATE_TIME_SKELETON=10]="EXPECT_DATE_TIME_SKELETON",e[e.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE=11]="UNCLOSED_QUOTE_IN_ARGUMENT_STYLE",e[e.EXPECT_SELECT_ARGUMENT_OPTIONS=12]="EXPECT_SELECT_ARGUMENT_OPTIONS",e[e.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE=13]="EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE",e[e.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE=14]="INVALID_PLURAL_ARGUMENT_OFFSET_VALUE",e[e.EXPECT_SELECT_ARGUMENT_SELECTOR=15]="EXPECT_SELECT_ARGUMENT_SELECTOR",e[e.EXPECT_PLURAL_ARGUMENT_SELECTOR=16]="EXPECT_PLURAL_ARGUMENT_SELECTOR",e[e.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT=17]="EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT",e[e.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT=18]="EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT",e[e.INVALID_PLURAL_ARGUMENT_SELECTOR=19]="INVALID_PLURAL_ARGUMENT_SELECTOR",e[e.DUPLICATE_PLURAL_ARGUMENT_SELECTOR=20]="DUPLICATE_PLURAL_ARGUMENT_SELECTOR",e[e.DUPLICATE_SELECT_ARGUMENT_SELECTOR=21]="DUPLICATE_SELECT_ARGUMENT_SELECTOR",e[e.MISSING_OTHER_CLAUSE=22]="MISSING_OTHER_CLAUSE",e[e.INVALID_TAG=23]="INVALID_TAG",e[e.INVALID_TAG_NAME=25]="INVALID_TAG_NAME",e[e.UNMATCHED_CLOSING_TAG=26]="UNMATCHED_CLOSING_TAG",e[e.UNCLOSED_TAG=27]="UNCLOSED_TAG"}(s||(s={})),function(e){e[e.literal=0]="literal",e[e.argument=1]="argument",e[e.number=2]="number",e[e.date=3]="date",e[e.time=4]="time",e[e.select=5]="select",e[e.plural=6]="plural",e[e.pound=7]="pound",e[e.tag=8]="tag"}(u||(u={})),function(e){e[e.number=0]="number",e[e.dateTime=1]="dateTime"}(c||(c={}));var k=/[ \xA0\u1680\u2000-\u200A\u202F\u205F\u3000]/,L=/(?:[Eec]{1,6}|G{1,5}|[Qq]{1,5}|(?:[yYur]+|U{1,5})|[ML]{1,5}|d{1,2}|D{1,3}|F{1}|[abB]{1,5}|[hkHK]{1,2}|w{1,2}|W{1}|m{1,2}|s{1,2}|[zZOvVxX]{1,4})(?=([^']*'[^']*')*[^']*$)/g;function _(e){var t={};return e.replace(L,(function(e){var r=e.length;switch(e[0]){case"G":t.era=4===r?"long":5===r?"narrow":"short";break;case"y":t.year=2===r?"2-digit":"numeric";break;case"Y":case"u":case"U":case"r":throw new RangeError("`Y/u/U/r` (year) patterns are not supported, use `y` instead");case"q":case"Q":throw new RangeError("`q/Q` (quarter) patterns are not supported");case"M":case"L":t.month=["numeric","2-digit","short","long","narrow"][r-1];break;case"w":case"W":throw new RangeError("`w/W` (week) patterns are not supported");case"d":t.day=["numeric","2-digit"][r-1];break;case"D":case"F":case"g":throw new RangeError("`D/F/g` (day) patterns are not supported, use `d` instead");case"E":t.weekday=4===r?"short":5===r?"narrow":"short";break;case"e":if(r<4)throw new RangeError("`e..eee` (weekday) patterns are not supported");t.weekday=["short","long","narrow","short"][r-4];break;case"c":if(r<4)throw new RangeError("`c..ccc` (weekday) patterns are not supported");t.weekday=["short","long","narrow","short"][r-4];break;case"a":t.hour12=!0;break;case"b":case"B":throw new RangeError("`b/B` (period) patterns are not supported, use `a` instead");case"h":t.hourCycle="h12",t.hour=["numeric","2-digit"][r-1];break;case"H":t.hourCycle="h23",t.hour=["numeric","2-digit"][r-1];break;case"K":t.hourCycle="h11",t.hour=["numeric","2-digit"][r-1];break;case"k":t.hourCycle="h24",t.hour=["numeric","2-digit"][r-1];break;case"j":case"J":case"C":throw new RangeError("`j/J/C` (hour) patterns are not supported, use `h/H/K/k` instead");case"m":t.minute=["numeric","2-digit"][r-1];break;case"s":t.second=["numeric","2-digit"][r-1];break;case"S":case"A":throw new RangeError("`S/A` (second) patterns are not supported, use `s` instead");case"z":t.timeZoneName=r<4?"short":"long";break;case"Z":case"O":case"v":case"V":case"X":case"x":throw new RangeError("`Z/O/v/V/X/x` (timeZone) patterns are not supported, use `z` instead")}return""})),t}var S=function(){return S=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},S.apply(this,arguments)};Object.create,Object.create;var A,x=/[\t-\r \x85\u200E\u200F\u2028\u2029]/i,T=/^\.(?:(0+)(\*)?|(#+)|(0+)(#+))$/g,O=/^(@+)?(\+|#+)?$/g,I=/(\*)(0+)|(#+)(0+)|(0+)/g,R=/^(0+)$/;function D(e){var t={};return e.replace(O,(function(e,r,n){return"string"!=typeof n?(t.minimumSignificantDigits=r.length,t.maximumSignificantDigits=r.length):"+"===n?t.minimumSignificantDigits=r.length:"#"===r[0]?t.maximumSignificantDigits=r.length:(t.minimumSignificantDigits=r.length,t.maximumSignificantDigits=r.length+("string"==typeof n?n.length:0)),""})),t}function P(e){switch(e){case"sign-auto":return{signDisplay:"auto"};case"sign-accounting":case"()":return{currencySign:"accounting"};case"sign-always":case"+!":return{signDisplay:"always"};case"sign-accounting-always":case"()!":return{signDisplay:"always",currencySign:"accounting"};case"sign-except-zero":case"+?":return{signDisplay:"exceptZero"};case"sign-accounting-except-zero":case"()?":return{signDisplay:"exceptZero",currencySign:"accounting"};case"sign-never":case"+_":return{signDisplay:"never"}}}function C(e){var t;if("E"===e[0]&&"E"===e[1]?(t={notation:"engineering"},e=e.slice(2)):"E"===e[0]&&(t={notation:"scientific"},e=e.slice(1)),t){var r=e.slice(0,2);if("+!"===r?(t.signDisplay="always",e=e.slice(2)):"+?"===r&&(t.signDisplay="exceptZero",e=e.slice(2)),!R.test(e))throw new Error("Malformed concise eng/scientific notation");t.minimumIntegerDigits=e.length}return t}function F(e){return P(e)||{}}function j(e){for(var t={},r=0,n=e;r<n.length;r++){var o=n[r];switch(o.stem){case"percent":case"%":t.style="percent";continue;case"%x100":t.style="percent",t.scale=100;continue;case"currency":t.style="currency",t.currency=o.options[0];continue;case"group-off":case",_":t.useGrouping=!1;continue;case"precision-integer":case".":t.maximumFractionDigits=0;continue;case"measure-unit":case"unit":t.style="unit",t.unit=o.options[0].replace(/^(.*?)-/,"");continue;case"compact-short":case"K":t.notation="compact",t.compactDisplay="short";continue;case"compact-long":case"KK":t.notation="compact",t.compactDisplay="long";continue;case"scientific":t=S(S(S({},t),{notation:"scientific"}),o.options.reduce((function(e,t){return S(S({},e),F(t))}),{}));continue;case"engineering":t=S(S(S({},t),{notation:"engineering"}),o.options.reduce((function(e,t){return S(S({},e),F(t))}),{}));continue;case"notation-simple":t.notation="standard";continue;case"unit-width-narrow":t.currencyDisplay="narrowSymbol",t.unitDisplay="narrow";continue;case"unit-width-short":t.currencyDisplay="code",t.unitDisplay="short";continue;case"unit-width-full-name":t.currencyDisplay="name",t.unitDisplay="long";continue;case"unit-width-iso-code":t.currencyDisplay="symbol";continue;case"scale":t.scale=parseFloat(o.options[0]);continue;case"integer-width":if(o.options.length>1)throw new RangeError("integer-width stems only accept a single optional option");o.options[0].replace(I,(function(e,r,n,o,a,i){if(r)t.minimumIntegerDigits=n.length;else{if(o&&a)throw new Error("We currently do not support maximum integer digits");if(i)throw new Error("We currently do not support exact integer digits")}return""}));continue}if(R.test(o.stem))t.minimumIntegerDigits=o.stem.length;else if(T.test(o.stem)){if(o.options.length>1)throw new RangeError("Fraction-precision stems only accept a single optional option");o.stem.replace(T,(function(e,r,n,o,a,i){return"*"===n?t.minimumFractionDigits=r.length:o&&"#"===o[0]?t.maximumFractionDigits=o.length:a&&i?(t.minimumFractionDigits=a.length,t.maximumFractionDigits=a.length+i.length):(t.minimumFractionDigits=r.length,t.maximumFractionDigits=r.length),""})),o.options.length&&(t=S(S({},t),D(o.options[0])))}else if(O.test(o.stem))t=S(S({},t),D(o.stem));else{var a=P(o.stem);a&&(t=S(S({},t),a));var i=C(o.stem);i&&(t=S(S({},t),i))}}return t}var U=new RegExp("^"+k.source+"*"),N=new RegExp(k.source+"*$");function M(e,t){return{start:e,end:t}}var B=!!String.prototype.startsWith,z=!!String.fromCodePoint,V=!!Object.fromEntries,q=!!String.prototype.codePointAt,G=!!String.prototype.trimStart,W=!!String.prototype.trimEnd,H=Number.isSafeInteger?Number.isSafeInteger:function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e&&Math.abs(e)<=9007199254740991},K=!0;try{K="a"===(null===(A=te("([^\\p{White_Space}\\p{Pattern_Syntax}]*)","yu").exec("a"))||void 0===A?void 0:A[0])}catch(e){K=!1}var X,$=B?function(e,t,r){return e.startsWith(t,r)}:function(e,t,r){return e.slice(r,r+t.length)===t},Y=z?String.fromCodePoint:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var r,n="",o=e.length,a=0;o>a;){if((r=e[a++])>1114111)throw RangeError(r+" is not a valid code point");n+=r<65536?String.fromCharCode(r):String.fromCharCode(55296+((r-=65536)>>10),r%1024+56320)}return n},J=V?Object.fromEntries:function(e){for(var t={},r=0,n=e;r<n.length;r++){var o=n[r],a=o[0],i=o[1];t[a]=i}return t},Z=q?function(e,t){return e.codePointAt(t)}:function(e,t){var r=e.length;if(!(t<0||t>=r)){var n,o=e.charCodeAt(t);return o<55296||o>56319||t+1===r||(n=e.charCodeAt(t+1))<56320||n>57343?o:n-56320+(o-55296<<10)+65536}},Q=G?function(e){return e.trimStart()}:function(e){return e.replace(U,"")},ee=W?function(e){return e.trimEnd()}:function(e){return e.replace(N,"")};function te(e,t){return new RegExp(e,t)}if(K){var re=te("([^\\p{White_Space}\\p{Pattern_Syntax}]*)","yu");X=function(e,t){var r;return re.lastIndex=t,null!==(r=re.exec(e)[1])&&void 0!==r?r:""}}else X=function(e,t){for(var r=[];;){var n=Z(e,t);if(void 0===n||ae(n)||ie(n))break;r.push(n),t+=n>=65536?2:1}return Y.apply(void 0,r)};var ne=function(){function e(e,t){void 0===t&&(t={}),this.message=e,this.position={offset:0,line:1,column:1},this.ignoreTag=!!t.ignoreTag,this.requiresOtherClause=!!t.requiresOtherClause,this.shouldParseSkeletons=!!t.shouldParseSkeletons}return e.prototype.parse=function(){if(0!==this.offset())throw Error("parser can only be used once");return this.parseMessage(0,"",!1)},e.prototype.parseMessage=function(e,t,r){for(var n=[];!this.isEOF();){var o=this.char();if(123===o){if((a=this.parseArgument(e,r)).err)return a;n.push(a.val)}else{if(125===o&&e>0)break;if(35!==o||"plural"!==t&&"selectordinal"!==t){if(60===o&&!this.ignoreTag&&47===this.peek()){if(r)break;return this.error(s.UNMATCHED_CLOSING_TAG,M(this.clonePosition(),this.clonePosition()))}if(60===o&&!this.ignoreTag&&oe(this.peek()||0)){if((a=this.parseTag(e,t)).err)return a;n.push(a.val)}else{var a;if((a=this.parseLiteral(e,t)).err)return a;n.push(a.val)}}else{var i=this.clonePosition();this.bump(),n.push({type:u.pound,location:M(i,this.clonePosition())})}}}return{val:n,err:null}},e.prototype.parseTag=function(e,t){var r=this.clonePosition();this.bump();var n=this.parseTagName();if(this.bumpSpace(),this.bumpIf("/>"))return{val:{type:u.literal,value:"<"+n+"/>",location:M(r,this.clonePosition())},err:null};if(this.bumpIf(">")){var o=this.parseMessage(e+1,t,!0);if(o.err)return o;var a=o.val,i=this.clonePosition();if(this.bumpIf("</")){if(this.isEOF()||!oe(this.char()))return this.error(s.INVALID_TAG,M(i,this.clonePosition()));var c=this.clonePosition();return n!==this.parseTagName()?this.error(s.UNMATCHED_CLOSING_TAG,M(c,this.clonePosition())):(this.bumpSpace(),this.bumpIf(">")?{val:{type:u.tag,value:n,children:a,location:M(r,this.clonePosition())},err:null}:this.error(s.INVALID_TAG,M(i,this.clonePosition())))}return this.error(s.UNCLOSED_TAG,M(r,this.clonePosition()))}return this.error(s.INVALID_TAG,M(r,this.clonePosition()))},e.prototype.parseTagName=function(){var e,t=this.offset();for(this.bump();!this.isEOF()&&(45===(e=this.char())||46===e||e>=48&&e<=57||95===e||e>=97&&e<=122||e>=65&&e<=90||183==e||e>=192&&e<=214||e>=216&&e<=246||e>=248&&e<=893||e>=895&&e<=8191||e>=8204&&e<=8205||e>=8255&&e<=8256||e>=8304&&e<=8591||e>=11264&&e<=12271||e>=12289&&e<=55295||e>=63744&&e<=64975||e>=65008&&e<=65533||e>=65536&&e<=983039);)this.bump();return this.message.slice(t,this.offset())},e.prototype.parseLiteral=function(e,t){for(var r=this.clonePosition(),n="";;){var o=this.tryParseQuote(t);if(o)n+=o;else{var a=this.tryParseUnquoted(e,t);if(a)n+=a;else{var i=this.tryParseLeftAngleBracket();if(!i)break;n+=i}}}var s=M(r,this.clonePosition());return{val:{type:u.literal,value:n,location:s},err:null}},e.prototype.tryParseLeftAngleBracket=function(){return this.isEOF()||60!==this.char()||!this.ignoreTag&&(oe(e=this.peek()||0)||47===e)?null:(this.bump(),"<");var e},e.prototype.tryParseQuote=function(e){if(this.isEOF()||39!==this.char())return null;switch(this.peek()){case 39:return this.bump(),this.bump(),"'";case 123:case 60:case 62:case 125:break;case 35:if("plural"===e||"selectordinal"===e)break;return null;default:return null}this.bump();var t=[this.char()];for(this.bump();!this.isEOF();){var r=this.char();if(39===r){if(39!==this.peek()){this.bump();break}t.push(39),this.bump()}else t.push(r);this.bump()}return Y.apply(void 0,t)},e.prototype.tryParseUnquoted=function(e,t){if(this.isEOF())return null;var r=this.char();return 60===r||123===r||35===r&&("plural"===t||"selectordinal"===t)||125===r&&e>0?null:(this.bump(),Y(r))},e.prototype.parseArgument=function(e,t){var r=this.clonePosition();if(this.bump(),this.bumpSpace(),this.isEOF())return this.error(s.EXPECT_ARGUMENT_CLOSING_BRACE,M(r,this.clonePosition()));if(125===this.char())return this.bump(),this.error(s.EMPTY_ARGUMENT,M(r,this.clonePosition()));var n=this.parseIdentifierIfPossible().value;if(!n)return this.error(s.MALFORMED_ARGUMENT,M(r,this.clonePosition()));if(this.bumpSpace(),this.isEOF())return this.error(s.EXPECT_ARGUMENT_CLOSING_BRACE,M(r,this.clonePosition()));switch(this.char()){case 125:return this.bump(),{val:{type:u.argument,value:n,location:M(r,this.clonePosition())},err:null};case 44:return this.bump(),this.bumpSpace(),this.isEOF()?this.error(s.EXPECT_ARGUMENT_CLOSING_BRACE,M(r,this.clonePosition())):this.parseArgumentOptions(e,t,n,r);default:return this.error(s.MALFORMED_ARGUMENT,M(r,this.clonePosition()))}},e.prototype.parseIdentifierIfPossible=function(){var e=this.clonePosition(),t=this.offset(),r=X(this.message,t),n=t+r.length;return this.bumpTo(n),{value:r,location:M(e,this.clonePosition())}},e.prototype.parseArgumentOptions=function(e,t,r,n){var o,a=this.clonePosition(),i=this.parseIdentifierIfPossible().value,f=this.clonePosition();switch(i){case"":return this.error(s.EXPECT_ARGUMENT_TYPE,M(a,f));case"number":case"date":case"time":this.bumpSpace();var d=null;if(this.bumpIf(",")){this.bumpSpace();var p=this.clonePosition();if((w=this.parseSimpleArgStyleIfPossible()).err)return w;if(0===(g=ee(w.val)).length)return this.error(s.EXPECT_ARGUMENT_STYLE,M(this.clonePosition(),this.clonePosition()));d={style:g,styleLocation:M(p,this.clonePosition())}}if((E=this.tryParseArgumentClose(n)).err)return E;var h=M(n,this.clonePosition());if(d&&$(null==d?void 0:d.style,"::",0)){var m=Q(d.style.slice(2));if("number"===i)return(w=this.parseNumberSkeletonFromString(m,d.styleLocation)).err?w:{val:{type:u.number,value:r,location:h,style:w.val},err:null};if(0===m.length)return this.error(s.EXPECT_DATE_TIME_SKELETON,h);var g={type:c.dateTime,pattern:m,location:d.styleLocation,parsedOptions:this.shouldParseSkeletons?_(m):{}};return{val:{type:"date"===i?u.date:u.time,value:r,location:h,style:g},err:null}}return{val:{type:"number"===i?u.number:"date"===i?u.date:u.time,value:r,location:h,style:null!==(o=null==d?void 0:d.style)&&void 0!==o?o:null},err:null};case"plural":case"selectordinal":case"select":var v=this.clonePosition();if(this.bumpSpace(),!this.bumpIf(","))return this.error(s.EXPECT_SELECT_ARGUMENT_OPTIONS,M(v,l({},v)));this.bumpSpace();var y=this.parseIdentifierIfPossible(),b=0;if("select"!==i&&"offset"===y.value){if(!this.bumpIf(":"))return this.error(s.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE,M(this.clonePosition(),this.clonePosition()));var w;if(this.bumpSpace(),(w=this.tryParseDecimalInteger(s.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE,s.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE)).err)return w;this.bumpSpace(),y=this.parseIdentifierIfPossible(),b=w.val}var E,k=this.tryParsePluralOrSelectOptions(e,i,t,y);if(k.err)return k;if((E=this.tryParseArgumentClose(n)).err)return E;var L=M(n,this.clonePosition());return"select"===i?{val:{type:u.select,value:r,options:J(k.val),location:L},err:null}:{val:{type:u.plural,value:r,options:J(k.val),offset:b,pluralType:"plural"===i?"cardinal":"ordinal",location:L},err:null};default:return this.error(s.INVALID_ARGUMENT_TYPE,M(a,f))}},e.prototype.tryParseArgumentClose=function(e){return this.isEOF()||125!==this.char()?this.error(s.EXPECT_ARGUMENT_CLOSING_BRACE,M(e,this.clonePosition())):(this.bump(),{val:!0,err:null})},e.prototype.parseSimpleArgStyleIfPossible=function(){for(var e=0,t=this.clonePosition();!this.isEOF();)switch(this.char()){case 39:this.bump();var r=this.clonePosition();if(!this.bumpUntil("'"))return this.error(s.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE,M(r,this.clonePosition()));this.bump();break;case 123:e+=1,this.bump();break;case 125:if(!(e>0))return{val:this.message.slice(t.offset,this.offset()),err:null};e-=1;break;default:this.bump()}return{val:this.message.slice(t.offset,this.offset()),err:null}},e.prototype.parseNumberSkeletonFromString=function(e,t){var r=[];try{r=function(e){if(0===e.length)throw new Error("Number skeleton cannot be empty");for(var t=[],r=0,n=e.split(x).filter((function(e){return e.length>0}));r<n.length;r++){var o=n[r].split("/");if(0===o.length)throw new Error("Invalid number skeleton");for(var a=o[0],i=o.slice(1),s=0,u=i;s<u.length;s++)if(0===u[s].length)throw new Error("Invalid number skeleton");t.push({stem:a,options:i})}return t}(e)}catch(e){return this.error(s.INVALID_NUMBER_SKELETON,t)}return{val:{type:c.number,tokens:r,location:t,parsedOptions:this.shouldParseSkeletons?j(r):{}},err:null}},e.prototype.tryParsePluralOrSelectOptions=function(e,t,r,n){for(var o,a=!1,i=[],u=new Set,c=n.value,l=n.location;;){if(0===c.length){var f=this.clonePosition();if("select"===t||!this.bumpIf("="))break;var d=this.tryParseDecimalInteger(s.EXPECT_PLURAL_ARGUMENT_SELECTOR,s.INVALID_PLURAL_ARGUMENT_SELECTOR);if(d.err)return d;l=M(f,this.clonePosition()),c=this.message.slice(f.offset,this.offset())}if(u.has(c))return this.error("select"===t?s.DUPLICATE_SELECT_ARGUMENT_SELECTOR:s.DUPLICATE_PLURAL_ARGUMENT_SELECTOR,l);"other"===c&&(a=!0),this.bumpSpace();var p=this.clonePosition();if(!this.bumpIf("{"))return this.error("select"===t?s.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT:s.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT,M(this.clonePosition(),this.clonePosition()));var h=this.parseMessage(e+1,t,r);if(h.err)return h;var m=this.tryParseArgumentClose(p);if(m.err)return m;i.push([c,{value:h.val,location:M(p,this.clonePosition())}]),u.add(c),this.bumpSpace(),c=(o=this.parseIdentifierIfPossible()).value,l=o.location}return 0===i.length?this.error("select"===t?s.EXPECT_SELECT_ARGUMENT_SELECTOR:s.EXPECT_PLURAL_ARGUMENT_SELECTOR,M(this.clonePosition(),this.clonePosition())):this.requiresOtherClause&&!a?this.error(s.MISSING_OTHER_CLAUSE,M(this.clonePosition(),this.clonePosition())):{val:i,err:null}},e.prototype.tryParseDecimalInteger=function(e,t){var r=1,n=this.clonePosition();this.bumpIf("+")||this.bumpIf("-")&&(r=-1);for(var o=!1,a=0;!this.isEOF();){var i=this.char();if(!(i>=48&&i<=57))break;o=!0,a=10*a+(i-48),this.bump()}var s=M(n,this.clonePosition());return o?H(a*=r)?{val:a,err:null}:this.error(t,s):this.error(e,s)},e.prototype.offset=function(){return this.position.offset},e.prototype.isEOF=function(){return this.offset()===this.message.length},e.prototype.clonePosition=function(){return{offset:this.position.offset,line:this.position.line,column:this.position.column}},e.prototype.char=function(){var e=this.position.offset;if(e>=this.message.length)throw Error("out of bound");var t=Z(this.message,e);if(void 0===t)throw Error("Offset "+e+" is at invalid UTF-16 code unit boundary");return t},e.prototype.error=function(e,t){return{val:null,err:{kind:e,message:this.message,location:t}}},e.prototype.bump=function(){if(!this.isEOF()){var e=this.char();10===e?(this.position.line+=1,this.position.column=1,this.position.offset+=1):(this.position.column+=1,this.position.offset+=e<65536?1:2)}},e.prototype.bumpIf=function(e){if($(this.message,e,this.offset())){for(var t=0;t<e.length;t++)this.bump();return!0}return!1},e.prototype.bumpUntil=function(e){var t=this.offset(),r=this.message.indexOf(e,t);return r>=0?(this.bumpTo(r),!0):(this.bumpTo(this.message.length),!1)},e.prototype.bumpTo=function(e){if(this.offset()>e)throw Error("targetOffset "+e+" must be greater than or equal to the current offset "+this.offset());for(e=Math.min(e,this.message.length);;){var t=this.offset();if(t===e)break;if(t>e)throw Error("targetOffset "+e+" is at invalid UTF-16 code unit boundary");if(this.bump(),this.isEOF())break}},e.prototype.bumpSpace=function(){for(;!this.isEOF()&&ae(this.char());)this.bump()},e.prototype.peek=function(){if(this.isEOF())return null;var e=this.char(),t=this.offset(),r=this.message.charCodeAt(t+(e>=65536?2:1));return null!=r?r:null},e}();function oe(e){return e>=97&&e<=122||e>=65&&e<=90}function ae(e){return e>=9&&e<=13||32===e||133===e||e>=8206&&e<=8207||8232===e||8233===e}function ie(e){return e>=33&&e<=35||36===e||e>=37&&e<=39||40===e||41===e||42===e||43===e||44===e||45===e||e>=46&&e<=47||e>=58&&e<=59||e>=60&&e<=62||e>=63&&e<=64||91===e||92===e||93===e||94===e||96===e||123===e||124===e||125===e||126===e||161===e||e>=162&&e<=165||166===e||167===e||169===e||171===e||172===e||174===e||176===e||177===e||182===e||187===e||191===e||215===e||247===e||e>=8208&&e<=8213||e>=8214&&e<=8215||8216===e||8217===e||8218===e||e>=8219&&e<=8220||8221===e||8222===e||8223===e||e>=8224&&e<=8231||e>=8240&&e<=8248||8249===e||8250===e||e>=8251&&e<=8254||e>=8257&&e<=8259||8260===e||8261===e||8262===e||e>=8263&&e<=8273||8274===e||8275===e||e>=8277&&e<=8286||e>=8592&&e<=8596||e>=8597&&e<=8601||e>=8602&&e<=8603||e>=8604&&e<=8607||8608===e||e>=8609&&e<=8610||8611===e||e>=8612&&e<=8613||8614===e||e>=8615&&e<=8621||8622===e||e>=8623&&e<=8653||e>=8654&&e<=8655||e>=8656&&e<=8657||8658===e||8659===e||8660===e||e>=8661&&e<=8691||e>=8692&&e<=8959||e>=8960&&e<=8967||8968===e||8969===e||8970===e||8971===e||e>=8972&&e<=8991||e>=8992&&e<=8993||e>=8994&&e<=9e3||9001===e||9002===e||e>=9003&&e<=9083||9084===e||e>=9085&&e<=9114||e>=9115&&e<=9139||e>=9140&&e<=9179||e>=9180&&e<=9185||e>=9186&&e<=9254||e>=9255&&e<=9279||e>=9280&&e<=9290||e>=9291&&e<=9311||e>=9472&&e<=9654||9655===e||e>=9656&&e<=9664||9665===e||e>=9666&&e<=9719||e>=9720&&e<=9727||e>=9728&&e<=9838||9839===e||e>=9840&&e<=10087||10088===e||10089===e||10090===e||10091===e||10092===e||10093===e||10094===e||10095===e||10096===e||10097===e||10098===e||10099===e||10100===e||10101===e||e>=10132&&e<=10175||e>=10176&&e<=10180||10181===e||10182===e||e>=10183&&e<=10213||10214===e||10215===e||10216===e||10217===e||10218===e||10219===e||10220===e||10221===e||10222===e||10223===e||e>=10224&&e<=10239||e>=10240&&e<=10495||e>=10496&&e<=10626||10627===e||10628===e||10629===e||10630===e||10631===e||10632===e||10633===e||10634===e||10635===e||10636===e||10637===e||10638===e||10639===e||10640===e||10641===e||10642===e||10643===e||10644===e||10645===e||10646===e||10647===e||10648===e||e>=10649&&e<=10711||10712===e||10713===e||10714===e||10715===e||e>=10716&&e<=10747||10748===e||10749===e||e>=10750&&e<=11007||e>=11008&&e<=11055||e>=11056&&e<=11076||e>=11077&&e<=11078||e>=11079&&e<=11084||e>=11085&&e<=11123||e>=11124&&e<=11125||e>=11126&&e<=11157||11158===e||e>=11159&&e<=11263||e>=11776&&e<=11777||11778===e||11779===e||11780===e||11781===e||e>=11782&&e<=11784||11785===e||11786===e||11787===e||11788===e||11789===e||e>=11790&&e<=11798||11799===e||e>=11800&&e<=11801||11802===e||11803===e||11804===e||11805===e||e>=11806&&e<=11807||11808===e||11809===e||11810===e||11811===e||11812===e||11813===e||11814===e||11815===e||11816===e||11817===e||e>=11818&&e<=11822||11823===e||e>=11824&&e<=11833||e>=11834&&e<=11835||e>=11836&&e<=11839||11840===e||11841===e||11842===e||e>=11843&&e<=11855||e>=11856&&e<=11857||11858===e||e>=11859&&e<=11903||e>=12289&&e<=12291||12296===e||12297===e||12298===e||12299===e||12300===e||12301===e||12302===e||12303===e||12304===e||12305===e||e>=12306&&e<=12307||12308===e||12309===e||12310===e||12311===e||12312===e||12313===e||12314===e||12315===e||12316===e||12317===e||e>=12318&&e<=12319||12320===e||12336===e||64830===e||64831===e||e>=65093&&e<=65094}function se(e){e.forEach((function(e){if(delete e.location,g(e)||v(e))for(var t in e.options)delete e.options[t].location,se(e.options[t].value);else p(e)&&w(e.style)||(h(e)||m(e))&&E(e.style)?delete e.style.location:b(e)&&se(e.children)}))}function ue(e,t){void 0===t&&(t={}),t=l({shouldParseSkeletons:!0,requiresOtherClause:!0},t);var r=new ne(e,t).parse();if(r.err){var n=SyntaxError(s[r.err.kind]);throw n.location=r.err.location,n.originalMessage=r.err.message,n}return(null==t?void 0:t.captureLocation)||se(r.val),r.val}function ce(e,t){var r=t&&t.cache?t.cache:ve,n=t&&t.serializer?t.serializer:he;return(t&&t.strategy?t.strategy:pe)(e,{cache:r,serializer:n})}function le(e,t,r,n){var o,a=null==(o=n)||"number"==typeof o||"boolean"==typeof o?n:r(n),i=t.get(a);return void 0===i&&(i=e.call(this,n),t.set(a,i)),i}function fe(e,t,r){var n=Array.prototype.slice.call(arguments,3),o=r(n),a=t.get(o);return void 0===a&&(a=e.apply(this,n),t.set(o,a)),a}function de(e,t,r,n,o){return r.bind(t,e,n,o)}function pe(e,t){return de(e,this,1===e.length?le:fe,t.cache.create(),t.serializer)}var he=function(){return JSON.stringify(arguments)};function me(){this.cache=Object.create(null)}me.prototype.get=function(e){return this.cache[e]},me.prototype.set=function(e,t){this.cache[e]=t};var ge,ve={create:function(){return new me}},ye={variadic:function(e,t){return de(e,this,fe,t.cache.create(),t.serializer)},monadic:function(e,t){return de(e,this,le,t.cache.create(),t.serializer)}};!function(e){e.MISSING_VALUE="MISSING_VALUE",e.INVALID_VALUE="INVALID_VALUE",e.MISSING_INTL_API="MISSING_INTL_API"}(ge||(ge={}));var be,we=function(e){function t(t,r,n){var o=e.call(this,t)||this;return o.code=r,o.originalMessage=n,o}return o(t,e),t.prototype.toString=function(){return"[formatjs Error: "+this.code+"] "+this.message},t}(Error),Ee=function(e){function t(t,r,n,o){return e.call(this,'Invalid values for "'+t+'": "'+r+'". Options are "'+Object.keys(n).join('", "')+'"',ge.INVALID_VALUE,o)||this}return o(t,e),t}(we),ke=function(e){function t(t,r,n){return e.call(this,'Value for "'+t+'" must be of type '+r,ge.INVALID_VALUE,n)||this}return o(t,e),t}(we),Le=function(e){function t(t,r){return e.call(this,'The intl string context variable "'+t+'" was not provided to the string "'+r+'"',ge.MISSING_VALUE,r)||this}return o(t,e),t}(we);function _e(e){return"function"==typeof e}function Se(e,t,r,n,o,a,i){if(1===e.length&&f(e[0]))return[{type:be.literal,value:e[0].value}];for(var s=[],u=0,c=e;u<c.length;u++){var l=c[u];if(f(l))s.push({type:be.literal,value:l.value});else if(y(l))"number"==typeof a&&s.push({type:be.literal,value:r.getNumberFormat(t).format(a)});else{var k=l.value;if(!o||!(k in o))throw new Le(k,i);var L=o[k];if(d(l))L&&"string"!=typeof L&&"number"!=typeof L||(L="string"==typeof L||"number"==typeof L?String(L):""),s.push({type:"string"==typeof L?be.literal:be.object,value:L});else if(h(l)){var _="string"==typeof l.style?n.date[l.style]:E(l.style)?l.style.parsedOptions:void 0;s.push({type:be.literal,value:r.getDateTimeFormat(t,_).format(L)})}else if(m(l))_="string"==typeof l.style?n.time[l.style]:E(l.style)?l.style.parsedOptions:void 0,s.push({type:be.literal,value:r.getDateTimeFormat(t,_).format(L)});else if(p(l))(_="string"==typeof l.style?n.number[l.style]:w(l.style)?l.style.parsedOptions:void 0)&&_.scale&&(L*=_.scale||1),s.push({type:be.literal,value:r.getNumberFormat(t,_).format(L)});else{if(b(l)){var S=l.children,A=l.value,x=o[A];if(!_e(x))throw new ke(A,"function",i);var T=x(Se(S,t,r,n,o,a).map((function(e){return e.value})));Array.isArray(T)||(T=[T]),s.push.apply(s,T.map((function(e){return{type:"string"==typeof e?be.literal:be.object,value:e}})))}if(g(l)){if(!(O=l.options[L]||l.options.other))throw new Ee(l.value,L,Object.keys(l.options),i);s.push.apply(s,Se(O.value,t,r,n,o))}else if(v(l)){var O;if(!(O=l.options["="+L])){if(!Intl.PluralRules)throw new we('Intl.PluralRules is not available in this environment.\nTry polyfilling it using "@formatjs/intl-pluralrules"\n',ge.MISSING_INTL_API,i);var I=r.getPluralRules(t,{type:l.pluralType}).select(L-(l.offset||0));O=l.options[I]||l.options.other}if(!O)throw new Ee(l.value,L,Object.keys(l.options),i);s.push.apply(s,Se(O.value,t,r,n,o,L-(l.offset||0)))}}}}return(R=s).length<2?R:R.reduce((function(e,t){var r=e[e.length-1];return r&&r.type===be.literal&&t.type===be.literal?r.value+=t.value:e.push(t),e}),[]);var R}function Ae(e){return{create:function(){return{get:function(t){return e[t]},set:function(t,r){e[t]=r}}}}}!function(e){e[e.literal=0]="literal",e[e.object=1]="object"}(be||(be={}));var xe=function(){function e(t,r,n,o){var s,u,c,l=this;if(void 0===r&&(r=e.defaultLocale),this.formatterCache={number:{},dateTime:{},pluralRules:{}},this.format=function(e){var t=l.formatToParts(e);if(1===t.length)return t[0].value;var r=t.reduce((function(e,t){return e.length&&t.type===be.literal&&"string"==typeof e[e.length-1]?e[e.length-1]+=t.value:e.push(t.value),e}),[]);return r.length<=1?r[0]||"":r},this.formatToParts=function(e){return Se(l.ast,l.locales,l.formatters,l.formats,e,void 0,l.message)},this.resolvedOptions=function(){return{locale:Intl.NumberFormat.supportedLocalesOf(l.locales)[0]}},this.getAst=function(){return l.ast},"string"==typeof t){if(this.message=t,!e.__parse)throw new TypeError("IntlMessageFormat.__parse must be set to process `message` of type `string`");this.ast=e.__parse(t,{ignoreTag:null==o?void 0:o.ignoreTag})}else this.ast=t;if(!Array.isArray(this.ast))throw new TypeError("A message must be provided as a String or AST.");this.formats=(u=e.formats,(c=n)?Object.keys(u).reduce((function(e,t){var r,n;return e[t]=(r=u[t],(n=c[t])?a(a(a({},r||{}),n||{}),Object.keys(r).reduce((function(e,t){return e[t]=a(a({},r[t]),n[t]||{}),e}),{})):r),e}),a({},u)):u),this.locales=r,this.formatters=o&&o.formatters||(void 0===(s=this.formatterCache)&&(s={number:{},dateTime:{},pluralRules:{}}),{getNumberFormat:ce((function(){for(var e,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return new((e=Intl.NumberFormat).bind.apply(e,i([void 0],t)))}),{cache:Ae(s.number),strategy:ye.variadic}),getDateTimeFormat:ce((function(){for(var e,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return new((e=Intl.DateTimeFormat).bind.apply(e,i([void 0],t)))}),{cache:Ae(s.dateTime),strategy:ye.variadic}),getPluralRules:ce((function(){for(var e,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return new((e=Intl.PluralRules).bind.apply(e,i([void 0],t)))}),{cache:Ae(s.pluralRules),strategy:ye.variadic})})}return Object.defineProperty(e,"defaultLocale",{get:function(){return e.memoizedDefaultLocale||(e.memoizedDefaultLocale=(new Intl.NumberFormat).resolvedOptions().locale),e.memoizedDefaultLocale},enumerable:!1,configurable:!0}),e.memoizedDefaultLocale=null,e.__parse=ue,e.formats={number:{integer:{maximumFractionDigits:0},currency:{style:"currency"},percent:{style:"percent"}},date:{short:{month:"numeric",day:"numeric",year:"2-digit"},medium:{month:"short",day:"numeric",year:"numeric"},long:{month:"long",day:"numeric",year:"numeric"},full:{weekday:"long",month:"long",day:"numeric",year:"numeric"}},time:{short:{hour:"numeric",minute:"numeric"},medium:{hour:"numeric",minute:"numeric",second:"numeric"},long:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},full:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"}}},e}(),Te=xe},1989:(e,t,r)=>{var n=r(51789),o=r(80401),a=r(57667),i=r(21327),s=r(81866);function u(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}u.prototype.clear=n,u.prototype.delete=o,u.prototype.get=a,u.prototype.has=i,u.prototype.set=s,e.exports=u},38407:(e,t,r)=>{var n=r(27040),o=r(14125),a=r(82117),i=r(67518),s=r(13399);function u(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}u.prototype.clear=n,u.prototype.delete=o,u.prototype.get=a,u.prototype.has=i,u.prototype.set=s,e.exports=u},57071:(e,t,r)=>{var n=r(10852)(r(55639),"Map");e.exports=n},83369:(e,t,r)=>{var n=r(24785),o=r(11285),a=r(96e3),i=r(49916),s=r(95265);function u(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}u.prototype.clear=n,u.prototype.delete=o,u.prototype.get=a,u.prototype.has=i,u.prototype.set=s,e.exports=u},58525:(e,t,r)=>{var n=r(10852)(r(55639),"Set");e.exports=n},88668:(e,t,r)=>{var n=r(83369),o=r(90619),a=r(72385);function i(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new n;++t<r;)this.add(e[t])}i.prototype.add=i.prototype.push=o,i.prototype.has=a,e.exports=i},62705:(e,t,r)=>{var n=r(55639).Symbol;e.exports=n},47443:(e,t,r)=>{var n=r(42118);e.exports=function(e,t){return!(null==e||!e.length)&&n(e,t,0)>-1}},1196:e=>{e.exports=function(e,t,r){for(var n=-1,o=null==e?0:e.length;++n<o;)if(r(t,e[n]))return!0;return!1}},62488:e=>{e.exports=function(e,t){for(var r=-1,n=t.length,o=e.length;++r<n;)e[o+r]=t[r];return e}},18470:(e,t,r)=>{var n=r(77813);e.exports=function(e,t){for(var r=e.length;r--;)if(n(e[r][0],t))return r;return-1}},41848:e=>{e.exports=function(e,t,r,n){for(var o=e.length,a=r+(n?1:-1);n?a--:++a<o;)if(t(e[a],a,e))return a;return-1}},21078:(e,t,r)=>{var n=r(62488),o=r(37285);e.exports=function e(t,r,a,i,s){var u=-1,c=t.length;for(a||(a=o),s||(s=[]);++u<c;){var l=t[u];r>0&&a(l)?r>1?e(l,r-1,a,i,s):n(s,l):i||(s[s.length]=l)}return s}},44239:(e,t,r)=>{var n=r(62705),o=r(89607),a=r(2333),i=n?n.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":i&&i in Object(e)?o(e):a(e)}},42118:(e,t,r)=>{var n=r(41848),o=r(62722),a=r(42351);e.exports=function(e,t,r){return t==t?a(e,t,r):n(e,o,r)}},9454:(e,t,r)=>{var n=r(44239),o=r(37005);e.exports=function(e){return o(e)&&"[object Arguments]"==n(e)}},62722:e=>{e.exports=function(e){return e!=e}},28458:(e,t,r)=>{var n=r(23560),o=r(15346),a=r(13218),i=r(80346),s=/^\[object .+?Constructor\]$/,u=Function.prototype,c=Object.prototype,l=u.toString,f=c.hasOwnProperty,d=RegExp("^"+l.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!a(e)||o(e))&&(n(e)?d:s).test(i(e))}},45652:(e,t,r)=>{var n=r(88668),o=r(47443),a=r(1196),i=r(74757),s=r(23593),u=r(21814);e.exports=function(e,t,r){var c=-1,l=o,f=e.length,d=!0,p=[],h=p;if(r)d=!1,l=a;else if(f>=200){var m=t?null:s(e);if(m)return u(m);d=!1,l=i,h=new n}else h=t?[]:p;e:for(;++c<f;){var g=e[c],v=t?t(g):g;if(g=r||0!==g?g:0,d&&v==v){for(var y=h.length;y--;)if(h[y]===v)continue e;t&&h.push(v),p.push(g)}else l(h,v,r)||(h!==p&&h.push(v),p.push(g))}return p}},74757:e=>{e.exports=function(e,t){return e.has(t)}},14429:(e,t,r)=>{var n=r(55639)["__core-js_shared__"];e.exports=n},23593:(e,t,r)=>{var n=r(58525),o=r(50308),a=r(21814),i=n&&1/a(new n([,-0]))[1]==1/0?function(e){return new n(e)}:o;e.exports=i},31957:(e,t,r)=>{var n="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g;e.exports=n},45050:(e,t,r)=>{var n=r(37019);e.exports=function(e,t){var r=e.__data__;return n(t)?r["string"==typeof t?"string":"hash"]:r.map}},10852:(e,t,r)=>{var n=r(28458),o=r(47801);e.exports=function(e,t){var r=o(e,t);return n(r)?r:void 0}},89607:(e,t,r)=>{var n=r(62705),o=Object.prototype,a=o.hasOwnProperty,i=o.toString,s=n?n.toStringTag:void 0;e.exports=function(e){var t=a.call(e,s),r=e[s];try{e[s]=void 0;var n=!0}catch(e){}var o=i.call(e);return n&&(t?e[s]=r:delete e[s]),o}},47801:e=>{e.exports=function(e,t){return null==e?void 0:e[t]}},51789:(e,t,r)=>{var n=r(94536);e.exports=function(){this.__data__=n?n(null):{},this.size=0}},80401:e=>{e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},57667:(e,t,r)=>{var n=r(94536),o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(n){var r=t[e];return"__lodash_hash_undefined__"===r?void 0:r}return o.call(t,e)?t[e]:void 0}},21327:(e,t,r)=>{var n=r(94536),o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return n?void 0!==t[e]:o.call(t,e)}},81866:(e,t,r)=>{var n=r(94536);e.exports=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=n&&void 0===t?"__lodash_hash_undefined__":t,this}},37285:(e,t,r)=>{var n=r(62705),o=r(35694),a=r(1469),i=n?n.isConcatSpreadable:void 0;e.exports=function(e){return a(e)||o(e)||!!(i&&e&&e[i])}},37019:e=>{e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},15346:(e,t,r)=>{var n,o=r(14429),a=(n=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"";e.exports=function(e){return!!a&&a in e}},27040:e=>{e.exports=function(){this.__data__=[],this.size=0}},14125:(e,t,r)=>{var n=r(18470),o=Array.prototype.splice;e.exports=function(e){var t=this.__data__,r=n(t,e);return!(r<0||(r==t.length-1?t.pop():o.call(t,r,1),--this.size,0))}},82117:(e,t,r)=>{var n=r(18470);e.exports=function(e){var t=this.__data__,r=n(t,e);return r<0?void 0:t[r][1]}},67518:(e,t,r)=>{var n=r(18470);e.exports=function(e){return n(this.__data__,e)>-1}},13399:(e,t,r)=>{var n=r(18470);e.exports=function(e,t){var r=this.__data__,o=n(r,e);return o<0?(++this.size,r.push([e,t])):r[o][1]=t,this}},24785:(e,t,r)=>{var n=r(1989),o=r(38407),a=r(57071);e.exports=function(){this.size=0,this.__data__={hash:new n,map:new(a||o),string:new n}}},11285:(e,t,r)=>{var n=r(45050);e.exports=function(e){var t=n(this,e).delete(e);return this.size-=t?1:0,t}},96e3:(e,t,r)=>{var n=r(45050);e.exports=function(e){return n(this,e).get(e)}},49916:(e,t,r)=>{var n=r(45050);e.exports=function(e){return n(this,e).has(e)}},95265:(e,t,r)=>{var n=r(45050);e.exports=function(e,t){var r=n(this,e),o=r.size;return r.set(e,t),this.size+=r.size==o?0:1,this}},94536:(e,t,r)=>{var n=r(10852)(Object,"create");e.exports=n},2333:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},55639:(e,t,r)=>{var n=r(31957),o="object"==typeof self&&self&&self.Object===Object&&self,a=n||o||Function("return this")();e.exports=a},90619:e=>{e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},72385:e=>{e.exports=function(e){return this.__data__.has(e)}},21814:e=>{e.exports=function(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r}},42351:e=>{e.exports=function(e,t,r){for(var n=r-1,o=e.length;++n<o;)if(e[n]===t)return n;return-1}},80346:e=>{var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},77813:e=>{e.exports=function(e,t){return e===t||e!=e&&t!=t}},85564:(e,t,r)=>{var n=r(21078);e.exports=function(e){return null!=e&&e.length?n(e,1):[]}},35694:(e,t,r)=>{var n=r(9454),o=r(37005),a=Object.prototype,i=a.hasOwnProperty,s=a.propertyIsEnumerable,u=n(function(){return arguments}())?n:function(e){return o(e)&&i.call(e,"callee")&&!s.call(e,"callee")};e.exports=u},1469:e=>{var t=Array.isArray;e.exports=t},23560:(e,t,r)=>{var n=r(44239),o=r(13218);e.exports=function(e){if(!o(e))return!1;var t=n(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},13218:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},37005:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},96486:function(e,t,r){var n;e=r.nmd(e),function(){var o,a="Expected a function",i="__lodash_hash_undefined__",s="__lodash_placeholder__",u=32,c=128,l=1/0,f=9007199254740991,d=NaN,p=4294967295,h=[["ary",c],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",u],["partialRight",64],["rearg",256]],m="[object Arguments]",g="[object Array]",v="[object Boolean]",y="[object Date]",b="[object Error]",w="[object Function]",E="[object GeneratorFunction]",k="[object Map]",L="[object Number]",_="[object Object]",S="[object Promise]",A="[object RegExp]",x="[object Set]",T="[object String]",O="[object Symbol]",I="[object WeakMap]",R="[object ArrayBuffer]",D="[object DataView]",P="[object Float32Array]",C="[object Float64Array]",F="[object Int8Array]",j="[object Int16Array]",U="[object Int32Array]",N="[object Uint8Array]",M="[object Uint8ClampedArray]",B="[object Uint16Array]",z="[object Uint32Array]",V=/\b__p \+= '';/g,q=/\b(__p \+=) '' \+/g,G=/(__e\(.*?\)|\b__t\)) \+\n'';/g,W=/&(?:amp|lt|gt|quot|#39);/g,H=/[&<>"']/g,K=RegExp(W.source),X=RegExp(H.source),$=/<%-([\s\S]+?)%>/g,Y=/<%([\s\S]+?)%>/g,J=/<%=([\s\S]+?)%>/g,Z=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Q=/^\w*$/,ee=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,te=/[\\^$.*+?()[\]{}|]/g,re=RegExp(te.source),ne=/^\s+/,oe=/\s/,ae=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ie=/\{\n\/\* \[wrapped with (.+)\] \*/,se=/,? & /,ue=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ce=/[()=,{}\[\]\/\s]/,le=/\\(\\)?/g,fe=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,de=/\w*$/,pe=/^[-+]0x[0-9a-f]+$/i,he=/^0b[01]+$/i,me=/^\[object .+?Constructor\]$/,ge=/^0o[0-7]+$/i,ve=/^(?:0|[1-9]\d*)$/,ye=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,be=/($^)/,we=/['\n\r\u2028\u2029\\]/g,Ee="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",ke="a-z\\xdf-\\xf6\\xf8-\\xff",Le="A-Z\\xc0-\\xd6\\xd8-\\xde",_e="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Se="["+_e+"]",Ae="["+Ee+"]",xe="\\d+",Te="["+ke+"]",Oe="[^\\ud800-\\udfff"+_e+xe+"\\u2700-\\u27bf"+ke+Le+"]",Ie="\\ud83c[\\udffb-\\udfff]",Re="[^\\ud800-\\udfff]",De="(?:\\ud83c[\\udde6-\\uddff]){2}",Pe="[\\ud800-\\udbff][\\udc00-\\udfff]",Ce="["+Le+"]",Fe="(?:"+Te+"|"+Oe+")",je="(?:"+Ce+"|"+Oe+")",Ue="(?:['](?:d|ll|m|re|s|t|ve))?",Ne="(?:['](?:D|LL|M|RE|S|T|VE))?",Me="(?:"+Ae+"|"+Ie+")?",Be="[\\ufe0e\\ufe0f]?",ze=Be+Me+"(?:\\u200d(?:"+[Re,De,Pe].join("|")+")"+Be+Me+")*",Ve="(?:"+["[\\u2700-\\u27bf]",De,Pe].join("|")+")"+ze,qe="(?:"+[Re+Ae+"?",Ae,De,Pe,"[\\ud800-\\udfff]"].join("|")+")",Ge=RegExp("[']","g"),We=RegExp(Ae,"g"),He=RegExp(Ie+"(?="+Ie+")|"+qe+ze,"g"),Ke=RegExp([Ce+"?"+Te+"+"+Ue+"(?="+[Se,Ce,"$"].join("|")+")",je+"+"+Ne+"(?="+[Se,Ce+Fe,"$"].join("|")+")",Ce+"?"+Fe+"+"+Ue,Ce+"+"+Ne,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",xe,Ve].join("|"),"g"),Xe=RegExp("[\\u200d\\ud800-\\udfff"+Ee+"\\ufe0e\\ufe0f]"),$e=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Ye=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Je=-1,Ze={};Ze[P]=Ze[C]=Ze[F]=Ze[j]=Ze[U]=Ze[N]=Ze[M]=Ze[B]=Ze[z]=!0,Ze[m]=Ze[g]=Ze[R]=Ze[v]=Ze[D]=Ze[y]=Ze[b]=Ze[w]=Ze[k]=Ze[L]=Ze[_]=Ze[A]=Ze[x]=Ze[T]=Ze[I]=!1;var Qe={};Qe[m]=Qe[g]=Qe[R]=Qe[D]=Qe[v]=Qe[y]=Qe[P]=Qe[C]=Qe[F]=Qe[j]=Qe[U]=Qe[k]=Qe[L]=Qe[_]=Qe[A]=Qe[x]=Qe[T]=Qe[O]=Qe[N]=Qe[M]=Qe[B]=Qe[z]=!0,Qe[b]=Qe[w]=Qe[I]=!1;var et={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},tt=parseFloat,rt=parseInt,nt="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g,ot="object"==typeof self&&self&&self.Object===Object&&self,at=nt||ot||Function("return this")(),it=t&&!t.nodeType&&t,st=it&&e&&!e.nodeType&&e,ut=st&&st.exports===it,ct=ut&&nt.process,lt=function(){try{return st&&st.require&&st.require("util").types||ct&&ct.binding&&ct.binding("util")}catch(e){}}(),ft=lt&&lt.isArrayBuffer,dt=lt&&lt.isDate,pt=lt&&lt.isMap,ht=lt&&lt.isRegExp,mt=lt&&lt.isSet,gt=lt&&lt.isTypedArray;function vt(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}function yt(e,t,r,n){for(var o=-1,a=null==e?0:e.length;++o<a;){var i=e[o];t(n,i,r(i),e)}return n}function bt(e,t){for(var r=-1,n=null==e?0:e.length;++r<n&&!1!==t(e[r],r,e););return e}function wt(e,t){for(var r=null==e?0:e.length;r--&&!1!==t(e[r],r,e););return e}function Et(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}function kt(e,t){for(var r=-1,n=null==e?0:e.length,o=0,a=[];++r<n;){var i=e[r];t(i,r,e)&&(a[o++]=i)}return a}function Lt(e,t){return!(null==e||!e.length)&&Pt(e,t,0)>-1}function _t(e,t,r){for(var n=-1,o=null==e?0:e.length;++n<o;)if(r(t,e[n]))return!0;return!1}function St(e,t){for(var r=-1,n=null==e?0:e.length,o=Array(n);++r<n;)o[r]=t(e[r],r,e);return o}function At(e,t){for(var r=-1,n=t.length,o=e.length;++r<n;)e[o+r]=t[r];return e}function xt(e,t,r,n){var o=-1,a=null==e?0:e.length;for(n&&a&&(r=e[++o]);++o<a;)r=t(r,e[o],o,e);return r}function Tt(e,t,r,n){var o=null==e?0:e.length;for(n&&o&&(r=e[--o]);o--;)r=t(r,e[o],o,e);return r}function Ot(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var It=Ut("length");function Rt(e,t,r){var n;return r(e,(function(e,r,o){if(t(e,r,o))return n=r,!1})),n}function Dt(e,t,r,n){for(var o=e.length,a=r+(n?1:-1);n?a--:++a<o;)if(t(e[a],a,e))return a;return-1}function Pt(e,t,r){return t==t?function(e,t,r){for(var n=r-1,o=e.length;++n<o;)if(e[n]===t)return n;return-1}(e,t,r):Dt(e,Ft,r)}function Ct(e,t,r,n){for(var o=r-1,a=e.length;++o<a;)if(n(e[o],t))return o;return-1}function Ft(e){return e!=e}function jt(e,t){var r=null==e?0:e.length;return r?Bt(e,t)/r:d}function Ut(e){return function(t){return null==t?o:t[e]}}function Nt(e){return function(t){return null==e?o:e[t]}}function Mt(e,t,r,n,o){return o(e,(function(e,o,a){r=n?(n=!1,e):t(r,e,o,a)})),r}function Bt(e,t){for(var r,n=-1,a=e.length;++n<a;){var i=t(e[n]);i!==o&&(r=r===o?i:r+i)}return r}function zt(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}function Vt(e){return e?e.slice(0,ir(e)+1).replace(ne,""):e}function qt(e){return function(t){return e(t)}}function Gt(e,t){return St(t,(function(t){return e[t]}))}function Wt(e,t){return e.has(t)}function Ht(e,t){for(var r=-1,n=e.length;++r<n&&Pt(t,e[r],0)>-1;);return r}function Kt(e,t){for(var r=e.length;r--&&Pt(t,e[r],0)>-1;);return r}function Xt(e,t){for(var r=e.length,n=0;r--;)e[r]===t&&++n;return n}var $t=Nt({:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"}),Yt=Nt({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Jt(e){return"\\"+et[e]}function Zt(e){return Xe.test(e)}function Qt(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r}function er(e,t){return function(r){return e(t(r))}}function tr(e,t){for(var r=-1,n=e.length,o=0,a=[];++r<n;){var i=e[r];i!==t&&i!==s||(e[r]=s,a[o++]=r)}return a}function rr(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r}function nr(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=[e,e]})),r}function or(e){return Zt(e)?function(e){for(var t=He.lastIndex=0;He.test(e);)++t;return t}(e):It(e)}function ar(e){return Zt(e)?function(e){return e.match(He)||[]}(e):function(e){return e.split("")}(e)}function ir(e){for(var t=e.length;t--&&oe.test(e.charAt(t)););return t}var sr=Nt({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),ur=function e(t){var r,n=(t=null==t?at:ur.defaults(at.Object(),t,ur.pick(at,Ye))).Array,oe=t.Date,Ee=t.Error,ke=t.Function,Le=t.Math,_e=t.Object,Se=t.RegExp,Ae=t.String,xe=t.TypeError,Te=n.prototype,Oe=ke.prototype,Ie=_e.prototype,Re=t["__core-js_shared__"],De=Oe.toString,Pe=Ie.hasOwnProperty,Ce=0,Fe=(r=/[^.]+$/.exec(Re&&Re.keys&&Re.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"",je=Ie.toString,Ue=De.call(_e),Ne=at._,Me=Se("^"+De.call(Pe).replace(te,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Be=ut?t.Buffer:o,ze=t.Symbol,Ve=t.Uint8Array,qe=Be?Be.allocUnsafe:o,He=er(_e.getPrototypeOf,_e),Xe=_e.create,et=Ie.propertyIsEnumerable,nt=Te.splice,ot=ze?ze.isConcatSpreadable:o,it=ze?ze.iterator:o,st=ze?ze.toStringTag:o,ct=function(){try{var e=la(_e,"defineProperty");return e({},"",{}),e}catch(e){}}(),lt=t.clearTimeout!==at.clearTimeout&&t.clearTimeout,It=oe&&oe.now!==at.Date.now&&oe.now,Nt=t.setTimeout!==at.setTimeout&&t.setTimeout,cr=Le.ceil,lr=Le.floor,fr=_e.getOwnPropertySymbols,dr=Be?Be.isBuffer:o,pr=t.isFinite,hr=Te.join,mr=er(_e.keys,_e),gr=Le.max,vr=Le.min,yr=oe.now,br=t.parseInt,wr=Le.random,Er=Te.reverse,kr=la(t,"DataView"),Lr=la(t,"Map"),_r=la(t,"Promise"),Sr=la(t,"Set"),Ar=la(t,"WeakMap"),xr=la(_e,"create"),Tr=Ar&&new Ar,Or={},Ir=Ma(kr),Rr=Ma(Lr),Dr=Ma(_r),Pr=Ma(Sr),Cr=Ma(Ar),Fr=ze?ze.prototype:o,jr=Fr?Fr.valueOf:o,Ur=Fr?Fr.toString:o;function Nr(e){if(rs(e)&&!Wi(e)&&!(e instanceof Vr)){if(e instanceof zr)return e;if(Pe.call(e,"__wrapped__"))return Ba(e)}return new zr(e)}var Mr=function(){function e(){}return function(t){if(!ts(t))return{};if(Xe)return Xe(t);e.prototype=t;var r=new e;return e.prototype=o,r}}();function Br(){}function zr(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=o}function Vr(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=p,this.__views__=[]}function qr(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Gr(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Wr(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Hr(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new Wr;++t<r;)this.add(e[t])}function Kr(e){var t=this.__data__=new Gr(e);this.size=t.size}function Xr(e,t){var r=Wi(e),n=!r&&Gi(e),o=!r&&!n&&$i(e),a=!r&&!n&&!o&&ls(e),i=r||n||o||a,s=i?zt(e.length,Ae):[],u=s.length;for(var c in e)!t&&!Pe.call(e,c)||i&&("length"==c||o&&("offset"==c||"parent"==c)||a&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||va(c,u))||s.push(c);return s}function $r(e){var t=e.length;return t?e[Hn(0,t-1)]:o}function Yr(e,t){return Ca(To(e),an(t,0,e.length))}function Jr(e){return Ca(To(e))}function Zr(e,t,r){(r!==o&&!zi(e[t],r)||r===o&&!(t in e))&&nn(e,t,r)}function Qr(e,t,r){var n=e[t];Pe.call(e,t)&&zi(n,r)&&(r!==o||t in e)||nn(e,t,r)}function en(e,t){for(var r=e.length;r--;)if(zi(e[r][0],t))return r;return-1}function tn(e,t,r,n){return fn(e,(function(e,o,a){t(n,e,r(e),a)})),n}function rn(e,t){return e&&Oo(t,Ds(t),e)}function nn(e,t,r){"__proto__"==t&&ct?ct(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}function on(e,t){for(var r=-1,a=t.length,i=n(a),s=null==e;++r<a;)i[r]=s?o:xs(e,t[r]);return i}function an(e,t,r){return e==e&&(r!==o&&(e=e<=r?e:r),t!==o&&(e=e>=t?e:t)),e}function sn(e,t,r,n,a,i){var s,u=1&t,c=2&t,l=4&t;if(r&&(s=a?r(e,n,a,i):r(e)),s!==o)return s;if(!ts(e))return e;var f=Wi(e);if(f){if(s=function(e){var t=e.length,r=new e.constructor(t);return t&&"string"==typeof e[0]&&Pe.call(e,"index")&&(r.index=e.index,r.input=e.input),r}(e),!u)return To(e,s)}else{var d=pa(e),p=d==w||d==E;if($i(e))return ko(e,u);if(d==_||d==m||p&&!a){if(s=c||p?{}:ma(e),!u)return c?function(e,t){return Oo(e,da(e),t)}(e,function(e,t){return e&&Oo(t,Ps(t),e)}(s,e)):function(e,t){return Oo(e,fa(e),t)}(e,rn(s,e))}else{if(!Qe[d])return a?e:{};s=function(e,t,r){var n,o=e.constructor;switch(t){case R:return Lo(e);case v:case y:return new o(+e);case D:return function(e,t){var r=t?Lo(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}(e,r);case P:case C:case F:case j:case U:case N:case M:case B:case z:return _o(e,r);case k:case x:return new o;case L:case T:return new o(e);case A:return function(e){var t=new e.constructor(e.source,de.exec(e));return t.lastIndex=e.lastIndex,t}(e);case O:return n=e,jr?_e(jr.call(n)):{}}}(e,d,u)}}i||(i=new Kr);var h=i.get(e);if(h)return h;i.set(e,s),ss(e)?e.forEach((function(n){s.add(sn(n,t,r,n,e,i))})):ns(e)&&e.forEach((function(n,o){s.set(o,sn(n,t,r,o,e,i))}));var g=f?o:(l?c?na:ra:c?Ps:Ds)(e);return bt(g||e,(function(n,o){g&&(n=e[o=n]),Qr(s,o,sn(n,t,r,o,e,i))})),s}function un(e,t,r){var n=r.length;if(null==e)return!n;for(e=_e(e);n--;){var a=r[n],i=t[a],s=e[a];if(s===o&&!(a in e)||!i(s))return!1}return!0}function cn(e,t,r){if("function"!=typeof e)throw new xe(a);return Ia((function(){e.apply(o,r)}),t)}function ln(e,t,r,n){var o=-1,a=Lt,i=!0,s=e.length,u=[],c=t.length;if(!s)return u;r&&(t=St(t,qt(r))),n?(a=_t,i=!1):t.length>=200&&(a=Wt,i=!1,t=new Hr(t));e:for(;++o<s;){var l=e[o],f=null==r?l:r(l);if(l=n||0!==l?l:0,i&&f==f){for(var d=c;d--;)if(t[d]===f)continue e;u.push(l)}else a(t,f,n)||u.push(l)}return u}Nr.templateSettings={escape:$,evaluate:Y,interpolate:J,variable:"",imports:{_:Nr}},Nr.prototype=Br.prototype,Nr.prototype.constructor=Nr,zr.prototype=Mr(Br.prototype),zr.prototype.constructor=zr,Vr.prototype=Mr(Br.prototype),Vr.prototype.constructor=Vr,qr.prototype.clear=function(){this.__data__=xr?xr(null):{},this.size=0},qr.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},qr.prototype.get=function(e){var t=this.__data__;if(xr){var r=t[e];return r===i?o:r}return Pe.call(t,e)?t[e]:o},qr.prototype.has=function(e){var t=this.__data__;return xr?t[e]!==o:Pe.call(t,e)},qr.prototype.set=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=xr&&t===o?i:t,this},Gr.prototype.clear=function(){this.__data__=[],this.size=0},Gr.prototype.delete=function(e){var t=this.__data__,r=en(t,e);return!(r<0||(r==t.length-1?t.pop():nt.call(t,r,1),--this.size,0))},Gr.prototype.get=function(e){var t=this.__data__,r=en(t,e);return r<0?o:t[r][1]},Gr.prototype.has=function(e){return en(this.__data__,e)>-1},Gr.prototype.set=function(e,t){var r=this.__data__,n=en(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this},Wr.prototype.clear=function(){this.size=0,this.__data__={hash:new qr,map:new(Lr||Gr),string:new qr}},Wr.prototype.delete=function(e){var t=ua(this,e).delete(e);return this.size-=t?1:0,t},Wr.prototype.get=function(e){return ua(this,e).get(e)},Wr.prototype.has=function(e){return ua(this,e).has(e)},Wr.prototype.set=function(e,t){var r=ua(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this},Hr.prototype.add=Hr.prototype.push=function(e){return this.__data__.set(e,i),this},Hr.prototype.has=function(e){return this.__data__.has(e)},Kr.prototype.clear=function(){this.__data__=new Gr,this.size=0},Kr.prototype.delete=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r},Kr.prototype.get=function(e){return this.__data__.get(e)},Kr.prototype.has=function(e){return this.__data__.has(e)},Kr.prototype.set=function(e,t){var r=this.__data__;if(r instanceof Gr){var n=r.__data__;if(!Lr||n.length<199)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new Wr(n)}return r.set(e,t),this.size=r.size,this};var fn=Do(bn),dn=Do(wn,!0);function pn(e,t){var r=!0;return fn(e,(function(e,n,o){return r=!!t(e,n,o)})),r}function hn(e,t,r){for(var n=-1,a=e.length;++n<a;){var i=e[n],s=t(i);if(null!=s&&(u===o?s==s&&!cs(s):r(s,u)))var u=s,c=i}return c}function mn(e,t){var r=[];return fn(e,(function(e,n,o){t(e,n,o)&&r.push(e)})),r}function gn(e,t,r,n,o){var a=-1,i=e.length;for(r||(r=ga),o||(o=[]);++a<i;){var s=e[a];t>0&&r(s)?t>1?gn(s,t-1,r,n,o):At(o,s):n||(o[o.length]=s)}return o}var vn=Po(),yn=Po(!0);function bn(e,t){return e&&vn(e,t,Ds)}function wn(e,t){return e&&yn(e,t,Ds)}function En(e,t){return kt(t,(function(t){return Zi(e[t])}))}function kn(e,t){for(var r=0,n=(t=yo(t,e)).length;null!=e&&r<n;)e=e[Na(t[r++])];return r&&r==n?e:o}function Ln(e,t,r){var n=t(e);return Wi(e)?n:At(n,r(e))}function _n(e){return null==e?e===o?"[object Undefined]":"[object Null]":st&&st in _e(e)?function(e){var t=Pe.call(e,st),r=e[st];try{e[st]=o;var n=!0}catch(e){}var a=je.call(e);return n&&(t?e[st]=r:delete e[st]),a}(e):function(e){return je.call(e)}(e)}function Sn(e,t){return e>t}function An(e,t){return null!=e&&Pe.call(e,t)}function xn(e,t){return null!=e&&t in _e(e)}function Tn(e,t,r){for(var a=r?_t:Lt,i=e[0].length,s=e.length,u=s,c=n(s),l=1/0,f=[];u--;){var d=e[u];u&&t&&(d=St(d,qt(t))),l=vr(d.length,l),c[u]=!r&&(t||i>=120&&d.length>=120)?new Hr(u&&d):o}d=e[0];var p=-1,h=c[0];e:for(;++p<i&&f.length<l;){var m=d[p],g=t?t(m):m;if(m=r||0!==m?m:0,!(h?Wt(h,g):a(f,g,r))){for(u=s;--u;){var v=c[u];if(!(v?Wt(v,g):a(e[u],g,r)))continue e}h&&h.push(g),f.push(m)}}return f}function On(e,t,r){var n=null==(e=Aa(e,t=yo(t,e)))?e:e[Na(Ja(t))];return null==n?o:vt(n,e,r)}function In(e){return rs(e)&&_n(e)==m}function Rn(e,t,r,n,a){return e===t||(null==e||null==t||!rs(e)&&!rs(t)?e!=e&&t!=t:function(e,t,r,n,a,i){var s=Wi(e),u=Wi(t),c=s?g:pa(e),l=u?g:pa(t),f=(c=c==m?_:c)==_,d=(l=l==m?_:l)==_,p=c==l;if(p&&$i(e)){if(!$i(t))return!1;s=!0,f=!1}if(p&&!f)return i||(i=new Kr),s||ls(e)?ea(e,t,r,n,a,i):function(e,t,r,n,o,a,i){switch(r){case D:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case R:return!(e.byteLength!=t.byteLength||!a(new Ve(e),new Ve(t)));case v:case y:case L:return zi(+e,+t);case b:return e.name==t.name&&e.message==t.message;case A:case T:return e==t+"";case k:var s=Qt;case x:var u=1&n;if(s||(s=rr),e.size!=t.size&&!u)return!1;var c=i.get(e);if(c)return c==t;n|=2,i.set(e,t);var l=ea(s(e),s(t),n,o,a,i);return i.delete(e),l;case O:if(jr)return jr.call(e)==jr.call(t)}return!1}(e,t,c,r,n,a,i);if(!(1&r)){var h=f&&Pe.call(e,"__wrapped__"),w=d&&Pe.call(t,"__wrapped__");if(h||w){var E=h?e.value():e,S=w?t.value():t;return i||(i=new Kr),a(E,S,r,n,i)}}return!!p&&(i||(i=new Kr),function(e,t,r,n,a,i){var s=1&r,u=ra(e),c=u.length;if(c!=ra(t).length&&!s)return!1;for(var l=c;l--;){var f=u[l];if(!(s?f in t:Pe.call(t,f)))return!1}var d=i.get(e),p=i.get(t);if(d&&p)return d==t&&p==e;var h=!0;i.set(e,t),i.set(t,e);for(var m=s;++l<c;){var g=e[f=u[l]],v=t[f];if(n)var y=s?n(v,g,f,t,e,i):n(g,v,f,e,t,i);if(!(y===o?g===v||a(g,v,r,n,i):y)){h=!1;break}m||(m="constructor"==f)}if(h&&!m){var b=e.constructor,w=t.constructor;b==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof w&&w instanceof w||(h=!1)}return i.delete(e),i.delete(t),h}(e,t,r,n,a,i))}(e,t,r,n,Rn,a))}function Dn(e,t,r,n){var a=r.length,i=a,s=!n;if(null==e)return!i;for(e=_e(e);a--;){var u=r[a];if(s&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++a<i;){var c=(u=r[a])[0],l=e[c],f=u[1];if(s&&u[2]){if(l===o&&!(c in e))return!1}else{var d=new Kr;if(n)var p=n(l,f,c,e,t,d);if(!(p===o?Rn(f,l,3,n,d):p))return!1}}return!0}function Pn(e){return!(!ts(e)||(t=e,Fe&&Fe in t))&&(Zi(e)?Me:me).test(Ma(e));var t}function Cn(e){return"function"==typeof e?e:null==e?ou:"object"==typeof e?Wi(e)?Mn(e[0],e[1]):Nn(e):pu(e)}function Fn(e){if(!ka(e))return mr(e);var t=[];for(var r in _e(e))Pe.call(e,r)&&"constructor"!=r&&t.push(r);return t}function jn(e,t){return e<t}function Un(e,t){var r=-1,o=Ki(e)?n(e.length):[];return fn(e,(function(e,n,a){o[++r]=t(e,n,a)})),o}function Nn(e){var t=ca(e);return 1==t.length&&t[0][2]?_a(t[0][0],t[0][1]):function(r){return r===e||Dn(r,e,t)}}function Mn(e,t){return ba(e)&&La(t)?_a(Na(e),t):function(r){var n=xs(r,e);return n===o&&n===t?Ts(r,e):Rn(t,n,3)}}function Bn(e,t,r,n,a){e!==t&&vn(t,(function(i,s){if(a||(a=new Kr),ts(i))!function(e,t,r,n,a,i,s){var u=Ta(e,r),c=Ta(t,r),l=s.get(c);if(l)Zr(e,r,l);else{var f=i?i(u,c,r+"",e,t,s):o,d=f===o;if(d){var p=Wi(c),h=!p&&$i(c),m=!p&&!h&&ls(c);f=c,p||h||m?Wi(u)?f=u:Xi(u)?f=To(u):h?(d=!1,f=ko(c,!0)):m?(d=!1,f=_o(c,!0)):f=[]:as(c)||Gi(c)?(f=u,Gi(u)?f=ys(u):ts(u)&&!Zi(u)||(f=ma(c))):d=!1}d&&(s.set(c,f),a(f,c,n,i,s),s.delete(c)),Zr(e,r,f)}}(e,t,s,r,Bn,n,a);else{var u=n?n(Ta(e,s),i,s+"",e,t,a):o;u===o&&(u=i),Zr(e,s,u)}}),Ps)}function zn(e,t){var r=e.length;if(r)return va(t+=t<0?r:0,r)?e[t]:o}function Vn(e,t,r){t=t.length?St(t,(function(e){return Wi(e)?function(t){return kn(t,1===e.length?e[0]:e)}:e})):[ou];var n=-1;t=St(t,qt(sa()));var o=Un(e,(function(e,r,o){var a=St(t,(function(t){return t(e)}));return{criteria:a,index:++n,value:e}}));return function(e,t){var n=e.length;for(e.sort((function(e,t){return function(e,t,r){for(var n=-1,o=e.criteria,a=t.criteria,i=o.length,s=r.length;++n<i;){var u=So(o[n],a[n]);if(u)return n>=s?u:u*("desc"==r[n]?-1:1)}return e.index-t.index}(e,t,r)}));n--;)e[n]=e[n].value;return e}(o)}function qn(e,t,r){for(var n=-1,o=t.length,a={};++n<o;){var i=t[n],s=kn(e,i);r(s,i)&&Jn(a,yo(i,e),s)}return a}function Gn(e,t,r,n){var o=n?Ct:Pt,a=-1,i=t.length,s=e;for(e===t&&(t=To(t)),r&&(s=St(e,qt(r)));++a<i;)for(var u=0,c=t[a],l=r?r(c):c;(u=o(s,l,u,n))>-1;)s!==e&&nt.call(s,u,1),nt.call(e,u,1);return e}function Wn(e,t){for(var r=e?t.length:0,n=r-1;r--;){var o=t[r];if(r==n||o!==a){var a=o;va(o)?nt.call(e,o,1):co(e,o)}}return e}function Hn(e,t){return e+lr(wr()*(t-e+1))}function Kn(e,t){var r="";if(!e||t<1||t>f)return r;do{t%2&&(r+=e),(t=lr(t/2))&&(e+=e)}while(t);return r}function Xn(e,t){return Ra(Sa(e,t,ou),e+"")}function $n(e){return $r(zs(e))}function Yn(e,t){var r=zs(e);return Ca(r,an(t,0,r.length))}function Jn(e,t,r,n){if(!ts(e))return e;for(var a=-1,i=(t=yo(t,e)).length,s=i-1,u=e;null!=u&&++a<i;){var c=Na(t[a]),l=r;if("__proto__"===c||"constructor"===c||"prototype"===c)return e;if(a!=s){var f=u[c];(l=n?n(f,c,u):o)===o&&(l=ts(f)?f:va(t[a+1])?[]:{})}Qr(u,c,l),u=u[c]}return e}var Zn=Tr?function(e,t){return Tr.set(e,t),e}:ou,Qn=ct?function(e,t){return ct(e,"toString",{configurable:!0,enumerable:!1,value:tu(t),writable:!0})}:ou;function eo(e){return Ca(zs(e))}function to(e,t,r){var o=-1,a=e.length;t<0&&(t=-t>a?0:a+t),(r=r>a?a:r)<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var i=n(a);++o<a;)i[o]=e[o+t];return i}function ro(e,t){var r;return fn(e,(function(e,n,o){return!(r=t(e,n,o))})),!!r}function no(e,t,r){var n=0,o=null==e?n:e.length;if("number"==typeof t&&t==t&&o<=2147483647){for(;n<o;){var a=n+o>>>1,i=e[a];null!==i&&!cs(i)&&(r?i<=t:i<t)?n=a+1:o=a}return o}return oo(e,t,ou,r)}function oo(e,t,r,n){var a=0,i=null==e?0:e.length;if(0===i)return 0;for(var s=(t=r(t))!=t,u=null===t,c=cs(t),l=t===o;a<i;){var f=lr((a+i)/2),d=r(e[f]),p=d!==o,h=null===d,m=d==d,g=cs(d);if(s)var v=n||m;else v=l?m&&(n||p):u?m&&p&&(n||!h):c?m&&p&&!h&&(n||!g):!h&&!g&&(n?d<=t:d<t);v?a=f+1:i=f}return vr(i,4294967294)}function ao(e,t){for(var r=-1,n=e.length,o=0,a=[];++r<n;){var i=e[r],s=t?t(i):i;if(!r||!zi(s,u)){var u=s;a[o++]=0===i?0:i}}return a}function io(e){return"number"==typeof e?e:cs(e)?d:+e}function so(e){if("string"==typeof e)return e;if(Wi(e))return St(e,so)+"";if(cs(e))return Ur?Ur.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function uo(e,t,r){var n=-1,o=Lt,a=e.length,i=!0,s=[],u=s;if(r)i=!1,o=_t;else if(a>=200){var c=t?null:Xo(e);if(c)return rr(c);i=!1,o=Wt,u=new Hr}else u=t?[]:s;e:for(;++n<a;){var l=e[n],f=t?t(l):l;if(l=r||0!==l?l:0,i&&f==f){for(var d=u.length;d--;)if(u[d]===f)continue e;t&&u.push(f),s.push(l)}else o(u,f,r)||(u!==s&&u.push(f),s.push(l))}return s}function co(e,t){return null==(e=Aa(e,t=yo(t,e)))||delete e[Na(Ja(t))]}function lo(e,t,r,n){return Jn(e,t,r(kn(e,t)),n)}function fo(e,t,r,n){for(var o=e.length,a=n?o:-1;(n?a--:++a<o)&&t(e[a],a,e););return r?to(e,n?0:a,n?a+1:o):to(e,n?a+1:0,n?o:a)}function po(e,t){var r=e;return r instanceof Vr&&(r=r.value()),xt(t,(function(e,t){return t.func.apply(t.thisArg,At([e],t.args))}),r)}function ho(e,t,r){var o=e.length;if(o<2)return o?uo(e[0]):[];for(var a=-1,i=n(o);++a<o;)for(var s=e[a],u=-1;++u<o;)u!=a&&(i[a]=ln(i[a]||s,e[u],t,r));return uo(gn(i,1),t,r)}function mo(e,t,r){for(var n=-1,a=e.length,i=t.length,s={};++n<a;){var u=n<i?t[n]:o;r(s,e[n],u)}return s}function go(e){return Xi(e)?e:[]}function vo(e){return"function"==typeof e?e:ou}function yo(e,t){return Wi(e)?e:ba(e,t)?[e]:Ua(bs(e))}var bo=Xn;function wo(e,t,r){var n=e.length;return r=r===o?n:r,!t&&r>=n?e:to(e,t,r)}var Eo=lt||function(e){return at.clearTimeout(e)};function ko(e,t){if(t)return e.slice();var r=e.length,n=qe?qe(r):new e.constructor(r);return e.copy(n),n}function Lo(e){var t=new e.constructor(e.byteLength);return new Ve(t).set(new Ve(e)),t}function _o(e,t){var r=t?Lo(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}function So(e,t){if(e!==t){var r=e!==o,n=null===e,a=e==e,i=cs(e),s=t!==o,u=null===t,c=t==t,l=cs(t);if(!u&&!l&&!i&&e>t||i&&s&&c&&!u&&!l||n&&s&&c||!r&&c||!a)return 1;if(!n&&!i&&!l&&e<t||l&&r&&a&&!n&&!i||u&&r&&a||!s&&a||!c)return-1}return 0}function Ao(e,t,r,o){for(var a=-1,i=e.length,s=r.length,u=-1,c=t.length,l=gr(i-s,0),f=n(c+l),d=!o;++u<c;)f[u]=t[u];for(;++a<s;)(d||a<i)&&(f[r[a]]=e[a]);for(;l--;)f[u++]=e[a++];return f}function xo(e,t,r,o){for(var a=-1,i=e.length,s=-1,u=r.length,c=-1,l=t.length,f=gr(i-u,0),d=n(f+l),p=!o;++a<f;)d[a]=e[a];for(var h=a;++c<l;)d[h+c]=t[c];for(;++s<u;)(p||a<i)&&(d[h+r[s]]=e[a++]);return d}function To(e,t){var r=-1,o=e.length;for(t||(t=n(o));++r<o;)t[r]=e[r];return t}function Oo(e,t,r,n){var a=!r;r||(r={});for(var i=-1,s=t.length;++i<s;){var u=t[i],c=n?n(r[u],e[u],u,r,e):o;c===o&&(c=e[u]),a?nn(r,u,c):Qr(r,u,c)}return r}function Io(e,t){return function(r,n){var o=Wi(r)?yt:tn,a=t?t():{};return o(r,e,sa(n,2),a)}}function Ro(e){return Xn((function(t,r){var n=-1,a=r.length,i=a>1?r[a-1]:o,s=a>2?r[2]:o;for(i=e.length>3&&"function"==typeof i?(a--,i):o,s&&ya(r[0],r[1],s)&&(i=a<3?o:i,a=1),t=_e(t);++n<a;){var u=r[n];u&&e(t,u,n,i)}return t}))}function Do(e,t){return function(r,n){if(null==r)return r;if(!Ki(r))return e(r,n);for(var o=r.length,a=t?o:-1,i=_e(r);(t?a--:++a<o)&&!1!==n(i[a],a,i););return r}}function Po(e){return function(t,r,n){for(var o=-1,a=_e(t),i=n(t),s=i.length;s--;){var u=i[e?s:++o];if(!1===r(a[u],u,a))break}return t}}function Co(e){return function(t){var r=Zt(t=bs(t))?ar(t):o,n=r?r[0]:t.charAt(0),a=r?wo(r,1).join(""):t.slice(1);return n[e]()+a}}function Fo(e){return function(t){return xt(Zs(Gs(t).replace(Ge,"")),e,"")}}function jo(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var r=Mr(e.prototype),n=e.apply(r,t);return ts(n)?n:r}}function Uo(e){return function(t,r,n){var a=_e(t);if(!Ki(t)){var i=sa(r,3);t=Ds(t),r=function(e){return i(a[e],e,a)}}var s=e(t,r,n);return s>-1?a[i?t[s]:s]:o}}function No(e){return ta((function(t){var r=t.length,n=r,i=zr.prototype.thru;for(e&&t.reverse();n--;){var s=t[n];if("function"!=typeof s)throw new xe(a);if(i&&!u&&"wrapper"==aa(s))var u=new zr([],!0)}for(n=u?n:r;++n<r;){var c=aa(s=t[n]),l="wrapper"==c?oa(s):o;u=l&&wa(l[0])&&424==l[1]&&!l[4].length&&1==l[9]?u[aa(l[0])].apply(u,l[3]):1==s.length&&wa(s)?u[c]():u.thru(s)}return function(){var e=arguments,n=e[0];if(u&&1==e.length&&Wi(n))return u.plant(n).value();for(var o=0,a=r?t[o].apply(this,e):n;++o<r;)a=t[o].call(this,a);return a}}))}function Mo(e,t,r,a,i,s,u,l,f,d){var p=t&c,h=1&t,m=2&t,g=24&t,v=512&t,y=m?o:jo(e);return function o(){for(var c=arguments.length,b=n(c),w=c;w--;)b[w]=arguments[w];if(g)var E=ia(o),k=Xt(b,E);if(a&&(b=Ao(b,a,i,g)),s&&(b=xo(b,s,u,g)),c-=k,g&&c<d){var L=tr(b,E);return Ho(e,t,Mo,o.placeholder,r,b,L,l,f,d-c)}var _=h?r:this,S=m?_[e]:e;return c=b.length,l?b=xa(b,l):v&&c>1&&b.reverse(),p&&f<c&&(b.length=f),this&&this!==at&&this instanceof o&&(S=y||jo(S)),S.apply(_,b)}}function Bo(e,t){return function(r,n){return function(e,t,r,n){return bn(e,(function(e,o,a){t(n,r(e),o,a)})),n}(r,e,t(n),{})}}function zo(e,t){return function(r,n){var a;if(r===o&&n===o)return t;if(r!==o&&(a=r),n!==o){if(a===o)return n;"string"==typeof r||"string"==typeof n?(r=so(r),n=so(n)):(r=io(r),n=io(n)),a=e(r,n)}return a}}function Vo(e){return ta((function(t){return t=St(t,qt(sa())),Xn((function(r){var n=this;return e(t,(function(e){return vt(e,n,r)}))}))}))}function qo(e,t){var r=(t=t===o?" ":so(t)).length;if(r<2)return r?Kn(t,e):t;var n=Kn(t,cr(e/or(t)));return Zt(t)?wo(ar(n),0,e).join(""):n.slice(0,e)}function Go(e){return function(t,r,a){return a&&"number"!=typeof a&&ya(t,r,a)&&(r=a=o),t=hs(t),r===o?(r=t,t=0):r=hs(r),function(e,t,r,o){for(var a=-1,i=gr(cr((t-e)/(r||1)),0),s=n(i);i--;)s[o?i:++a]=e,e+=r;return s}(t,r,a=a===o?t<r?1:-1:hs(a),e)}}function Wo(e){return function(t,r){return"string"==typeof t&&"string"==typeof r||(t=vs(t),r=vs(r)),e(t,r)}}function Ho(e,t,r,n,a,i,s,c,l,f){var d=8&t;t|=d?u:64,4&(t&=~(d?64:u))||(t&=-4);var p=[e,t,a,d?i:o,d?s:o,d?o:i,d?o:s,c,l,f],h=r.apply(o,p);return wa(e)&&Oa(h,p),h.placeholder=n,Da(h,e,t)}function Ko(e){var t=Le[e];return function(e,r){if(e=vs(e),(r=null==r?0:vr(ms(r),292))&&pr(e)){var n=(bs(e)+"e").split("e");return+((n=(bs(t(n[0]+"e"+(+n[1]+r)))+"e").split("e"))[0]+"e"+(+n[1]-r))}return t(e)}}var Xo=Sr&&1/rr(new Sr([,-0]))[1]==l?function(e){return new Sr(e)}:cu;function $o(e){return function(t){var r=pa(t);return r==k?Qt(t):r==x?nr(t):function(e,t){return St(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Yo(e,t,r,i,l,f,d,p){var h=2&t;if(!h&&"function"!=typeof e)throw new xe(a);var m=i?i.length:0;if(m||(t&=-97,i=l=o),d=d===o?d:gr(ms(d),0),p=p===o?p:ms(p),m-=l?l.length:0,64&t){var g=i,v=l;i=l=o}var y=h?o:oa(e),b=[e,t,r,i,l,g,v,f,d,p];if(y&&function(e,t){var r=e[1],n=t[1],o=r|n,a=o<131,i=n==c&&8==r||n==c&&256==r&&e[7].length<=t[8]||384==n&&t[7].length<=t[8]&&8==r;if(!a&&!i)return e;1&n&&(e[2]=t[2],o|=1&r?0:4);var u=t[3];if(u){var l=e[3];e[3]=l?Ao(l,u,t[4]):u,e[4]=l?tr(e[3],s):t[4]}(u=t[5])&&(l=e[5],e[5]=l?xo(l,u,t[6]):u,e[6]=l?tr(e[5],s):t[6]),(u=t[7])&&(e[7]=u),n&c&&(e[8]=null==e[8]?t[8]:vr(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=o}(b,y),e=b[0],t=b[1],r=b[2],i=b[3],l=b[4],!(p=b[9]=b[9]===o?h?0:e.length:gr(b[9]-m,0))&&24&t&&(t&=-25),t&&1!=t)w=8==t||16==t?function(e,t,r){var a=jo(e);return function i(){for(var s=arguments.length,u=n(s),c=s,l=ia(i);c--;)u[c]=arguments[c];var f=s<3&&u[0]!==l&&u[s-1]!==l?[]:tr(u,l);return(s-=f.length)<r?Ho(e,t,Mo,i.placeholder,o,u,f,o,o,r-s):vt(this&&this!==at&&this instanceof i?a:e,this,u)}}(e,t,p):t!=u&&33!=t||l.length?Mo.apply(o,b):function(e,t,r,o){var a=1&t,i=jo(e);return function t(){for(var s=-1,u=arguments.length,c=-1,l=o.length,f=n(l+u),d=this&&this!==at&&this instanceof t?i:e;++c<l;)f[c]=o[c];for(;u--;)f[c++]=arguments[++s];return vt(d,a?r:this,f)}}(e,t,r,i);else var w=function(e,t,r){var n=1&t,o=jo(e);return function t(){return(this&&this!==at&&this instanceof t?o:e).apply(n?r:this,arguments)}}(e,t,r);return Da((y?Zn:Oa)(w,b),e,t)}function Jo(e,t,r,n){return e===o||zi(e,Ie[r])&&!Pe.call(n,r)?t:e}function Zo(e,t,r,n,a,i){return ts(e)&&ts(t)&&(i.set(t,e),Bn(e,t,o,Zo,i),i.delete(t)),e}function Qo(e){return as(e)?o:e}function ea(e,t,r,n,a,i){var s=1&r,u=e.length,c=t.length;if(u!=c&&!(s&&c>u))return!1;var l=i.get(e),f=i.get(t);if(l&&f)return l==t&&f==e;var d=-1,p=!0,h=2&r?new Hr:o;for(i.set(e,t),i.set(t,e);++d<u;){var m=e[d],g=t[d];if(n)var v=s?n(g,m,d,t,e,i):n(m,g,d,e,t,i);if(v!==o){if(v)continue;p=!1;break}if(h){if(!Ot(t,(function(e,t){if(!Wt(h,t)&&(m===e||a(m,e,r,n,i)))return h.push(t)}))){p=!1;break}}else if(m!==g&&!a(m,g,r,n,i)){p=!1;break}}return i.delete(e),i.delete(t),p}function ta(e){return Ra(Sa(e,o,Ha),e+"")}function ra(e){return Ln(e,Ds,fa)}function na(e){return Ln(e,Ps,da)}var oa=Tr?function(e){return Tr.get(e)}:cu;function aa(e){for(var t=e.name+"",r=Or[t],n=Pe.call(Or,t)?r.length:0;n--;){var o=r[n],a=o.func;if(null==a||a==e)return o.name}return t}function ia(e){return(Pe.call(Nr,"placeholder")?Nr:e).placeholder}function sa(){var e=Nr.iteratee||au;return e=e===au?Cn:e,arguments.length?e(arguments[0],arguments[1]):e}function ua(e,t){var r,n,o=e.__data__;return("string"==(n=typeof(r=t))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?o["string"==typeof t?"string":"hash"]:o.map}function ca(e){for(var t=Ds(e),r=t.length;r--;){var n=t[r],o=e[n];t[r]=[n,o,La(o)]}return t}function la(e,t){var r=function(e,t){return null==e?o:e[t]}(e,t);return Pn(r)?r:o}var fa=fr?function(e){return null==e?[]:(e=_e(e),kt(fr(e),(function(t){return et.call(e,t)})))}:gu,da=fr?function(e){for(var t=[];e;)At(t,fa(e)),e=He(e);return t}:gu,pa=_n;function ha(e,t,r){for(var n=-1,o=(t=yo(t,e)).length,a=!1;++n<o;){var i=Na(t[n]);if(!(a=null!=e&&r(e,i)))break;e=e[i]}return a||++n!=o?a:!!(o=null==e?0:e.length)&&es(o)&&va(i,o)&&(Wi(e)||Gi(e))}function ma(e){return"function"!=typeof e.constructor||ka(e)?{}:Mr(He(e))}function ga(e){return Wi(e)||Gi(e)||!!(ot&&e&&e[ot])}function va(e,t){var r=typeof e;return!!(t=null==t?f:t)&&("number"==r||"symbol"!=r&&ve.test(e))&&e>-1&&e%1==0&&e<t}function ya(e,t,r){if(!ts(r))return!1;var n=typeof t;return!!("number"==n?Ki(r)&&va(t,r.length):"string"==n&&t in r)&&zi(r[t],e)}function ba(e,t){if(Wi(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!cs(e))||Q.test(e)||!Z.test(e)||null!=t&&e in _e(t)}function wa(e){var t=aa(e),r=Nr[t];if("function"!=typeof r||!(t in Vr.prototype))return!1;if(e===r)return!0;var n=oa(r);return!!n&&e===n[0]}(kr&&pa(new kr(new ArrayBuffer(1)))!=D||Lr&&pa(new Lr)!=k||_r&&pa(_r.resolve())!=S||Sr&&pa(new Sr)!=x||Ar&&pa(new Ar)!=I)&&(pa=function(e){var t=_n(e),r=t==_?e.constructor:o,n=r?Ma(r):"";if(n)switch(n){case Ir:return D;case Rr:return k;case Dr:return S;case Pr:return x;case Cr:return I}return t});var Ea=Re?Zi:vu;function ka(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Ie)}function La(e){return e==e&&!ts(e)}function _a(e,t){return function(r){return null!=r&&r[e]===t&&(t!==o||e in _e(r))}}function Sa(e,t,r){return t=gr(t===o?e.length-1:t,0),function(){for(var o=arguments,a=-1,i=gr(o.length-t,0),s=n(i);++a<i;)s[a]=o[t+a];a=-1;for(var u=n(t+1);++a<t;)u[a]=o[a];return u[t]=r(s),vt(e,this,u)}}function Aa(e,t){return t.length<2?e:kn(e,to(t,0,-1))}function xa(e,t){for(var r=e.length,n=vr(t.length,r),a=To(e);n--;){var i=t[n];e[n]=va(i,r)?a[i]:o}return e}function Ta(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var Oa=Pa(Zn),Ia=Nt||function(e,t){return at.setTimeout(e,t)},Ra=Pa(Qn);function Da(e,t,r){var n=t+"";return Ra(e,function(e,t){var r=t.length;if(!r)return e;var n=r-1;return t[n]=(r>1?"& ":"")+t[n],t=t.join(r>2?", ":" "),e.replace(ae,"{\n/* [wrapped with "+t+"] */\n")}(n,function(e,t){return bt(h,(function(r){var n="_."+r[0];t&r[1]&&!Lt(e,n)&&e.push(n)})),e.sort()}(function(e){var t=e.match(ie);return t?t[1].split(se):[]}(n),r)))}function Pa(e){var t=0,r=0;return function(){var n=yr(),a=16-(n-r);if(r=n,a>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(o,arguments)}}function Ca(e,t){var r=-1,n=e.length,a=n-1;for(t=t===o?n:t;++r<t;){var i=Hn(r,a),s=e[i];e[i]=e[r],e[r]=s}return e.length=t,e}var Fa,ja,Ua=(Fa=Fi((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(ee,(function(e,r,n,o){t.push(n?o.replace(le,"$1"):r||e)})),t}),(function(e){return 500===ja.size&&ja.clear(),e})),ja=Fa.cache,Fa);function Na(e){if("string"==typeof e||cs(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Ma(e){if(null!=e){try{return De.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Ba(e){if(e instanceof Vr)return e.clone();var t=new zr(e.__wrapped__,e.__chain__);return t.__actions__=To(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var za=Xn((function(e,t){return Xi(e)?ln(e,gn(t,1,Xi,!0)):[]})),Va=Xn((function(e,t){var r=Ja(t);return Xi(r)&&(r=o),Xi(e)?ln(e,gn(t,1,Xi,!0),sa(r,2)):[]})),qa=Xn((function(e,t){var r=Ja(t);return Xi(r)&&(r=o),Xi(e)?ln(e,gn(t,1,Xi,!0),o,r):[]}));function Ga(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var o=null==r?0:ms(r);return o<0&&(o=gr(n+o,0)),Dt(e,sa(t,3),o)}function Wa(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var a=n-1;return r!==o&&(a=ms(r),a=r<0?gr(n+a,0):vr(a,n-1)),Dt(e,sa(t,3),a,!0)}function Ha(e){return null!=e&&e.length?gn(e,1):[]}function Ka(e){return e&&e.length?e[0]:o}var Xa=Xn((function(e){var t=St(e,go);return t.length&&t[0]===e[0]?Tn(t):[]})),$a=Xn((function(e){var t=Ja(e),r=St(e,go);return t===Ja(r)?t=o:r.pop(),r.length&&r[0]===e[0]?Tn(r,sa(t,2)):[]})),Ya=Xn((function(e){var t=Ja(e),r=St(e,go);return(t="function"==typeof t?t:o)&&r.pop(),r.length&&r[0]===e[0]?Tn(r,o,t):[]}));function Ja(e){var t=null==e?0:e.length;return t?e[t-1]:o}var Za=Xn(Qa);function Qa(e,t){return e&&e.length&&t&&t.length?Gn(e,t):e}var ei=ta((function(e,t){var r=null==e?0:e.length,n=on(e,t);return Wn(e,St(t,(function(e){return va(e,r)?+e:e})).sort(So)),n}));function ti(e){return null==e?e:Er.call(e)}var ri=Xn((function(e){return uo(gn(e,1,Xi,!0))})),ni=Xn((function(e){var t=Ja(e);return Xi(t)&&(t=o),uo(gn(e,1,Xi,!0),sa(t,2))})),oi=Xn((function(e){var t=Ja(e);return t="function"==typeof t?t:o,uo(gn(e,1,Xi,!0),o,t)}));function ai(e){if(!e||!e.length)return[];var t=0;return e=kt(e,(function(e){if(Xi(e))return t=gr(e.length,t),!0})),zt(t,(function(t){return St(e,Ut(t))}))}function ii(e,t){if(!e||!e.length)return[];var r=ai(e);return null==t?r:St(r,(function(e){return vt(t,o,e)}))}var si=Xn((function(e,t){return Xi(e)?ln(e,t):[]})),ui=Xn((function(e){return ho(kt(e,Xi))})),ci=Xn((function(e){var t=Ja(e);return Xi(t)&&(t=o),ho(kt(e,Xi),sa(t,2))})),li=Xn((function(e){var t=Ja(e);return t="function"==typeof t?t:o,ho(kt(e,Xi),o,t)})),fi=Xn(ai),di=Xn((function(e){var t=e.length,r=t>1?e[t-1]:o;return r="function"==typeof r?(e.pop(),r):o,ii(e,r)}));function pi(e){var t=Nr(e);return t.__chain__=!0,t}function hi(e,t){return t(e)}var mi=ta((function(e){var t=e.length,r=t?e[0]:0,n=this.__wrapped__,a=function(t){return on(t,e)};return!(t>1||this.__actions__.length)&&n instanceof Vr&&va(r)?((n=n.slice(r,+r+(t?1:0))).__actions__.push({func:hi,args:[a],thisArg:o}),new zr(n,this.__chain__).thru((function(e){return t&&!e.length&&e.push(o),e}))):this.thru(a)})),gi=Io((function(e,t,r){Pe.call(e,r)?++e[r]:nn(e,r,1)})),vi=Uo(Ga),yi=Uo(Wa);function bi(e,t){return(Wi(e)?bt:fn)(e,sa(t,3))}function wi(e,t){return(Wi(e)?wt:dn)(e,sa(t,3))}var Ei=Io((function(e,t,r){Pe.call(e,r)?e[r].push(t):nn(e,r,[t])})),ki=Xn((function(e,t,r){var o=-1,a="function"==typeof t,i=Ki(e)?n(e.length):[];return fn(e,(function(e){i[++o]=a?vt(t,e,r):On(e,t,r)})),i})),Li=Io((function(e,t,r){nn(e,r,t)}));function _i(e,t){return(Wi(e)?St:Un)(e,sa(t,3))}var Si=Io((function(e,t,r){e[r?0:1].push(t)}),(function(){return[[],[]]})),Ai=Xn((function(e,t){if(null==e)return[];var r=t.length;return r>1&&ya(e,t[0],t[1])?t=[]:r>2&&ya(t[0],t[1],t[2])&&(t=[t[0]]),Vn(e,gn(t,1),[])})),xi=It||function(){return at.Date.now()};function Ti(e,t,r){return t=r?o:t,t=e&&null==t?e.length:t,Yo(e,c,o,o,o,o,t)}function Oi(e,t){var r;if("function"!=typeof t)throw new xe(a);return e=ms(e),function(){return--e>0&&(r=t.apply(this,arguments)),e<=1&&(t=o),r}}var Ii=Xn((function(e,t,r){var n=1;if(r.length){var o=tr(r,ia(Ii));n|=u}return Yo(e,n,t,r,o)})),Ri=Xn((function(e,t,r){var n=3;if(r.length){var o=tr(r,ia(Ri));n|=u}return Yo(t,n,e,r,o)}));function Di(e,t,r){var n,i,s,u,c,l,f=0,d=!1,p=!1,h=!0;if("function"!=typeof e)throw new xe(a);function m(t){var r=n,a=i;return n=i=o,f=t,u=e.apply(a,r)}function g(e){return f=e,c=Ia(y,t),d?m(e):u}function v(e){var r=e-l;return l===o||r>=t||r<0||p&&e-f>=s}function y(){var e=xi();if(v(e))return b(e);c=Ia(y,function(e){var r=t-(e-l);return p?vr(r,s-(e-f)):r}(e))}function b(e){return c=o,h&&n?m(e):(n=i=o,u)}function w(){var e=xi(),r=v(e);if(n=arguments,i=this,l=e,r){if(c===o)return g(l);if(p)return Eo(c),c=Ia(y,t),m(l)}return c===o&&(c=Ia(y,t)),u}return t=vs(t)||0,ts(r)&&(d=!!r.leading,s=(p="maxWait"in r)?gr(vs(r.maxWait)||0,t):s,h="trailing"in r?!!r.trailing:h),w.cancel=function(){c!==o&&Eo(c),f=0,n=l=i=c=o},w.flush=function(){return c===o?u:b(xi())},w}var Pi=Xn((function(e,t){return cn(e,1,t)})),Ci=Xn((function(e,t,r){return cn(e,vs(t)||0,r)}));function Fi(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new xe(a);var r=function(){var n=arguments,o=t?t.apply(this,n):n[0],a=r.cache;if(a.has(o))return a.get(o);var i=e.apply(this,n);return r.cache=a.set(o,i)||a,i};return r.cache=new(Fi.Cache||Wr),r}function ji(e){if("function"!=typeof e)throw new xe(a);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}Fi.Cache=Wr;var Ui=bo((function(e,t){var r=(t=1==t.length&&Wi(t[0])?St(t[0],qt(sa())):St(gn(t,1),qt(sa()))).length;return Xn((function(n){for(var o=-1,a=vr(n.length,r);++o<a;)n[o]=t[o].call(this,n[o]);return vt(e,this,n)}))})),Ni=Xn((function(e,t){var r=tr(t,ia(Ni));return Yo(e,u,o,t,r)})),Mi=Xn((function(e,t){var r=tr(t,ia(Mi));return Yo(e,64,o,t,r)})),Bi=ta((function(e,t){return Yo(e,256,o,o,o,t)}));function zi(e,t){return e===t||e!=e&&t!=t}var Vi=Wo(Sn),qi=Wo((function(e,t){return e>=t})),Gi=In(function(){return arguments}())?In:function(e){return rs(e)&&Pe.call(e,"callee")&&!et.call(e,"callee")},Wi=n.isArray,Hi=ft?qt(ft):function(e){return rs(e)&&_n(e)==R};function Ki(e){return null!=e&&es(e.length)&&!Zi(e)}function Xi(e){return rs(e)&&Ki(e)}var $i=dr||vu,Yi=dt?qt(dt):function(e){return rs(e)&&_n(e)==y};function Ji(e){if(!rs(e))return!1;var t=_n(e);return t==b||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!as(e)}function Zi(e){if(!ts(e))return!1;var t=_n(e);return t==w||t==E||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Qi(e){return"number"==typeof e&&e==ms(e)}function es(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=f}function ts(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function rs(e){return null!=e&&"object"==typeof e}var ns=pt?qt(pt):function(e){return rs(e)&&pa(e)==k};function os(e){return"number"==typeof e||rs(e)&&_n(e)==L}function as(e){if(!rs(e)||_n(e)!=_)return!1;var t=He(e);if(null===t)return!0;var r=Pe.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&De.call(r)==Ue}var is=ht?qt(ht):function(e){return rs(e)&&_n(e)==A},ss=mt?qt(mt):function(e){return rs(e)&&pa(e)==x};function us(e){return"string"==typeof e||!Wi(e)&&rs(e)&&_n(e)==T}function cs(e){return"symbol"==typeof e||rs(e)&&_n(e)==O}var ls=gt?qt(gt):function(e){return rs(e)&&es(e.length)&&!!Ze[_n(e)]},fs=Wo(jn),ds=Wo((function(e,t){return e<=t}));function ps(e){if(!e)return[];if(Ki(e))return us(e)?ar(e):To(e);if(it&&e[it])return function(e){for(var t,r=[];!(t=e.next()).done;)r.push(t.value);return r}(e[it]());var t=pa(e);return(t==k?Qt:t==x?rr:zs)(e)}function hs(e){return e?(e=vs(e))===l||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function ms(e){var t=hs(e),r=t%1;return t==t?r?t-r:t:0}function gs(e){return e?an(ms(e),0,p):0}function vs(e){if("number"==typeof e)return e;if(cs(e))return d;if(ts(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=ts(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Vt(e);var r=he.test(e);return r||ge.test(e)?rt(e.slice(2),r?2:8):pe.test(e)?d:+e}function ys(e){return Oo(e,Ps(e))}function bs(e){return null==e?"":so(e)}var ws=Ro((function(e,t){if(ka(t)||Ki(t))Oo(t,Ds(t),e);else for(var r in t)Pe.call(t,r)&&Qr(e,r,t[r])})),Es=Ro((function(e,t){Oo(t,Ps(t),e)})),ks=Ro((function(e,t,r,n){Oo(t,Ps(t),e,n)})),Ls=Ro((function(e,t,r,n){Oo(t,Ds(t),e,n)})),_s=ta(on),Ss=Xn((function(e,t){e=_e(e);var r=-1,n=t.length,a=n>2?t[2]:o;for(a&&ya(t[0],t[1],a)&&(n=1);++r<n;)for(var i=t[r],s=Ps(i),u=-1,c=s.length;++u<c;){var l=s[u],f=e[l];(f===o||zi(f,Ie[l])&&!Pe.call(e,l))&&(e[l]=i[l])}return e})),As=Xn((function(e){return e.push(o,Zo),vt(Fs,o,e)}));function xs(e,t,r){var n=null==e?o:kn(e,t);return n===o?r:n}function Ts(e,t){return null!=e&&ha(e,t,xn)}var Os=Bo((function(e,t,r){null!=t&&"function"!=typeof t.toString&&(t=je.call(t)),e[t]=r}),tu(ou)),Is=Bo((function(e,t,r){null!=t&&"function"!=typeof t.toString&&(t=je.call(t)),Pe.call(e,t)?e[t].push(r):e[t]=[r]}),sa),Rs=Xn(On);function Ds(e){return Ki(e)?Xr(e):Fn(e)}function Ps(e){return Ki(e)?Xr(e,!0):function(e){if(!ts(e))return function(e){var t=[];if(null!=e)for(var r in _e(e))t.push(r);return t}(e);var t=ka(e),r=[];for(var n in e)("constructor"!=n||!t&&Pe.call(e,n))&&r.push(n);return r}(e)}var Cs=Ro((function(e,t,r){Bn(e,t,r)})),Fs=Ro((function(e,t,r,n){Bn(e,t,r,n)})),js=ta((function(e,t){var r={};if(null==e)return r;var n=!1;t=St(t,(function(t){return t=yo(t,e),n||(n=t.length>1),t})),Oo(e,na(e),r),n&&(r=sn(r,7,Qo));for(var o=t.length;o--;)co(r,t[o]);return r})),Us=ta((function(e,t){return null==e?{}:function(e,t){return qn(e,t,(function(t,r){return Ts(e,r)}))}(e,t)}));function Ns(e,t){if(null==e)return{};var r=St(na(e),(function(e){return[e]}));return t=sa(t),qn(e,r,(function(e,r){return t(e,r[0])}))}var Ms=$o(Ds),Bs=$o(Ps);function zs(e){return null==e?[]:Gt(e,Ds(e))}var Vs=Fo((function(e,t,r){return t=t.toLowerCase(),e+(r?qs(t):t)}));function qs(e){return Js(bs(e).toLowerCase())}function Gs(e){return(e=bs(e))&&e.replace(ye,$t).replace(We,"")}var Ws=Fo((function(e,t,r){return e+(r?"-":"")+t.toLowerCase()})),Hs=Fo((function(e,t,r){return e+(r?" ":"")+t.toLowerCase()})),Ks=Co("toLowerCase"),Xs=Fo((function(e,t,r){return e+(r?"_":"")+t.toLowerCase()})),$s=Fo((function(e,t,r){return e+(r?" ":"")+Js(t)})),Ys=Fo((function(e,t,r){return e+(r?" ":"")+t.toUpperCase()})),Js=Co("toUpperCase");function Zs(e,t,r){return e=bs(e),(t=r?o:t)===o?function(e){return $e.test(e)}(e)?function(e){return e.match(Ke)||[]}(e):function(e){return e.match(ue)||[]}(e):e.match(t)||[]}var Qs=Xn((function(e,t){try{return vt(e,o,t)}catch(e){return Ji(e)?e:new Ee(e)}})),eu=ta((function(e,t){return bt(t,(function(t){t=Na(t),nn(e,t,Ii(e[t],e))})),e}));function tu(e){return function(){return e}}var ru=No(),nu=No(!0);function ou(e){return e}function au(e){return Cn("function"==typeof e?e:sn(e,1))}var iu=Xn((function(e,t){return function(r){return On(r,e,t)}})),su=Xn((function(e,t){return function(r){return On(e,r,t)}}));function uu(e,t,r){var n=Ds(t),o=En(t,n);null!=r||ts(t)&&(o.length||!n.length)||(r=t,t=e,e=this,o=En(t,Ds(t)));var a=!(ts(r)&&"chain"in r&&!r.chain),i=Zi(e);return bt(o,(function(r){var n=t[r];e[r]=n,i&&(e.prototype[r]=function(){var t=this.__chain__;if(a||t){var r=e(this.__wrapped__),o=r.__actions__=To(this.__actions__);return o.push({func:n,args:arguments,thisArg:e}),r.__chain__=t,r}return n.apply(e,At([this.value()],arguments))})})),e}function cu(){}var lu=Vo(St),fu=Vo(Et),du=Vo(Ot);function pu(e){return ba(e)?Ut(Na(e)):function(e){return function(t){return kn(t,e)}}(e)}var hu=Go(),mu=Go(!0);function gu(){return[]}function vu(){return!1}var yu,bu=zo((function(e,t){return e+t}),0),wu=Ko("ceil"),Eu=zo((function(e,t){return e/t}),1),ku=Ko("floor"),Lu=zo((function(e,t){return e*t}),1),_u=Ko("round"),Su=zo((function(e,t){return e-t}),0);return Nr.after=function(e,t){if("function"!=typeof t)throw new xe(a);return e=ms(e),function(){if(--e<1)return t.apply(this,arguments)}},Nr.ary=Ti,Nr.assign=ws,Nr.assignIn=Es,Nr.assignInWith=ks,Nr.assignWith=Ls,Nr.at=_s,Nr.before=Oi,Nr.bind=Ii,Nr.bindAll=eu,Nr.bindKey=Ri,Nr.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Wi(e)?e:[e]},Nr.chain=pi,Nr.chunk=function(e,t,r){t=(r?ya(e,t,r):t===o)?1:gr(ms(t),0);var a=null==e?0:e.length;if(!a||t<1)return[];for(var i=0,s=0,u=n(cr(a/t));i<a;)u[s++]=to(e,i,i+=t);return u},Nr.compact=function(e){for(var t=-1,r=null==e?0:e.length,n=0,o=[];++t<r;){var a=e[t];a&&(o[n++]=a)}return o},Nr.concat=function(){var e=arguments.length;if(!e)return[];for(var t=n(e-1),r=arguments[0],o=e;o--;)t[o-1]=arguments[o];return At(Wi(r)?To(r):[r],gn(t,1))},Nr.cond=function(e){var t=null==e?0:e.length,r=sa();return e=t?St(e,(function(e){if("function"!=typeof e[1])throw new xe(a);return[r(e[0]),e[1]]})):[],Xn((function(r){for(var n=-1;++n<t;){var o=e[n];if(vt(o[0],this,r))return vt(o[1],this,r)}}))},Nr.conforms=function(e){return function(e){var t=Ds(e);return function(r){return un(r,e,t)}}(sn(e,1))},Nr.constant=tu,Nr.countBy=gi,Nr.create=function(e,t){var r=Mr(e);return null==t?r:rn(r,t)},Nr.curry=function e(t,r,n){var a=Yo(t,8,o,o,o,o,o,r=n?o:r);return a.placeholder=e.placeholder,a},Nr.curryRight=function e(t,r,n){var a=Yo(t,16,o,o,o,o,o,r=n?o:r);return a.placeholder=e.placeholder,a},Nr.debounce=Di,Nr.defaults=Ss,Nr.defaultsDeep=As,Nr.defer=Pi,Nr.delay=Ci,Nr.difference=za,Nr.differenceBy=Va,Nr.differenceWith=qa,Nr.drop=function(e,t,r){var n=null==e?0:e.length;return n?to(e,(t=r||t===o?1:ms(t))<0?0:t,n):[]},Nr.dropRight=function(e,t,r){var n=null==e?0:e.length;return n?to(e,0,(t=n-(t=r||t===o?1:ms(t)))<0?0:t):[]},Nr.dropRightWhile=function(e,t){return e&&e.length?fo(e,sa(t,3),!0,!0):[]},Nr.dropWhile=function(e,t){return e&&e.length?fo(e,sa(t,3),!0):[]},Nr.fill=function(e,t,r,n){var a=null==e?0:e.length;return a?(r&&"number"!=typeof r&&ya(e,t,r)&&(r=0,n=a),function(e,t,r,n){var a=e.length;for((r=ms(r))<0&&(r=-r>a?0:a+r),(n=n===o||n>a?a:ms(n))<0&&(n+=a),n=r>n?0:gs(n);r<n;)e[r++]=t;return e}(e,t,r,n)):[]},Nr.filter=function(e,t){return(Wi(e)?kt:mn)(e,sa(t,3))},Nr.flatMap=function(e,t){return gn(_i(e,t),1)},Nr.flatMapDeep=function(e,t){return gn(_i(e,t),l)},Nr.flatMapDepth=function(e,t,r){return r=r===o?1:ms(r),gn(_i(e,t),r)},Nr.flatten=Ha,Nr.flattenDeep=function(e){return null!=e&&e.length?gn(e,l):[]},Nr.flattenDepth=function(e,t){return null!=e&&e.length?gn(e,t=t===o?1:ms(t)):[]},Nr.flip=function(e){return Yo(e,512)},Nr.flow=ru,Nr.flowRight=nu,Nr.fromPairs=function(e){for(var t=-1,r=null==e?0:e.length,n={};++t<r;){var o=e[t];n[o[0]]=o[1]}return n},Nr.functions=function(e){return null==e?[]:En(e,Ds(e))},Nr.functionsIn=function(e){return null==e?[]:En(e,Ps(e))},Nr.groupBy=Ei,Nr.initial=function(e){return null!=e&&e.length?to(e,0,-1):[]},Nr.intersection=Xa,Nr.intersectionBy=$a,Nr.intersectionWith=Ya,Nr.invert=Os,Nr.invertBy=Is,Nr.invokeMap=ki,Nr.iteratee=au,Nr.keyBy=Li,Nr.keys=Ds,Nr.keysIn=Ps,Nr.map=_i,Nr.mapKeys=function(e,t){var r={};return t=sa(t,3),bn(e,(function(e,n,o){nn(r,t(e,n,o),e)})),r},Nr.mapValues=function(e,t){var r={};return t=sa(t,3),bn(e,(function(e,n,o){nn(r,n,t(e,n,o))})),r},Nr.matches=function(e){return Nn(sn(e,1))},Nr.matchesProperty=function(e,t){return Mn(e,sn(t,1))},Nr.memoize=Fi,Nr.merge=Cs,Nr.mergeWith=Fs,Nr.method=iu,Nr.methodOf=su,Nr.mixin=uu,Nr.negate=ji,Nr.nthArg=function(e){return e=ms(e),Xn((function(t){return zn(t,e)}))},Nr.omit=js,Nr.omitBy=function(e,t){return Ns(e,ji(sa(t)))},Nr.once=function(e){return Oi(2,e)},Nr.orderBy=function(e,t,r,n){return null==e?[]:(Wi(t)||(t=null==t?[]:[t]),Wi(r=n?o:r)||(r=null==r?[]:[r]),Vn(e,t,r))},Nr.over=lu,Nr.overArgs=Ui,Nr.overEvery=fu,Nr.overSome=du,Nr.partial=Ni,Nr.partialRight=Mi,Nr.partition=Si,Nr.pick=Us,Nr.pickBy=Ns,Nr.property=pu,Nr.propertyOf=function(e){return function(t){return null==e?o:kn(e,t)}},Nr.pull=Za,Nr.pullAll=Qa,Nr.pullAllBy=function(e,t,r){return e&&e.length&&t&&t.length?Gn(e,t,sa(r,2)):e},Nr.pullAllWith=function(e,t,r){return e&&e.length&&t&&t.length?Gn(e,t,o,r):e},Nr.pullAt=ei,Nr.range=hu,Nr.rangeRight=mu,Nr.rearg=Bi,Nr.reject=function(e,t){return(Wi(e)?kt:mn)(e,ji(sa(t,3)))},Nr.remove=function(e,t){var r=[];if(!e||!e.length)return r;var n=-1,o=[],a=e.length;for(t=sa(t,3);++n<a;){var i=e[n];t(i,n,e)&&(r.push(i),o.push(n))}return Wn(e,o),r},Nr.rest=function(e,t){if("function"!=typeof e)throw new xe(a);return Xn(e,t=t===o?t:ms(t))},Nr.reverse=ti,Nr.sampleSize=function(e,t,r){return t=(r?ya(e,t,r):t===o)?1:ms(t),(Wi(e)?Yr:Yn)(e,t)},Nr.set=function(e,t,r){return null==e?e:Jn(e,t,r)},Nr.setWith=function(e,t,r,n){return n="function"==typeof n?n:o,null==e?e:Jn(e,t,r,n)},Nr.shuffle=function(e){return(Wi(e)?Jr:eo)(e)},Nr.slice=function(e,t,r){var n=null==e?0:e.length;return n?(r&&"number"!=typeof r&&ya(e,t,r)?(t=0,r=n):(t=null==t?0:ms(t),r=r===o?n:ms(r)),to(e,t,r)):[]},Nr.sortBy=Ai,Nr.sortedUniq=function(e){return e&&e.length?ao(e):[]},Nr.sortedUniqBy=function(e,t){return e&&e.length?ao(e,sa(t,2)):[]},Nr.split=function(e,t,r){return r&&"number"!=typeof r&&ya(e,t,r)&&(t=r=o),(r=r===o?p:r>>>0)?(e=bs(e))&&("string"==typeof t||null!=t&&!is(t))&&!(t=so(t))&&Zt(e)?wo(ar(e),0,r):e.split(t,r):[]},Nr.spread=function(e,t){if("function"!=typeof e)throw new xe(a);return t=null==t?0:gr(ms(t),0),Xn((function(r){var n=r[t],o=wo(r,0,t);return n&&At(o,n),vt(e,this,o)}))},Nr.tail=function(e){var t=null==e?0:e.length;return t?to(e,1,t):[]},Nr.take=function(e,t,r){return e&&e.length?to(e,0,(t=r||t===o?1:ms(t))<0?0:t):[]},Nr.takeRight=function(e,t,r){var n=null==e?0:e.length;return n?to(e,(t=n-(t=r||t===o?1:ms(t)))<0?0:t,n):[]},Nr.takeRightWhile=function(e,t){return e&&e.length?fo(e,sa(t,3),!1,!0):[]},Nr.takeWhile=function(e,t){return e&&e.length?fo(e,sa(t,3)):[]},Nr.tap=function(e,t){return t(e),e},Nr.throttle=function(e,t,r){var n=!0,o=!0;if("function"!=typeof e)throw new xe(a);return ts(r)&&(n="leading"in r?!!r.leading:n,o="trailing"in r?!!r.trailing:o),Di(e,t,{leading:n,maxWait:t,trailing:o})},Nr.thru=hi,Nr.toArray=ps,Nr.toPairs=Ms,Nr.toPairsIn=Bs,Nr.toPath=function(e){return Wi(e)?St(e,Na):cs(e)?[e]:To(Ua(bs(e)))},Nr.toPlainObject=ys,Nr.transform=function(e,t,r){var n=Wi(e),o=n||$i(e)||ls(e);if(t=sa(t,4),null==r){var a=e&&e.constructor;r=o?n?new a:[]:ts(e)&&Zi(a)?Mr(He(e)):{}}return(o?bt:bn)(e,(function(e,n,o){return t(r,e,n,o)})),r},Nr.unary=function(e){return Ti(e,1)},Nr.union=ri,Nr.unionBy=ni,Nr.unionWith=oi,Nr.uniq=function(e){return e&&e.length?uo(e):[]},Nr.uniqBy=function(e,t){return e&&e.length?uo(e,sa(t,2)):[]},Nr.uniqWith=function(e,t){return t="function"==typeof t?t:o,e&&e.length?uo(e,o,t):[]},Nr.unset=function(e,t){return null==e||co(e,t)},Nr.unzip=ai,Nr.unzipWith=ii,Nr.update=function(e,t,r){return null==e?e:lo(e,t,vo(r))},Nr.updateWith=function(e,t,r,n){return n="function"==typeof n?n:o,null==e?e:lo(e,t,vo(r),n)},Nr.values=zs,Nr.valuesIn=function(e){return null==e?[]:Gt(e,Ps(e))},Nr.without=si,Nr.words=Zs,Nr.wrap=function(e,t){return Ni(vo(t),e)},Nr.xor=ui,Nr.xorBy=ci,Nr.xorWith=li,Nr.zip=fi,Nr.zipObject=function(e,t){return mo(e||[],t||[],Qr)},Nr.zipObjectDeep=function(e,t){return mo(e||[],t||[],Jn)},Nr.zipWith=di,Nr.entries=Ms,Nr.entriesIn=Bs,Nr.extend=Es,Nr.extendWith=ks,uu(Nr,Nr),Nr.add=bu,Nr.attempt=Qs,Nr.camelCase=Vs,Nr.capitalize=qs,Nr.ceil=wu,Nr.clamp=function(e,t,r){return r===o&&(r=t,t=o),r!==o&&(r=(r=vs(r))==r?r:0),t!==o&&(t=(t=vs(t))==t?t:0),an(vs(e),t,r)},Nr.clone=function(e){return sn(e,4)},Nr.cloneDeep=function(e){return sn(e,5)},Nr.cloneDeepWith=function(e,t){return sn(e,5,t="function"==typeof t?t:o)},Nr.cloneWith=function(e,t){return sn(e,4,t="function"==typeof t?t:o)},Nr.conformsTo=function(e,t){return null==t||un(e,t,Ds(t))},Nr.deburr=Gs,Nr.defaultTo=function(e,t){return null==e||e!=e?t:e},Nr.divide=Eu,Nr.endsWith=function(e,t,r){e=bs(e),t=so(t);var n=e.length,a=r=r===o?n:an(ms(r),0,n);return(r-=t.length)>=0&&e.slice(r,a)==t},Nr.eq=zi,Nr.escape=function(e){return(e=bs(e))&&X.test(e)?e.replace(H,Yt):e},Nr.escapeRegExp=function(e){return(e=bs(e))&&re.test(e)?e.replace(te,"\\$&"):e},Nr.every=function(e,t,r){var n=Wi(e)?Et:pn;return r&&ya(e,t,r)&&(t=o),n(e,sa(t,3))},Nr.find=vi,Nr.findIndex=Ga,Nr.findKey=function(e,t){return Rt(e,sa(t,3),bn)},Nr.findLast=yi,Nr.findLastIndex=Wa,Nr.findLastKey=function(e,t){return Rt(e,sa(t,3),wn)},Nr.floor=ku,Nr.forEach=bi,Nr.forEachRight=wi,Nr.forIn=function(e,t){return null==e?e:vn(e,sa(t,3),Ps)},Nr.forInRight=function(e,t){return null==e?e:yn(e,sa(t,3),Ps)},Nr.forOwn=function(e,t){return e&&bn(e,sa(t,3))},Nr.forOwnRight=function(e,t){return e&&wn(e,sa(t,3))},Nr.get=xs,Nr.gt=Vi,Nr.gte=qi,Nr.has=function(e,t){return null!=e&&ha(e,t,An)},Nr.hasIn=Ts,Nr.head=Ka,Nr.identity=ou,Nr.includes=function(e,t,r,n){e=Ki(e)?e:zs(e),r=r&&!n?ms(r):0;var o=e.length;return r<0&&(r=gr(o+r,0)),us(e)?r<=o&&e.indexOf(t,r)>-1:!!o&&Pt(e,t,r)>-1},Nr.indexOf=function(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var o=null==r?0:ms(r);return o<0&&(o=gr(n+o,0)),Pt(e,t,o)},Nr.inRange=function(e,t,r){return t=hs(t),r===o?(r=t,t=0):r=hs(r),function(e,t,r){return e>=vr(t,r)&&e<gr(t,r)}(e=vs(e),t,r)},Nr.invoke=Rs,Nr.isArguments=Gi,Nr.isArray=Wi,Nr.isArrayBuffer=Hi,Nr.isArrayLike=Ki,Nr.isArrayLikeObject=Xi,Nr.isBoolean=function(e){return!0===e||!1===e||rs(e)&&_n(e)==v},Nr.isBuffer=$i,Nr.isDate=Yi,Nr.isElement=function(e){return rs(e)&&1===e.nodeType&&!as(e)},Nr.isEmpty=function(e){if(null==e)return!0;if(Ki(e)&&(Wi(e)||"string"==typeof e||"function"==typeof e.splice||$i(e)||ls(e)||Gi(e)))return!e.length;var t=pa(e);if(t==k||t==x)return!e.size;if(ka(e))return!Fn(e).length;for(var r in e)if(Pe.call(e,r))return!1;return!0},Nr.isEqual=function(e,t){return Rn(e,t)},Nr.isEqualWith=function(e,t,r){var n=(r="function"==typeof r?r:o)?r(e,t):o;return n===o?Rn(e,t,o,r):!!n},Nr.isError=Ji,Nr.isFinite=function(e){return"number"==typeof e&&pr(e)},Nr.isFunction=Zi,Nr.isInteger=Qi,Nr.isLength=es,Nr.isMap=ns,Nr.isMatch=function(e,t){return e===t||Dn(e,t,ca(t))},Nr.isMatchWith=function(e,t,r){return r="function"==typeof r?r:o,Dn(e,t,ca(t),r)},Nr.isNaN=function(e){return os(e)&&e!=+e},Nr.isNative=function(e){if(Ea(e))throw new Ee("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Pn(e)},Nr.isNil=function(e){return null==e},Nr.isNull=function(e){return null===e},Nr.isNumber=os,Nr.isObject=ts,Nr.isObjectLike=rs,Nr.isPlainObject=as,Nr.isRegExp=is,Nr.isSafeInteger=function(e){return Qi(e)&&e>=-9007199254740991&&e<=f},Nr.isSet=ss,Nr.isString=us,Nr.isSymbol=cs,Nr.isTypedArray=ls,Nr.isUndefined=function(e){return e===o},Nr.isWeakMap=function(e){return rs(e)&&pa(e)==I},Nr.isWeakSet=function(e){return rs(e)&&"[object WeakSet]"==_n(e)},Nr.join=function(e,t){return null==e?"":hr.call(e,t)},Nr.kebabCase=Ws,Nr.last=Ja,Nr.lastIndexOf=function(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var a=n;return r!==o&&(a=(a=ms(r))<0?gr(n+a,0):vr(a,n-1)),t==t?function(e,t,r){for(var n=r+1;n--;)if(e[n]===t)return n;return n}(e,t,a):Dt(e,Ft,a,!0)},Nr.lowerCase=Hs,Nr.lowerFirst=Ks,Nr.lt=fs,Nr.lte=ds,Nr.max=function(e){return e&&e.length?hn(e,ou,Sn):o},Nr.maxBy=function(e,t){return e&&e.length?hn(e,sa(t,2),Sn):o},Nr.mean=function(e){return jt(e,ou)},Nr.meanBy=function(e,t){return jt(e,sa(t,2))},Nr.min=function(e){return e&&e.length?hn(e,ou,jn):o},Nr.minBy=function(e,t){return e&&e.length?hn(e,sa(t,2),jn):o},Nr.stubArray=gu,Nr.stubFalse=vu,Nr.stubObject=function(){return{}},Nr.stubString=function(){return""},Nr.stubTrue=function(){return!0},Nr.multiply=Lu,Nr.nth=function(e,t){return e&&e.length?zn(e,ms(t)):o},Nr.noConflict=function(){return at._===this&&(at._=Ne),this},Nr.noop=cu,Nr.now=xi,Nr.pad=function(e,t,r){e=bs(e);var n=(t=ms(t))?or(e):0;if(!t||n>=t)return e;var o=(t-n)/2;return qo(lr(o),r)+e+qo(cr(o),r)},Nr.padEnd=function(e,t,r){e=bs(e);var n=(t=ms(t))?or(e):0;return t&&n<t?e+qo(t-n,r):e},Nr.padStart=function(e,t,r){e=bs(e);var n=(t=ms(t))?or(e):0;return t&&n<t?qo(t-n,r)+e:e},Nr.parseInt=function(e,t,r){return r||null==t?t=0:t&&(t=+t),br(bs(e).replace(ne,""),t||0)},Nr.random=function(e,t,r){if(r&&"boolean"!=typeof r&&ya(e,t,r)&&(t=r=o),r===o&&("boolean"==typeof t?(r=t,t=o):"boolean"==typeof e&&(r=e,e=o)),e===o&&t===o?(e=0,t=1):(e=hs(e),t===o?(t=e,e=0):t=hs(t)),e>t){var n=e;e=t,t=n}if(r||e%1||t%1){var a=wr();return vr(e+a*(t-e+tt("1e-"+((a+"").length-1))),t)}return Hn(e,t)},Nr.reduce=function(e,t,r){var n=Wi(e)?xt:Mt,o=arguments.length<3;return n(e,sa(t,4),r,o,fn)},Nr.reduceRight=function(e,t,r){var n=Wi(e)?Tt:Mt,o=arguments.length<3;return n(e,sa(t,4),r,o,dn)},Nr.repeat=function(e,t,r){return t=(r?ya(e,t,r):t===o)?1:ms(t),Kn(bs(e),t)},Nr.replace=function(){var e=arguments,t=bs(e[0]);return e.length<3?t:t.replace(e[1],e[2])},Nr.result=function(e,t,r){var n=-1,a=(t=yo(t,e)).length;for(a||(a=1,e=o);++n<a;){var i=null==e?o:e[Na(t[n])];i===o&&(n=a,i=r),e=Zi(i)?i.call(e):i}return e},Nr.round=_u,Nr.runInContext=e,Nr.sample=function(e){return(Wi(e)?$r:$n)(e)},Nr.size=function(e){if(null==e)return 0;if(Ki(e))return us(e)?or(e):e.length;var t=pa(e);return t==k||t==x?e.size:Fn(e).length},Nr.snakeCase=Xs,Nr.some=function(e,t,r){var n=Wi(e)?Ot:ro;return r&&ya(e,t,r)&&(t=o),n(e,sa(t,3))},Nr.sortedIndex=function(e,t){return no(e,t)},Nr.sortedIndexBy=function(e,t,r){return oo(e,t,sa(r,2))},Nr.sortedIndexOf=function(e,t){var r=null==e?0:e.length;if(r){var n=no(e,t);if(n<r&&zi(e[n],t))return n}return-1},Nr.sortedLastIndex=function(e,t){return no(e,t,!0)},Nr.sortedLastIndexBy=function(e,t,r){return oo(e,t,sa(r,2),!0)},Nr.sortedLastIndexOf=function(e,t){if(null!=e&&e.length){var r=no(e,t,!0)-1;if(zi(e[r],t))return r}return-1},Nr.startCase=$s,Nr.startsWith=function(e,t,r){return e=bs(e),r=null==r?0:an(ms(r),0,e.length),t=so(t),e.slice(r,r+t.length)==t},Nr.subtract=Su,Nr.sum=function(e){return e&&e.length?Bt(e,ou):0},Nr.sumBy=function(e,t){return e&&e.length?Bt(e,sa(t,2)):0},Nr.template=function(e,t,r){var n=Nr.templateSettings;r&&ya(e,t,r)&&(t=o),e=bs(e),t=ks({},t,n,Jo);var a,i,s=ks({},t.imports,n.imports,Jo),u=Ds(s),c=Gt(s,u),l=0,f=t.interpolate||be,d="__p += '",p=Se((t.escape||be).source+"|"+f.source+"|"+(f===J?fe:be).source+"|"+(t.evaluate||be).source+"|$","g"),h="//# sourceURL="+(Pe.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Je+"]")+"\n";e.replace(p,(function(t,r,n,o,s,u){return n||(n=o),d+=e.slice(l,u).replace(we,Jt),r&&(a=!0,d+="' +\n__e("+r+") +\n'"),s&&(i=!0,d+="';\n"+s+";\n__p += '"),n&&(d+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),l=u+t.length,t})),d+="';\n";var m=Pe.call(t,"variable")&&t.variable;if(m){if(ce.test(m))throw new Ee("Invalid `variable` option passed into `_.template`")}else d="with (obj) {\n"+d+"\n}\n";d=(i?d.replace(V,""):d).replace(q,"$1").replace(G,"$1;"),d="function("+(m||"obj")+") {\n"+(m?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(a?", __e = _.escape":"")+(i?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var g=Qs((function(){return ke(u,h+"return "+d).apply(o,c)}));if(g.source=d,Ji(g))throw g;return g},Nr.times=function(e,t){if((e=ms(e))<1||e>f)return[];var r=p,n=vr(e,p);t=sa(t),e-=p;for(var o=zt(n,t);++r<e;)t(r);return o},Nr.toFinite=hs,Nr.toInteger=ms,Nr.toLength=gs,Nr.toLower=function(e){return bs(e).toLowerCase()},Nr.toNumber=vs,Nr.toSafeInteger=function(e){return e?an(ms(e),-9007199254740991,f):0===e?e:0},Nr.toString=bs,Nr.toUpper=function(e){return bs(e).toUpperCase()},Nr.trim=function(e,t,r){if((e=bs(e))&&(r||t===o))return Vt(e);if(!e||!(t=so(t)))return e;var n=ar(e),a=ar(t);return wo(n,Ht(n,a),Kt(n,a)+1).join("")},Nr.trimEnd=function(e,t,r){if((e=bs(e))&&(r||t===o))return e.slice(0,ir(e)+1);if(!e||!(t=so(t)))return e;var n=ar(e);return wo(n,0,Kt(n,ar(t))+1).join("")},Nr.trimStart=function(e,t,r){if((e=bs(e))&&(r||t===o))return e.replace(ne,"");if(!e||!(t=so(t)))return e;var n=ar(e);return wo(n,Ht(n,ar(t))).join("")},Nr.truncate=function(e,t){var r=30,n="...";if(ts(t)){var a="separator"in t?t.separator:a;r="length"in t?ms(t.length):r,n="omission"in t?so(t.omission):n}var i=(e=bs(e)).length;if(Zt(e)){var s=ar(e);i=s.length}if(r>=i)return e;var u=r-or(n);if(u<1)return n;var c=s?wo(s,0,u).join(""):e.slice(0,u);if(a===o)return c+n;if(s&&(u+=c.length-u),is(a)){if(e.slice(u).search(a)){var l,f=c;for(a.global||(a=Se(a.source,bs(de.exec(a))+"g")),a.lastIndex=0;l=a.exec(f);)var d=l.index;c=c.slice(0,d===o?u:d)}}else if(e.indexOf(so(a),u)!=u){var p=c.lastIndexOf(a);p>-1&&(c=c.slice(0,p))}return c+n},Nr.unescape=function(e){return(e=bs(e))&&K.test(e)?e.replace(W,sr):e},Nr.uniqueId=function(e){var t=++Ce;return bs(e)+t},Nr.upperCase=Ys,Nr.upperFirst=Js,Nr.each=bi,Nr.eachRight=wi,Nr.first=Ka,uu(Nr,(yu={},bn(Nr,(function(e,t){Pe.call(Nr.prototype,t)||(yu[t]=e)})),yu),{chain:!1}),Nr.VERSION="4.17.21",bt(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){Nr[e].placeholder=Nr})),bt(["drop","take"],(function(e,t){Vr.prototype[e]=function(r){r=r===o?1:gr(ms(r),0);var n=this.__filtered__&&!t?new Vr(this):this.clone();return n.__filtered__?n.__takeCount__=vr(r,n.__takeCount__):n.__views__.push({size:vr(r,p),type:e+(n.__dir__<0?"Right":"")}),n},Vr.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),bt(["filter","map","takeWhile"],(function(e,t){var r=t+1,n=1==r||3==r;Vr.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:sa(e,3),type:r}),t.__filtered__=t.__filtered__||n,t}})),bt(["head","last"],(function(e,t){var r="take"+(t?"Right":"");Vr.prototype[e]=function(){return this[r](1).value()[0]}})),bt(["initial","tail"],(function(e,t){var r="drop"+(t?"":"Right");Vr.prototype[e]=function(){return this.__filtered__?new Vr(this):this[r](1)}})),Vr.prototype.compact=function(){return this.filter(ou)},Vr.prototype.find=function(e){return this.filter(e).head()},Vr.prototype.findLast=function(e){return this.reverse().find(e)},Vr.prototype.invokeMap=Xn((function(e,t){return"function"==typeof e?new Vr(this):this.map((function(r){return On(r,e,t)}))})),Vr.prototype.reject=function(e){return this.filter(ji(sa(e)))},Vr.prototype.slice=function(e,t){e=ms(e);var r=this;return r.__filtered__&&(e>0||t<0)?new Vr(r):(e<0?r=r.takeRight(-e):e&&(r=r.drop(e)),t!==o&&(r=(t=ms(t))<0?r.dropRight(-t):r.take(t-e)),r)},Vr.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Vr.prototype.toArray=function(){return this.take(p)},bn(Vr.prototype,(function(e,t){var r=/^(?:filter|find|map|reject)|While$/.test(t),n=/^(?:head|last)$/.test(t),a=Nr[n?"take"+("last"==t?"Right":""):t],i=n||/^find/.test(t);a&&(Nr.prototype[t]=function(){var t=this.__wrapped__,s=n?[1]:arguments,u=t instanceof Vr,c=s[0],l=u||Wi(t),f=function(e){var t=a.apply(Nr,At([e],s));return n&&d?t[0]:t};l&&r&&"function"==typeof c&&1!=c.length&&(u=l=!1);var d=this.__chain__,p=!!this.__actions__.length,h=i&&!d,m=u&&!p;if(!i&&l){t=m?t:new Vr(this);var g=e.apply(t,s);return g.__actions__.push({func:hi,args:[f],thisArg:o}),new zr(g,d)}return h&&m?e.apply(this,s):(g=this.thru(f),h?n?g.value()[0]:g.value():g)})})),bt(["pop","push","shift","sort","splice","unshift"],(function(e){var t=Te[e],r=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",n=/^(?:pop|shift)$/.test(e);Nr.prototype[e]=function(){var e=arguments;if(n&&!this.__chain__){var o=this.value();return t.apply(Wi(o)?o:[],e)}return this[r]((function(r){return t.apply(Wi(r)?r:[],e)}))}})),bn(Vr.prototype,(function(e,t){var r=Nr[t];if(r){var n=r.name+"";Pe.call(Or,n)||(Or[n]=[]),Or[n].push({name:t,func:r})}})),Or[Mo(o,2).name]=[{name:"wrapper",func:o}],Vr.prototype.clone=function(){var e=new Vr(this.__wrapped__);return e.__actions__=To(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=To(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=To(this.__views__),e},Vr.prototype.reverse=function(){if(this.__filtered__){var e=new Vr(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Vr.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,r=Wi(e),n=t<0,o=r?e.length:0,a=function(e,t,r){for(var n=-1,o=r.length;++n<o;){var a=r[n],i=a.size;switch(a.type){case"drop":e+=i;break;case"dropRight":t-=i;break;case"take":t=vr(t,e+i);break;case"takeRight":e=gr(e,t-i)}}return{start:e,end:t}}(0,o,this.__views__),i=a.start,s=a.end,u=s-i,c=n?s:i-1,l=this.__iteratees__,f=l.length,d=0,p=vr(u,this.__takeCount__);if(!r||!n&&o==u&&p==u)return po(e,this.__actions__);var h=[];e:for(;u--&&d<p;){for(var m=-1,g=e[c+=t];++m<f;){var v=l[m],y=v.iteratee,b=v.type,w=y(g);if(2==b)g=w;else if(!w){if(1==b)continue e;break e}}h[d++]=g}return h},Nr.prototype.at=mi,Nr.prototype.chain=function(){return pi(this)},Nr.prototype.commit=function(){return new zr(this.value(),this.__chain__)},Nr.prototype.next=function(){this.__values__===o&&(this.__values__=ps(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?o:this.__values__[this.__index__++]}},Nr.prototype.plant=function(e){for(var t,r=this;r instanceof Br;){var n=Ba(r);n.__index__=0,n.__values__=o,t?a.__wrapped__=n:t=n;var a=n;r=r.__wrapped__}return a.__wrapped__=e,t},Nr.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Vr){var t=e;return this.__actions__.length&&(t=new Vr(this)),(t=t.reverse()).__actions__.push({func:hi,args:[ti],thisArg:o}),new zr(t,this.__chain__)}return this.thru(ti)},Nr.prototype.toJSON=Nr.prototype.valueOf=Nr.prototype.value=function(){return po(this.__wrapped__,this.__actions__)},Nr.prototype.first=Nr.prototype.head,it&&(Nr.prototype[it]=function(){return this}),Nr}();at._=ur,(n=function(){return ur}.call(t,r,t,e))===o||(e.exports=n)}.call(this)},50308:e=>{e.exports=function(){}},44908:(e,t,r)=>{var n=r(45652);e.exports=function(e){return e&&e.length?n(e):[]}},12492:(e,t,r)=>{"use strict";const n=r(26729);class o{constructor(){this._queue=[]}enqueue(e,t){const r={priority:(t={priority:0,...t}).priority,run:e};if(this.size&&this._queue[this.size-1].priority>=t.priority)return void this._queue.push(r);const n=function(e,t,r){let n=0,o=e.length;for(;o>0;){const r=o/2|0;let i=n+r;a=e[i],t.priority-a.priority<=0?(n=++i,o-=r+1):o=r}var a;return n}(this._queue,r);this._queue.splice(n,0,r)}dequeue(){return this._queue.shift().run}get size(){return this._queue.length}}e.exports=class extends n{constructor(e){if(super(),!("number"==typeof(e={carryoverConcurrencyCount:!1,intervalCap:1/0,interval:0,concurrency:1/0,autoStart:!0,queueClass:o,...e}).concurrency&&e.concurrency>=1))throw new TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${e.concurrency}\` (${typeof e.concurrency})`);if(!("number"==typeof e.intervalCap&&e.intervalCap>=1))throw new TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${e.intervalCap}\` (${typeof e.intervalCap})`);if(!(Number.isFinite(e.interval)&&e.interval>=0))throw new TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${e.interval}\` (${typeof e.interval})`);this._carryoverConcurrencyCount=e.carryoverConcurrencyCount,this._isIntervalIgnored=e.intervalCap===1/0||0===e.interval,this._intervalCount=0,this._intervalCap=e.intervalCap,this._interval=e.interval,this._intervalId=null,this._intervalEnd=0,this._timeoutId=null,this.queue=new e.queueClass,this._queueClass=e.queueClass,this._pendingCount=0,this._concurrency=e.concurrency,this._isPaused=!1===e.autoStart,this._resolveEmpty=()=>{},this._resolveIdle=()=>{}}get _doesIntervalAllowAnother(){return this._isIntervalIgnored||this._intervalCount<this._intervalCap}get _doesConcurrentAllowAnother(){return this._pendingCount<this._concurrency}_next(){this._pendingCount--,this._tryToStartAnother()}_resolvePromises(){this._resolveEmpty(),this._resolveEmpty=()=>{},0===this._pendingCount&&(this._resolveIdle(),this._resolveIdle=()=>{})}_onResumeInterval(){this._onInterval(),this._initializeIntervalIfNeeded(),this._timeoutId=null}_intervalPaused(){const e=Date.now();if(null===this._intervalId){const t=this._intervalEnd-e;if(!(t<0))return null===this._timeoutId&&(this._timeoutId=setTimeout((()=>{this._onResumeInterval()}),t)),!0;this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0}return!1}_tryToStartAnother(){if(0===this.queue.size)return clearInterval(this._intervalId),this._intervalId=null,this._resolvePromises(),!1;if(!this._isPaused){const e=!this._intervalPaused();if(this._doesIntervalAllowAnother&&this._doesConcurrentAllowAnother)return this.emit("active"),this.queue.dequeue()(),e&&this._initializeIntervalIfNeeded(),!0}return!1}_initializeIntervalIfNeeded(){this._isIntervalIgnored||null!==this._intervalId||(this._intervalId=setInterval((()=>this._onInterval()),this._interval),this._intervalEnd=Date.now()+this._interval)}_onInterval(){for(0===this._intervalCount&&0===this._pendingCount&&(clearInterval(this._intervalId),this._intervalId=null),this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0;this._tryToStartAnother(););}async add(e,t){return new Promise(((r,n)=>{this.queue.enqueue((async()=>{this._pendingCount++,this._intervalCount++;try{r(await e())}catch(e){n(e)}this._next()}),t),this._tryToStartAnother()}))}async addAll(e,t){return Promise.all(e.map((e=>this.add(e,t))))}start(){if(this._isPaused)for(this._isPaused=!1;this._tryToStartAnother(););}pause(){this._isPaused=!0}clear(){this.queue=new this._queueClass}async onEmpty(){if(0!==this.queue.size)return new Promise((e=>{const t=this._resolveEmpty;this._resolveEmpty=()=>{t(),e()}}))}async onIdle(){if(0!==this._pendingCount||0!==this.queue.size)return new Promise((e=>{const t=this._resolveIdle;this._resolveIdle=()=>{t(),e()}}))}get size(){return this.queue.size}get pending(){return this._pendingCount}get isPaused(){return this._isPaused}}},62587:e=>{"use strict";function t(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,r,n,o){r=r||"&",n=n||"=";var a={};if("string"!=typeof e||0===e.length)return a;var i=/\+/g;e=e.split(r);var s=1e3;o&&"number"==typeof o.maxKeys&&(s=o.maxKeys);var u=e.length;s>0&&u>s&&(u=s);for(var c=0;c<u;++c){var l,f,d,p,h=e[c].replace(i,"%20"),m=h.indexOf(n);m>=0?(l=h.substr(0,m),f=h.substr(m+1)):(l=h,f=""),d=decodeURIComponent(l),p=decodeURIComponent(f),t(a,d)?Array.isArray(a[d])?a[d].push(p):a[d]=[a[d],p]:a[d]=p}return a}},12361:e=>{"use strict";var t=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,r,n,o){return r=r||"&",n=n||"=",null===e&&(e=void 0),"object"==typeof e?Object.keys(e).map((function(o){var a=encodeURIComponent(t(o))+n;return Array.isArray(e[o])?e[o].map((function(e){return a+encodeURIComponent(t(e))})).join(r):a+encodeURIComponent(t(e[o]))})).join(r):o?encodeURIComponent(t(o))+n+encodeURIComponent(t(e)):""}},17673:(e,t,r)=>{"use strict";t.decode=t.parse=r(62587),t.encode=t.stringify=r(12361)},3774:function(e,t){!function(e){"use strict";function t(e,t,r,n){var o,a=!1,i=0;function s(){o&&clearTimeout(o)}function u(){for(var u=arguments.length,c=new Array(u),l=0;l<u;l++)c[l]=arguments[l];var f=this,d=Date.now()-i;function p(){i=Date.now(),r.apply(f,c)}function h(){o=void 0}a||(n&&!o&&p(),s(),void 0===n&&d>e?p():!0!==t&&(o=setTimeout(n?h:p,void 0===n?e-d:e)))}return"boolean"!=typeof t&&(n=r,r=t,t=void 0),u.cancel=function(){s(),a=!0},u}e.debounce=function(e,r,n){return void 0===n?t(e,r,!1):t(e,n,!1!==r)},e.throttle=t,Object.defineProperty(e,"__esModule",{value:!0})}(t)},79846:function(e,t){"use strict";var r,n=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.FileUnreadableError=t.RedirectError=t.OAuthTokenError=t.GoogleDriveAuthenticationError=t.DecryptionError=t.FailsafeError=t.InterruptedSyncError=t.SlashError=t.LockFileError=t.UnclearedLockFileError=t.InconsistentBookmarksExistenceError=t.InconsistentServerStateError=t.ParseResponseError=t.HttpError=t.AuthenticationError=t.NetworkError=t.RequestTimeoutError=t.UnexpectedServerResponseError=t.UnknownFolderParentRemoveError=t.UnknownFolderRemoveError=t.MissingItemOrderError=t.UnknownFolderItemOrderError=t.UnknownFolderOrderError=t.UnknownFolderMoveError=t.UnknownFolderUpdateError=t.UnknownFolderParentUpdateError=t.UnknownMoveTargetError=t.UnknownMoveOriginError=t.UnknownBookmarkUpdateError=t.UnknownCreateTargetError=t.FloccusError=void 0;var o=function(e){function t(r){var n=e.call(this,r)||this;return Object.setPrototypeOf(n,t.prototype),n}return n(t,e),t}(Error);t.FloccusError=o;var a=function(e){function t(){var r=e.call(this,"E001: Folder to create in doesn't exist")||this;return r.code=1,Object.setPrototypeOf(r,t.prototype),r}return n(t,e),t}(o);t.UnknownCreateTargetError=a;var i=function(e){function t(){var r=e.call(this,"E002: Bookmark to update doesn't exist anymore")||this;return r.code=2,Object.setPrototypeOf(r,t.prototype),r}return n(t,e),t}(o);t.UnknownBookmarkUpdateError=i;var s=function(e){function t(){var r=e.call(this,"E003: Folder to move out of doesn't exist")||this;return r.code=3,Object.setPrototypeOf(r,t.prototype),r}return n(t,e),t}(o);t.UnknownMoveOriginError=s;var u=function(e){function t(){var r=e.call(this,"E004: Folder to move into doesn't exist")||this;return r.code=4,Object.setPrototypeOf(r,t.prototype),r}return n(t,e),t}(o);t.UnknownMoveTargetError=u;var c=function(e){function t(){var r=e.call(this,"E006: Parent of folder to update doesn't exist")||this;return r.code=5,Object.setPrototypeOf(r,t.prototype),r}return n(t,e),t}(o);t.UnknownFolderParentUpdateError=c;var l=function(e){function t(){var r=e.call(this,"E006: Folder to update doesn't exist")||this;return r.code=6,Object.setPrototypeOf(r,t.prototype),r}return n(t,e),t}(o);t.UnknownFolderUpdateError=l;var f=function(e){function t(){var r=e.call(this,"E007: Folder to move doesn't exist")||this;return r.code=7,Object.setPrototypeOf(r,t.prototype),r}return n(t,e),t}(o);t.UnknownFolderMoveError=f;var d=function(e){function t(){var r=e.call(this,"E010: Could not find folder to order")||this;return r.code=10,Object.setPrototypeOf(r,t.prototype),r}return n(t,e),t}(o);t.UnknownFolderOrderError=d;var p=function(e){function t(r){var n=e.call(this,"E011: Item in folder ordering is not an actual child")||this;return n.code=11,n.item=r,Object.setPrototypeOf(n,t.prototype),n}return n(t,e),t}(o);t.UnknownFolderItemOrderError=p;var h=function(e){function t(r){var n=e.call(this,"E012: Folder ordering is missing some of the folder's children")||this;return n.code=12,n.item=r,Object.setPrototypeOf(n,t.prototype),n}return n(t,e),t}(o);t.MissingItemOrderError=h;var m=function(e){function t(){var r=e.call(this,"E013: Folder to remove doesn't exist")||this;return r.code=13,Object.setPrototypeOf(r,t.prototype),r}return n(t,e),t}(o);t.UnknownFolderRemoveError=m;var g=function(e){function t(){var r=e.call(this,"E014: Parent folder to remove folder from of doesn't exist")||this;return r.code=14,Object.setPrototypeOf(r,t.prototype),r}return n(t,e),t}(o);t.UnknownFolderParentRemoveError=g;var v=function(e){function t(){var r=e.call(this,"E015: Unexpected response data from server")||this;return r.code=15,Object.setPrototypeOf(r,t.prototype),r}return n(t,e),t}(o);t.UnexpectedServerResponseError=v;var y=function(e){function t(){var r=e.call(this,"E016: Request timed out.")||this;return r.code=16,Object.setPrototypeOf(r,t.prototype),r}return n(t,e),t}(o);t.RequestTimeoutError=y;var b=function(e){function t(){var r=e.call(this,"E017: Network error: Check your network connection and your account details")||this;return r.code=17,Object.setPrototypeOf(r,t.prototype),r}return n(t,e),t}(o);t.NetworkError=b;var w=function(e){function t(){var r=e.call(this,"E018: Couldn't authenticate with the server.")||this;return r.code=18,Object.setPrototypeOf(r,t.prototype),r}return n(t,e),t}(o);t.AuthenticationError=w;var E=function(e){function t(r,n){var o=e.call(this,"E019: HTTP status "+r+". Failed "+n+" request. Check your server configuration and log.")||this;return o.code=19,o.status=r,o.method=n,Object.setPrototypeOf(o,t.prototype),o}return n(t,e),t}(o);t.HttpError=E;var k=function(e){function t(r){var n=e.call(this,"E020: Could not parse server response. Is the bookmarks app installed on your server?")||this;return n.code=20,n.response=r,Object.setPrototypeOf(n,t.prototype),n}return n(t,e),t}(o);t.ParseResponseError=k;var L=function(e){function t(){var r=e.call(this,"E021: Inconsistent server state. Folder is present in childorder list but not in folder tree")||this;return r.code=21,Object.setPrototypeOf(r,t.prototype),r}return n(t,e),t}(o);t.InconsistentServerStateError=L;var _=function(e){function t(r,n){var o=e.call(this,"E022: Folder "+r+" supposedly contains non-existent bookmark "+n)||this;return o.code=22,o.folder=r,o.bookmark=n,Object.setPrototypeOf(o,t.prototype),o}return n(t,e),t}(o);t.InconsistentBookmarksExistenceError=_;var S=function(e){function t(r){var n=e.call(this,"E023: Unable to clear lock file, consider deleting "+r+" manually.")||this;return n.code=23,n.lockFile=r,Object.setPrototypeOf(n,t.prototype),n}return n(t,e),t}(o);t.UnclearedLockFileError=S;var A=function(e){function t(r,n){var o=e.call(this,"E024: HTTP status "+r+" while trying to determine status of lock file "+n)||this;return o.code=24,o.status=r,o.lockFile=n,Object.setPrototypeOf(o,t.prototype),o}return n(t,e),t}(o);t.LockFileError=A;var x=function(e){function t(){var r=e.call(this,"E025: Bookmarks file setting mustn't begin with a slash: '/'")||this;return r.code=25,Object.setPrototypeOf(r,t.prototype),r}return n(t,e),t}(o);t.SlashError=x;var T=function(e){function t(){var r=e.call(this,"E027: Sync process was interrupted")||this;return r.code=27,Object.setPrototypeOf(r,t.prototype),r}return n(t,e),t}(o);t.InterruptedSyncError=T;var O=function(e){function t(r){var n=e.call(this,"E029: Failsafe: The current sync run would delete "+r+"% of your bookmarks. Refusing to execute. Disable this failsafe in the account settings if you want to proceed anyway.")||this;return n.code=29,n.percent=r,Object.setPrototypeOf(n,t.prototype),n}return n(t,e),t}(o);t.FailsafeError=O;var I=function(e){function t(){var r=e.call(this,"E030: Failed to decrypt bookmarks file. The passphrase may be wrong or the file may be corrupted.")||this;return r.code=30,Object.setPrototypeOf(r,t.prototype),r}return n(t,e),t}(o);t.DecryptionError=I;var R=function(e){function t(){var r=e.call(this,"E031: Could not authenticate with Google Drive. Please connect floccus with your google account again.")||this;return r.code=31,Object.setPrototypeOf(r,t.prototype),r}return n(t,e),t}(o);t.GoogleDriveAuthenticationError=R;var D=function(e){function t(){var r=e.call(this,"E032: OAuth error. Token validation error. Please reconnect your Google Account.")||this;return r.code=32,Object.setPrototypeOf(r,t.prototype),r}return n(t,e),t}(o);t.OAuthTokenError=D;var P=function(e){function t(){var r=e.call(this,"E033: Redirect detected. Please make sure the server supports the selected sync method and URL you entered is correct doesn't redirect to a different location.")||this;return r.code=33,Object.setPrototypeOf(r,t.prototype),r}return n(t,e),t}(o);t.RedirectError=P;var C=function(e){function t(){var r=e.call(this,"E034: Bookmarks file is unreadable. Did you forget to set an encryption passphrase?")||this;return r.code=34,Object.setPrototypeOf(r,t.prototype),r}return n(t,e),t}(o);t.FileUnreadableError=C},72903:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},n.apply(this,arguments)},o=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&o(t,e,r);return a(t,e),t},s=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,a){function i(e){try{u(n.next(e))}catch(e){a(e)}}function s(e){try{u(n.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,s)}u((n=n.apply(e,t||[])).next())}))},u=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var l=c(r(6175)),f=c(r(59564)),d=r(40505),p=c(r(19904)),h=c(r(83543)),m=c(r(45059)),g=c(r(58473)),v=c(r(62244)),y=r(52406);l.default.register("nextcloud-folders",(function(){return s(void 0,void 0,void 0,(function(){return u(this,(function(e){switch(e.label){case 0:return[4,Promise.resolve().then((function(){return i(r(36929))}))];case 1:return[2,e.sent().default]}}))}))})),l.default.register("nextcloud-bookmarks",(function(){return s(void 0,void 0,void 0,(function(){return u(this,(function(e){switch(e.label){case 0:return[4,Promise.resolve().then((function(){return i(r(36929))}))];case 1:return[2,e.sent().default]}}))}))})),l.default.register("webdav",(function(){return s(void 0,void 0,void 0,(function(){return u(this,(function(e){switch(e.label){case 0:return[4,Promise.resolve().then((function(){return i(r(60406))}))];case 1:return[2,e.sent().default]}}))}))})),l.default.register("google-drive",(function(){return s(void 0,void 0,void 0,(function(){return u(this,(function(e){switch(e.label){case 0:return[4,Promise.resolve().then((function(){return i(r(26322))}))];case 1:return[2,e.sent().default]}}))}))})),l.default.register("fake",(function(){return s(void 0,void 0,void 0,(function(){return u(this,(function(e){switch(e.label){case 0:return[4,Promise.resolve().then((function(){return i(r(9334))}))];case 1:return[2,e.sent().default]}}))}))}));var b=function(){function e(e,t,r,n){this.server=r,this.id=e,this.storage=t,this.localTree=n}return e.getAccountClass=function(){return s(this,void 0,void 0,(function(){var e,t;return u(this,(function(n){switch(n.label){case 0:return[4,y.Device.getInfo()];case 1:return"web"!==n.sent().platform?[3,3]:(e=this,[4,Promise.resolve().then((function(){return i(r(81293))}))]);case 2:return e.singleton=n.sent().default,[3,5];case 3:return t=this,[4,Promise.resolve().then((function(){return i(r(29007))}))];case 4:t.singleton=n.sent().default,n.label=5;case 5:return[2,this.singleton]}}))}))},e.get=function(e){return s(this,void 0,void 0,(function(){var t;return u(this,(function(r){switch(r.label){case 0:return this.cache[e]?[4,this.cache[e].updateFromStorage()]:[3,2];case 1:return r.sent(),[2,this.cache[e]];case 2:return[4,this.getAccountClass()];case 3:return[4,r.sent().get(e)];case 4:return t=r.sent(),this.cache[e]=t,[2,t]}}))}))},e.create=function(e){return s(this,void 0,void 0,(function(){return u(this,(function(t){switch(t.label){case 0:return[4,this.getAccountClass()];case 1:return[2,t.sent().create(e)]}}))}))},e.import=function(e){return s(this,void 0,void 0,(function(){var t,r,o;return u(this,(function(a){switch(a.label){case 0:t=0,r=e,a.label=1;case 1:return t<r.length?(o=r[t],[4,this.create(n(n({},o),{enabled:!1}))]):[3,4];case 2:a.sent(),a.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}))},e.export=function(t){return s(this,void 0,void 0,(function(){return u(this,(function(r){switch(r.label){case 0:return[4,Promise.all(t.map((function(t){return e.get(t)})))];case 1:return[2,r.sent().map((function(e){return e.getData()}))]}}))}))},e.prototype.delete=function(){return s(this,void 0,void 0,(function(){return u(this,(function(e){switch(e.label){case 0:return[4,this.storage.deleteAccountData()];case 1:return e.sent(),[2]}}))}))},e.prototype.getLabel=function(){return this.server.getLabel()},e.prototype.getData=function(){return n(n(n({},{localRoot:null,strategy:"default",syncInterval:15,nestedSync:!1,failsafe:!0}),this.server.getData()),"nextcloud-folders"===this.server.getData().type&&{type:"nextcloud-bookmarks"})},e.prototype.getResource=function(){return s(this,void 0,void 0,(function(){var e;return u(this,(function(t){switch(t.label){case 0:return"tabs"===this.getData().localRoot?[3,1]:[2,this.localTree];case 1:return[4,Promise.resolve().then((function(){return i(r(66708))}))];case 2:return e=t.sent().default,this.localTabs=new e(this.storage),[2,this.localTabs]}}))}))},e.prototype.setData=function(e){return s(this,void 0,void 0,(function(){var t;return u(this,(function(r){switch(r.label){case 0:return[4,v.default.getSingleton()];case 1:return t=r.sent(),[4,this.storage.setAccountData(e,t.key)];case 2:return r.sent(),this.server.setData(e),[2]}}))}))},e.prototype.updateFromStorage=function(){return s(this,void 0,void 0,(function(){return u(this,(function(e){throw new Error("Not implemented")}))}))},e.prototype.tracksBookmark=function(e){return s(this,void 0,void 0,(function(){var t;return u(this,(function(r){switch(r.label){case 0:return[4,this.isInitialized()];case 1:return r.sent()?[4,this.storage.getMappings()]:[2,!1];case 2:return t=r.sent(),[2,Object.keys(t.getSnapshot().LocalToServer.bookmark).some((function(t){return e===t}))]}}))}))},e.prototype.init=function(){return s(this,void 0,void 0,(function(){return u(this,(function(e){throw new Error("Not implemented")}))}))},e.prototype.isInitialized=function(){return s(this,void 0,void 0,(function(){return u(this,(function(e){throw new Error("Not implemented")}))}))},e.prototype.sync=function(t){return s(this,void 0,void 0,(function(){var o,a,s,c,l,v,y,b,w,E,k,L,_,S=this;return u(this,(function(u){switch(u.label){case 0:return u.trys.push([0,25,,31]),this.getData().syncing||this.syncing?[2]:(f.default.log("Starting sync process for account "+this.getLabel()),this.syncing=!0,[4,this.setData(n(n({},this.getData()),{syncing:.05,error:null}))]);case 1:return u.sent(),[4,this.isInitialized()];case 2:return u.sent()?[3,4]:[4,this.init()];case 3:u.sent(),u.label=4;case 4:return a=void 0,"tabs"===this.getData().localRoot?[3,5]:(a=this.localTree,[3,7]);case 5:return[4,Promise.resolve().then((function(){return i(r(66708))}))];case 6:s=u.sent().default,this.localTabs=new s(this.storage),a=this.localTabs,u.label=7;case 7:return this.server.onSyncStart?[4,this.server.onSyncStart()]:[3,10];case 8:return!1!==u.sent()?[3,10]:[4,this.init()];case 9:u.sent(),u.label=10;case 10:return[4,this.storage.getMappings()];case 11:return o=u.sent(),"LocalTabs"===a.constructor.name?[3,13]:[4,this.storage.getCache()];case 12:return l=u.sent(),[3,14];case 13:l=new d.Folder({title:"",id:"tabs",location:d.ItemLocation.LOCAL}),u.label=14;case 14:switch(c=l,v=void 0,y=void 0,t||this.getData().strategy){case"slave":c.children.length?(f.default.log("Using slave strategy"),v=h.default):(f.default.log('Using "merge slave" strategy (no cache available)'),v=p.default),y=d.ItemLocation.LOCAL;break;case"overwrite":c.children.length?(f.default.log('Using "overwrite" strategy'),v=h.default):(f.default.log('Using "merge overwrite" strategy (no cache available)'),v=p.default),y=d.ItemLocation.SERVER;break;default:c.children.length?(f.default.log('Using "default" strategy'),v=g.default):(f.default.log('Using "merge default" strategy (no cache available)'),v=m.default)}return this.syncProcess=new v(o,a,c,this.server,(function(e){S.setData(n(n({},S.getData()),{syncing:e}))})),y&&this.syncProcess.setDirection(y),[4,this.syncProcess.sync()];case 15:return u.sent(),"LocalTabs"===a.constructor.name?[3,19]:[4,a.getBookmarksTree()];case 16:return b=u.sent(),this.syncProcess.filterOutUnacceptedBookmarks(b),E=(w=this.syncProcess).filterOutUnmappedItems,k=[b],[4,o.getSnapshot()];case 17:return E.apply(w,k.concat([u.sent()])),[4,this.storage.setCache(b)];case 18:u.sent(),u.label=19;case 19:return this.server.onSyncComplete?[4,this.server.onSyncComplete()]:[3,21];case 20:u.sent(),u.label=21;case 21:return[4,this.setData(n(n({},this.getData()),{error:null,syncing:!1,lastSync:Date.now()}))];case 22:return u.sent(),this.syncing=!1,f.default.log("Successfully ended sync process for account "+this.getLabel()),o?[4,o.persist()]:[3,24];case 23:u.sent(),u.label=24;case 24:return[3,31];case 25:return L=u.sent(),console.log(L),[4,e.stringifyError(L)];case 26:return _=u.sent(),console.error("Syncing failed with",_),f.default.log("Syncing failed with",_),[4,this.setData(n(n({},this.getData()),{error:_,syncing:!1}))];case 27:return u.sent(),this.syncing=!1,this.server.onSyncFail?[4,this.server.onSyncFail()]:[3,29];case 28:u.sent(),u.label=29;case 29:return[4,this.init()];case 30:return u.sent(),[3,31];case 31:return[4,f.default.persist()];case 32:return u.sent(),[2]}}))}))},e.stringifyError=function(e){return s(this,void 0,void 0,(function(){return u(this,(function(t){switch(t.label){case 0:return[4,this.getAccountClass()];case 1:return[2,t.sent().stringifyError(e)]}}))}))},e.prototype.cancelSync=function(){return s(this,void 0,void 0,(function(){return u(this,(function(e){switch(e.label){case 0:return this.syncing?(this.server.cancel(),this.syncProcess?[4,this.syncProcess.cancel()]:[3,2]):[2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},e.getAllAccounts=function(){return s(this,void 0,void 0,(function(){return u(this,(function(e){switch(e.label){case 0:return[4,this.getAccountClass()];case 1:return[2,e.sent().getAllAccounts()]}}))}))},e.getAccountsContainingLocalId=function(e,t,r){return s(this,void 0,void 0,(function(){return u(this,(function(n){switch(n.label){case 0:return[4,this.getAccountClass()];case 1:return[2,n.sent().getAccountsContainingLocalId(e,t,r)]}}))}))},e.cache={},e}();t.default=b},6175:function(e,t){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)},n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,a){function i(e){try{u(n.next(e))}catch(e){a(e)}}function s(e){try{u(n.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,s)}u((n=n.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.default={registry:{},register:function(e,t){this.registry[e]=t},factory:function(e){return n(this,void 0,void 0,(function(){return o(this,(function(t){switch(t.label){case 0:return"type"in e?[4,this.registry[e.type]()]:[3,2];case 1:return[2,new(t.sent())(e)];case 2:return[2]}}))}))},getDefaultValues:function(e){return n(this,void 0,void 0,(function(){var t;return o(this,(function(n){switch(n.label){case 0:return[4,this.registry[e]()];case 1:return t=n.sent(),[2,r(r({},t.getDefaultValues()),{enabled:!0})]}}))}))}}},62244:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t},i=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,a){function i(e){try{u(n.next(e))}catch(e){a(e)}}function s(e){try{u(n.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,s)}u((n=n.apply(e,t||[])).next())}))},s=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var u=r(52406),c=function(){function e(){}return e.getSingleton=function(){return i(this,void 0,void 0,(function(){var e,t;return s(this,(function(n){switch(n.label){case 0:return this.singleton?[3,6]:[4,u.Device.getInfo()];case 1:return"web"!==n.sent().platform?[3,4]:[4,Promise.resolve().then((function(){return a(r(53769))}))];case 2:return[4,n.sent().default.runtime.getBackgroundPage()];case 3:return e=n.sent(),this.singleton=e.controller,[3,6];case 4:return[4,Promise.resolve().then((function(){return a(r(93290))}))];case 5:t=n.sent(),this.singleton=t.default.getSingleton(),n.label=6;case 6:return[2,this.singleton]}}))}))},e}();t.default=c},57516:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,a){function i(e){try{u(n.next(e))}catch(e){a(e)}}function s(e){try{u(n.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,s)}u((n=n.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var a=r(52300),i=function(){function e(){}return e.sha256=function(e){return n(this,void 0,void 0,(function(){var t,r;return o(this,(function(n){switch(n.label){case 0:return t=(new TextEncoder).encode(e),[4,crypto.subtle.digest("SHA-256",t)];case 1:return r=n.sent(),[2,this.bufferToHexstr(new Uint8Array(r))]}}))}))},e.bufferToHexstr=function(e){return Array.from(new Uint8Array(e)).map((function(e){return("00"+e.toString(16)).slice(-2)})).join("")},e.hexstrToBuffer=function(e){for(var t=new Uint8Array(e.length/2),r=0;r<e.length;r+=2)t[r/2]=parseInt(e.substr(r,2),16);return t},e.prepareKey=function(t,r){return n(this,void 0,void 0,(function(){var n,a,i,s;return o(this,(function(o){switch(o.label){case 0:return n=new TextEncoder,a=n.encode(t),i=n.encode(r),[4,crypto.subtle.importKey("raw",a,"PBKDF2",!1,["deriveKey"])];case 1:return s=o.sent(),[2,crypto.subtle.deriveKey({name:"PBKDF2",hash:"SHA-256",salt:i,iterations:e.iterations},s,{name:"AES-GCM",length:256},!1,["encrypt","decrypt"])]}}))}))},e.decryptAES=function(e,t,r){return n(this,void 0,void 0,(function(){var n,i,s,u,c;return o(this,(function(o){switch(o.label){case 0:return[4,this.prepareKey(e,r)];case 1:return n=o.sent(),i=(0,a.toUint8Array)(t),s=i.slice(0,this.ivLength),u=i.slice(this.ivLength),[4,crypto.subtle.decrypt({name:"AES-GCM",iv:s},n,u)];case 2:return c=o.sent(),[2,(new TextDecoder).decode(c)]}}))}))},e.encryptAES=function(e,t,r){return n(this,void 0,void 0,(function(){var n,i,s,u,c;return o(this,(function(o){switch(o.label){case 0:return n=this.getRandomBytes(this.ivLength),i=(new TextEncoder).encode(t),[4,this.prepareKey(e,r)];case 1:return s=o.sent(),[4,crypto.subtle.encrypt({name:"AES-GCM",iv:n},s,i)];case 2:return u=o.sent(),c=this.concatBytes(n,new Uint8Array(u)),[2,(0,a.fromUint8Array)(c)]}}))}))},e.concatBytes=function(e,t){var r=new Uint8Array(e.length+t.length);return r.set(e,0),r.set(t,e.length),r},e.getRandomBytes=function(e){var t=new Uint8Array(e);return crypto.getRandomValues(t),t},e.iterations=25e4,e.ivLength=16,e}();t.default=i},80559:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},n.apply(this,arguments)},o=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,a=t.length;o<a;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ActionType=void 0;var i=r(40505),s=a(r(26941)),u=a(r(36948));t.ActionType={CREATE:"CREATE",UPDATE:"UPDATE",MOVE:"MOVE",REMOVE:"REMOVE",REORDER:"REORDER"};var c=function(){function e(){var e;this.actions=((e={})[t.ActionType.CREATE]=[],e[t.ActionType.UPDATE]=[],e[t.ActionType.MOVE]=[],e[t.ActionType.REMOVE]=[],e[t.ActionType.REORDER]=[],e)}return e.prototype.commit=function(e){switch(e.type){case t.ActionType.CREATE:case t.ActionType.UPDATE:case t.ActionType.MOVE:case t.ActionType.REMOVE:case t.ActionType.REORDER:this.actions[e.type].push(n({},e))}},e.prototype.retract=function(e){switch(e.type){case t.ActionType.CREATE:case t.ActionType.UPDATE:case t.ActionType.MOVE:case t.ActionType.REMOVE:case t.ActionType.REORDER:this.actions[e.type].splice(this.actions[e.type].indexOf(e),1)}},e.prototype.getActions=function(e){return e?this.actions[e].slice():[].concat(this.actions[t.ActionType.UPDATE],this.actions[t.ActionType.CREATE],this.actions[t.ActionType.MOVE],this.actions[t.ActionType.REMOVE],this.actions[t.ActionType.REORDER])},e.findChain=function(t,r,n,a,u,c){void 0===c&&(c=[]);var l=n.findFolder(s.default.mapId(t,u.payload,n.location));if(u.payload.findItem(i.ItemType.FOLDER,s.default.mapParentId(t,a,u.payload.location))||l&&l.findFolder(s.default.mapParentId(t,a,n.location)))return!0;var f=r.filter((function(e){return!c.includes(e)&&(e.payload.findItem(i.ItemType.FOLDER,s.default.mapParentId(t,a,e.payload.location))||n.findFolder(s.default.mapId(t,e.payload,n.location))&&n.findFolder(s.default.mapId(t,e.payload,n.location)).findFolder(s.default.mapParentId(t,a,n.location)))}));if(f.length)for(var d=0,p=f;d<p.length;d++){var h=p[d];if(e.findChain(t,r,n,h.payload,u,o(o([],c,!0),[h],!1)))return!0}return!1},e.sortMoves=function(e,t){var r,n=e.filter((function(e){return e.payload.type===i.ItemType.BOOKMARK})),o=e.filter((function(e){return e.payload.type===i.ItemType.FOLDER})),a=o.reduce((function(e,r){return e[r.payload.id]=o.filter((function(e){return r!==e&&r.payload.id!==e.payload.id&&t.findItem(r.payload.type,r.payload.id)&&t.findItem(r.payload.type,r.payload.id).findItem(e.payload.type,e.payload.id)})).map((function(e){return e.payload.id})),e}),{});try{r=(0,u.default)(a).map((function(e){return e.map((function(e){return o.find((function(t){return String(t.payload.id)===String(e)}))}))}))}catch(r){throw console.log({DAG:a,tree:t,actions:e}),r}return r.push(n),r.reverse(),r},e.prototype.inspect=function(){return this.getActions()},e.prototype.map=function(r,o,a){void 0===a&&(a=function(){return!0});var u=new e;return this.getActions().map((function(e){return e})).forEach((function(e){var c;if(a(e)){var l=e.oldItem;if(l&&o!==i.ItemLocation.SERVER){var f=e.oldItem.id,d=e.payload.id;(c=n(n({},e),{payload:e.payload.clone(!1,o),oldItem:e.oldItem.clone(!1,e.payload.location)})).payload.id=f,c.oldItem.id=d}else(c=n(n({},e),{payload:e.payload.clone(!1,o),oldItem:e.payload.clone(!1)})).payload.id=s.default.mapId(r,e.payload,o);if(l&&o!==i.ItemLocation.SERVER&&e.type!==t.ActionType.MOVE&&e.type!==t.ActionType.UPDATE)c.payload.parentId=e.oldItem.parentId,c.oldItem.parentId=e.payload.parentId;else if(c.oldItem.parentId=e.payload.parentId,c.payload.parentId=s.default.mapParentId(r,e.payload,o),void 0===c.payload.parentId&&void 0!==e.payload.parentId)throw new Error("Failed to map parentId: "+e.payload.parentId);e.type===t.ActionType.REORDER&&(c.oldOrder=e.order,c.order=e.order.slice().map((function(e){return n(n({},e),{id:r[(o===i.ItemLocation.LOCAL?i.ItemLocation.SERVER:i.ItemLocation.LOCAL)+"To"+o][e.type][e.id]})}))),u.commit(c)}else u.commit(e)})),u},e}();t.default=c},66708:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,a){function i(e){try{u(n.next(e))}catch(e){a(e)}}function s(e){try{u(n.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,s)}u((n=n.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=a(r(53769)),s=a(r(59564)),u=a(r(12492)),c=r(40505),l=a(r(44908)),f=function(){function e(e){this.storage=e,this.queue=new u.default({concurrency:10})}return e.prototype.getBookmarksTree=function(){return n(this,void 0,void 0,(function(){var e;return o(this,(function(t){switch(t.label){case 0:return[4,i.default.tabs.query({windowType:"normal"})];case 1:return e=t.sent(),[2,new c.Folder({title:"",id:"tabs",location:c.ItemLocation.LOCAL,children:(0,l.default)(e.map((function(e){return e.windowId}))).map((function(e){return e})).map((function(t){return new c.Folder({title:"",id:t,parentId:"tabs",location:c.ItemLocation.LOCAL,children:e.filter((function(e){return e.windowId===t})).sort((function(e){return e.index})).map((function(e){return new c.Bookmark({id:e.id,title:"",url:e.url,parentId:t,location:c.ItemLocation.LOCAL})}))})}))})]}}))}))},e.prototype.createBookmark=function(e){return n(this,void 0,void 0,(function(){return o(this,(function(t){switch(t.label){case 0:return s.default.log("(tabs)CREATE",e),[4,this.queue.add((function(){return i.default.tabs.create({windowId:e.parentId,url:e.url,discarded:!0})}))];case 1:return[2,t.sent().id]}}))}))},e.prototype.updateBookmark=function(e){return n(this,void 0,void 0,(function(){return o(this,(function(t){switch(t.label){case 0:return s.default.log("(tabs)UPDATE",e),[4,this.queue.add((function(){return i.default.tabs.update(e.id,{url:e.url})}))];case 1:return t.sent(),[4,this.queue.add((function(){return i.default.tabs.move(e.id,{windowId:e.parentId,index:-1})}))];case 2:return t.sent(),[2]}}))}))},e.prototype.removeBookmark=function(e){return n(this,void 0,void 0,(function(){var t;return o(this,(function(r){switch(r.label){case 0:return t=e.id,s.default.log("(tabs)REMOVE",e),[4,this.queue.add((function(){return i.default.tabs.remove(t)}))];case 1:return r.sent(),[2]}}))}))},e.prototype.createFolder=function(e){return n(this,void 0,void 0,(function(){return o(this,(function(t){switch(t.label){case 0:return s.default.log("(tabs)CREATEFOLDER",e),"tabs"!==e.parentId?[2,"0"]:[4,this.queue.add((function(){return i.default.windows.create()}))];case 1:return[2,t.sent().id]}}))}))},e.prototype.orderFolder=function(e,t){return n(this,void 0,void 0,(function(){return o(this,(function(r){return s.default.log("(tabs)ORDERFOLDER (noop)",{id:e,order:t}),[2]}))}))},e.prototype.updateFolder=function(e){return n(this,void 0,void 0,(function(){return o(this,(function(t){return s.default.log("(tabs)UPDATEFOLDER (noop)",e),[2]}))}))},e.prototype.removeFolder=function(e){return n(this,void 0,void 0,(function(){var t;return o(this,(function(r){switch(r.label){case 0:return t=e.id,s.default.log("(tabs)REMOVEFOLDER",t),[4,this.queue.add((function(){return i.default.tabs.remove(t)}))];case 1:return r.sent(),[2]}}))}))},e}();t.default=f},26941:function(e,t){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)},n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,a){function i(e){try{u(n.next(e))}catch(e){a(e)}}function s(e){try{u(n.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,s)}u((n=n.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){this.storage=e,this.folders=t.folders,this.bookmarks=t.bookmarks}return e.prototype.getSnapshot=function(){return{ServerToLocal:{bookmark:this.bookmarks.ServerToLocal,folder:this.folders.ServerToLocal},LocalToServer:{bookmark:this.bookmarks.LocalToServer,folder:this.folders.LocalToServer}}},e.prototype.addFolder=function(t){var r=t.localId,a=t.remoteId;return n(this,void 0,void 0,(function(){return o(this,(function(t){return this.folders=e.add(this.folders,{localId:r,remoteId:a}),[2]}))}))},e.prototype.removeFolder=function(t){var r=t.localId,a=t.remoteId;return n(this,void 0,void 0,(function(){return o(this,(function(t){return this.folders=e.remove(this.folders,{localId:r,remoteId:a}),[2]}))}))},e.prototype.addBookmark=function(t){var r=t.localId,a=t.remoteId;return n(this,void 0,void 0,(function(){return o(this,(function(t){return this.bookmarks=e.add(this.bookmarks,{localId:r,remoteId:a}),[2]}))}))},e.prototype.removeBookmark=function(t){var r=t.localId,a=t.remoteId;return n(this,void 0,void 0,(function(){return o(this,(function(t){return this.bookmarks=e.remove(this.bookmarks,{localId:r,remoteId:a}),[2]}))}))},e.prototype.persist=function(){return n(this,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:return[4,this.storage.setMappings({folders:this.folders,bookmarks:this.bookmarks})];case 1:return e.sent(),[2]}}))}))},e.add=function(e,t){var n,o,a=t.localId,i=t.remoteId;if(void 0===a||void 0===i)throw new Error("Cannot add empty mapping");return{LocalToServer:r(r({},e.LocalToServer),(n={},n[a]=i,n)),ServerToLocal:r(r({},e.ServerToLocal),(o={},o[i]=a,o))}},e.remove=function(e,t){var n,o,a,i,s=t.localId,u=t.remoteId;return s&&u&&e.LocalToServer[s]!==u?(e=this.remove(e,{localId:s}),this.remove(e,{remoteId:u})):s?{LocalToServer:r(r({},e.LocalToServer),(n={},n[s]=void 0,n)),ServerToLocal:r(r({},Object.fromEntries(Object.entries(e.ServerToLocal).filter((function(e){return e[1]!==s})))),(o={},o[e.LocalToServer[s]]=void 0,o))}:{LocalToServer:r(r({},Object.fromEntries(Object.entries(e.LocalToServer).filter((function(e){return e[1]!==u})))),(a={},a[e.ServerToLocal[u]]=void 0,a)),ServerToLocal:r(r({},e.ServerToLocal),(i={},i[u]=void 0,i))}},e.mapId=function(e,t,r){return t.location===r?t.id:e[t.location+"To"+r][t.type][t.id]},e.mapParentId=function(e,t,r){return t.location===r?t.parentId:e[t.location+"To"+r].folder[t.parentId]},e.mappable=function(t,r,n){return e.mapId(t,r,n.location)===n.id||e.mapId(t,n,r.location)===r.id},e}();t.default=a},11545:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t},i=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,a){function i(e){try{u(n.next(e))}catch(e){a(e)}}function s(e){try{u(n.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,s)}u((n=n.apply(e,t||[])).next())}))},s=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var u=a(r(18329)),c=a(r(80559)),l=r(40505),f=function(){function e(e,t,r,n,o){void 0===o&&(o=!0),this.oldTree=e,this.newTree=t,this.mergeable=r,this.preserveOrder=n,this.checkHashes=void 0===o||o,this.diff=new c.default}return e.prototype.getDiff=function(){return this.diff},e.prototype.run=function(){return i(this,void 0,void 0,(function(){return s(this,(function(e){switch(e.label){case 0:return this.diff=new c.default,[4,this.diffItem(this.oldTree,this.newTree)];case 1:return e.sent(),[4,this.findMoves()];case 2:return e.sent(),[4,this.addReorders()];case 3:return e.sent(),[2,this.diff]}}))}))},e.prototype.diffItem=function(e,t){return i(this,void 0,void 0,(function(){return s(this,(function(r){if("folder"===e.type&&"folder"===t.type)return[2,this.diffFolder(e,t)];if("bookmark"===e.type&&"bookmark"===t.type)return[2,this.diffBookmark(e,t)];throw new Error("Mismatched diff items: "+e.type+", "+t.type)}))}))},e.prototype.diffFolder=function(e,t){return i(this,void 0,void 0,(function(){var r,n=this;return s(this,(function(o){switch(o.label){case 0:return this.checkHashes?[4,this.folderHasChanged(e,t)]:[3,2];case 1:if(!o.sent())return[2];o.label=2;case 2:return r=0,e.title!==t.title&&e.parentId&&t.parentId&&this.diff.commit({type:c.ActionType.UPDATE,payload:t,oldItem:e}),[4,u.map(e.children,(function(e,o){return i(n,void 0,void 0,(function(){var n,a=this;return s(this,(function(i){switch(i.label){case 0:return(n=t.children.find((function(t){return e.type===t.type&&a.mergeable(e,t)})))?[4,this.diffItem(e,n)]:[3,2];case 1:return i.sent(),[2];case 2:return this.diff.commit({type:c.ActionType.REMOVE,payload:e,index:o}),r++,[2]}}))}))}),1)];case 3:return o.sent(),[4,u.map(t.children,(function(t,o){return i(n,void 0,void 0,(function(){var n=this;return s(this,(function(a){return e.children.some((function(e){return e.type===t.type&&n.mergeable(e,t)}))||(this.diff.commit({type:c.ActionType.CREATE,payload:t,index:o}),r++),[2]}))}))}),1)];case 4:return o.sent(),0===r&&t.children.length>1&&this.diff.commit({type:c.ActionType.REORDER,payload:t,order:t.children.map((function(e){return{type:e.type,id:e.id}}))}),[2]}}))}))},e.prototype.diffBookmark=function(e,t){return i(this,void 0,void 0,(function(){var r;return s(this,(function(n){switch(n.label){case 0:return this.checkHashes?[4,this.bookmarkHasChanged(e,t)]:[3,2];case 1:return r=n.sent(),[3,3];case 2:r=e.title!==t.title||e.url!==t.url,n.label=3;case 3:return r&&this.diff.commit({type:c.ActionType.UPDATE,payload:t,oldItem:e}),[2]}}))}))},e.prototype.bookmarkHasChanged=function(e,t){return i(this,void 0,void 0,(function(){var r,n;return s(this,(function(o){switch(o.label){case 0:return[4,e.hash()];case 1:return r=o.sent(),[4,t.hash()];case 2:return n=o.sent(),[2,r!==n]}}))}))},e.prototype.folderHasChanged=function(e,t){return i(this,void 0,void 0,(function(){var r,n;return s(this,(function(o){switch(o.label){case 0:return[4,e.hash(this.preserveOrder)];case 1:return r=o.sent(),[4,t.hash(this.preserveOrder)];case 2:return n=o.sent(),[2,r!==n]}}))}))},e.prototype.findMoves=function(){return i(this,void 0,void 0,(function(){var e,t,r,n,o,a,i,u,f,d,p=this;return s(this,(function(h){switch(h.label){case 0:r=!0,h.label=1;case 1:if(!r)return[3,11];r=!1,n=void 0,o=void 0,e=this.diff.getActions(c.ActionType.CREATE).map((function(e){return e})),h.label=2;case 2:if(r||!(n=e.shift()))return[3,7];a=n.payload,t=this.diff.getActions(c.ActionType.REMOVE).map((function(e){return e})),h.label=3;case 3:return r||!(o=t.shift())?[3,6]:(i=o.payload,this.mergeable(i,a)?(this.diff.retract(n),this.diff.retract(o),this.diff.commit({type:c.ActionType.MOVE,payload:a,oldItem:i,index:n.index,oldIndex:o.index}),r=!0,[4,this.diffItem(i,a)]):[3,5]);case 4:h.sent(),h.label=5;case 5:return[3,3];case 6:return[3,2];case 7:e=this.diff.getActions(c.ActionType.CREATE).map((function(e){return e})),u=function(){var e,a;return s(this,(function(i){switch(i.label){case 0:e=n.payload,t=f.diff.getActions(c.ActionType.REMOVE).map((function(e){return e})),a=function(){var t,a,i,u,d,h,m,g,v,y,b;return s(this,(function(s){switch(s.label){case 0:return t=o.payload,(a=t.findItemFilter(e.type,(function(t){return p.mergeable(t,e)})))?(i=void 0,f.diff.retract(n),a===t?f.diff.retract(o):(u=t.clone(!0),d=u.findItem(l.ItemType.FOLDER,a.parentId),h=u.findItem(a.type,a.id),i=d.children.indexOf(h),d.children.splice(i,1),o.payload=u,o.payload.createIndex()),f.diff.commit({type:c.ActionType.MOVE,payload:e,oldItem:a,index:n.index,oldIndex:i||o.index}),r=!0,a.type!==l.ItemType.FOLDER?[3,2]:[4,f.diffItem(a,e)]):[3,3];case 1:s.sent(),s.label=2;case 2:return[3,5];case 3:return m=e.findItemFilter(t.type,(function(e){return p.mergeable(t,e)})),g=void 0,m?(f.diff.retract(o),m===e?f.diff.retract(n):(v=e.clone(!0),y=v.findItem(l.ItemType.FOLDER,m.parentId),b=v.findItem(m.type,m.id),g=y.children.indexOf(b),y.children.splice(g,1),n.payload=v,n.payload.createIndex()),f.diff.commit({type:c.ActionType.MOVE,payload:m,oldItem:t,index:g||n.index,oldIndex:o.index}),r=!0,t.type!==l.ItemType.FOLDER?[3,5]:[4,f.diffItem(t,m)]):[3,5];case 4:s.sent(),s.label=5;case 5:return[2]}}))},i.label=1;case 1:return r||!(o=t.shift())?[3,3]:[5,a()];case 2:return i.sent(),[3,1];case 3:return[2]}}))},f=this,h.label=8;case 8:return r||!(n=e.shift())?[3,10]:[5,u()];case 9:return h.sent(),[3,8];case 10:return[3,1];case 11:return d=this.diff.getActions(c.ActionType.MOVE),this.diff.getActions(c.ActionType.UPDATE).forEach((function(e){d.find((function(t){return t.payload.id===e.payload.id}))&&p.diff.retract(e)})),[2]}}))}))},e.prototype.addReorders=function(){return i(this,void 0,void 0,(function(){var e,t,r,n,o,a,i,u=this;return s(this,(function(s){for(i in e={},t={},this.diff.getActions().forEach((function(r){switch(r.type){case c.ActionType.CREATE:e[r.payload.parentId]=!0;break;case c.ActionType.REMOVE:t[r.payload.parentId]=!0;break;case c.ActionType.MOVE:e[r.payload.parentId]=!0,t[r.oldItem.parentId]=!0}})),r=function(t){var r=n.oldTree.findItem(l.ItemType.FOLDER,t);if(!r)return"continue";var o=n.newTree.findItemFilter(l.ItemType.FOLDER,(function(e){return u.mergeable(r,e)}));o&&(e[o.id]=!0)},n=this,t)r(i);for(i in o=function(e){var t=a.newTree.findItem(l.ItemType.FOLDER,e),r=a.diff.getActions(c.ActionType.REORDER).find((function(e){return e.payload.id===t.id}));r&&a.diff.retract(r),a.diff.commit({type:c.ActionType.REORDER,payload:t,order:t.children.map((function(e){return{type:e.type,id:e.id}}))})},a=this,e)o(i);return[2]}))}))},e}();t.default=f},40505:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},n.apply(this,arguments)},o=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&o(t,e,r);return a(t,e),t},s=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,a){function i(e){try{u(n.next(e))}catch(e){a(e)}}function s(e){try{u(n.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,s)}u((n=n.apply(e,t||[])).next())}))},u=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Folder=t.Bookmark=t.ItemType=t.ItemLocation=void 0;var l=c(r(57516)),f=c(r(59564)),d=i(r(18329)),p=["data:","javascript:","about:","chrome:"];t.ItemLocation={LOCAL:"Local",SERVER:"Server"},t.ItemType={FOLDER:"folder",BOOKMARK:"bookmark"};var h=function(){function e(e){var r=e.id,n=e.parentId,o=e.url,a=e.title,i=e.tags,s=e.location;if(this.type=t.ItemType.BOOKMARK,this.id=r,this.parentId=n,this.title=a,this.tags=i,this.location=s,p.some((function(e){return 0===o.indexOf(e)})))this.url=o;else try{var u=new URL(o);this.url=u.href}catch(e){f.default.log("Failed to normalize",o),this.url=o}}return e.prototype.canMergeWith=function(t){return t instanceof e&&this.url===t.url},e.prototype.hash=function(){return s(this,void 0,void 0,(function(){var e;return u(this,(function(t){switch(t.label){case 0:return this.hashValue?[3,2]:(e=this,[4,l.default.sha256(JSON.stringify({title:this.title,url:this.url}))]);case 1:e.hashValue=t.sent(),t.label=2;case 2:return[2,this.hashValue]}}))}))},e.prototype.clone=function(t,r){return new e(n(n({},this),{location:null!=r?r:this.location}))},e.prototype.withLocation=function(t){return new e(n(n({},this),{location:t}))},e.prototype.createIndex=function(){var e;return(e={})[this.id]=this,e},e.prototype.findItem=function(e,t){if("bookmark"===e&&String(t)===String(this.id))return this},e.prototype.findItemFilter=function(e,r){return e===t.ItemType.BOOKMARK&&r(this)?this:null},e.prototype.count=function(){return 1},e.prototype.inspect=function(e){return void 0===e&&(e=0),Array(e<0?0:e).fill("  ").join("")+"- #"+this.id+"["+this.title+"]("+this.url+") parentId: "+this.parentId},e.prototype.visitCreate=function(e){return e.createBookmark(this)},e.prototype.visitUpdate=function(e){return e.updateBookmark(this)},e.prototype.visitRemove=function(e){return e.removeBookmark(this)},e.hydrate=function(t){return new e(t)},e}();t.Bookmark=h;var m=function(){function e(e){var r=e.id,o=e.parentId,a=e.title,i=e.children,s=e.hashValue,u=e.loaded,c=e.location;this.type=t.ItemType.FOLDER,this.isRoot=!1,this.loaded=!0,this.id=r,this.parentId=o,this.title=a,this.children=i||[],this.hashValue=n({},s)||{},this.loaded=!1!==u,this.location=c}return e.prototype.findItemFilter=function(e,t){return this.index||this.createIndex(),Object.values(this.index[e]).find(t)},e.prototype.findFolder=function(t){return String(this.id)===String(t)?this:this.index?this.index.folder[t]:this.children.filter((function(t){return t instanceof e})).map((function(e){return e})).map((function(e){return e.findFolder(t)})).filter((function(e){return!!e}))[0]},e.prototype.findBookmark=function(t){return this.index?this.index.bookmark[t]:this.children.filter((function(e){return e instanceof h})).map((function(e){return e})).find((function(e){return String(e.id)===String(t)}))||this.children.filter((function(t){return t instanceof e})).map((function(e){return e})).map((function(e){return e.findBookmark(t)})).filter((function(e){return!!e}))[0]},e.prototype.findItem=function(e,r){return e===t.ItemType.FOLDER?this.findFolder(r):this.findBookmark(r)},e.prototype.traverse=function(e){return s(this,void 0,void 0,(function(){var t=this;return u(this,(function(r){switch(r.label){case 0:return[4,d.each(this.children,(function(r){return s(t,void 0,void 0,(function(){return u(this,(function(t){switch(t.label){case 0:return[4,e(r,this)];case 1:return t.sent(),"folder"!==r.type?[3,3]:[4,r.traverse(e)];case 2:t.sent(),t.label=3;case 3:return[2]}}))}))}))];case 1:return r.sent(),[2]}}))}))},e.prototype.canMergeWith=function(t){return t instanceof e&&this.title===t.title},e.prototype.hash=function(e){return void 0===e&&(e=!1),s(this,void 0,void 0,(function(){var t,r,n,o,a,i,s,c;return u(this,(function(u){switch(u.label){case 0:if(this.hashValue&&this.hashValue[String(e)])return[2,this.hashValue[String(e)]];if(!this.loaded)throw new Error("Trying to calculate hash of a folder that isn't loaded");return t=this.children.slice(),e||t.sort((function(e,t){return e.title<t.title?-1:t.title<e.title?1:0})),this.hashValue||(this.hashValue={}),r=this.hashValue,n=String(e),a=(o=l.default).sha256,s=(i=JSON).stringify,c={title:this.title},[4,d.map(this.children,(function(t){return t.hash(e)}),1)];case 1:return[4,a.apply(o,[s.apply(i,[(c.children=u.sent(),c)])])];case 2:return r[n]=u.sent(),[2,this.hashValue[String(e)]]}}))}))},e.prototype.clone=function(t,r){var o=this;return new e(n(n(n(n({},this),!t&&{hashValue:{}}),r&&{location:r}),{children:this.children.map((function(e){return e.clone(t,null!=r?r:o.location)}))}))},e.prototype.count=function(){return this.index||this.createIndex(),Object.keys(this.index.bookmark).length},e.prototype.countFolders=function(){return this.index||this.createIndex(),Object.keys(this.index.folder).length},e.prototype.createIndex=function(){var t,r=this;return this.index={folder:(t={},t[this.id]=this,t),bookmark:Object.assign({},this.children.filter((function(e){return e instanceof h})).reduce((function(e,t){return e[t.id]=t,e}),{}))},this.children.filter((function(t){return t instanceof e})).map((function(e){return e.createIndex()})).forEach((function(e){Object.assign(r.index.folder,e.folder),Object.assign(r.index.bookmark,e.bookmark)})),this.index},e.prototype.inspect=function(e){return void 0===e&&(e=0),Array(e<0?0:e).fill("  ").join("")+"+ #"+this.id+"["+this.title+"] parentId: "+this.parentId+", hash: "+(this.hashValue[String(!0)]||this.hashValue[String(!1)])+"\n"+this.children.map((function(t){return t&&t.inspect?t.inspect(e+1):String(t)})).join("\n")},e.prototype.visitCreate=function(e){return e.createFolder(this)},e.prototype.visitUpdate=function(e){return e.updateFolder(this)},e.prototype.visitRemove=function(e){return e.removeFolder(this)},e.hydrate=function(t){return new e(n(n({},t),{children:t.children?t.children.map((function(t){return"url"in t&&"string"==typeof t.url?h.hydrate(t):e.hydrate(t)})):null}))},e.getAncestorsOf=function(e,r){for(var n=[e],o=e;o.id!==r.id;)if(n.push(o),!(o=r.findItem(t.ItemType.FOLDER,o.parentId)))throw new Error("Item is not a descendant of the tree passed");return n.reverse(),n},e}();t.Folder=m},63479:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},n.apply(this,arguments)},o=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&o(t,e,r);return a(t,e),t},s=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,a){function i(e){try{u(n.next(e))}catch(e){a(e)}}function s(e){try{u(n.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,s)}u((n=n.apply(e,t||[])).next())}))},u=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var l=i(r(40505)),f=r(40505),d=c(r(59564)),p=r(96486),h=c(r(8575)),m=r(79846),g=function(){function e(e){this.resetCache()}return e.prototype.resetCache=function(){this.highestId=0,this.bookmarksCache=new f.Folder({id:0,title:"root",location:f.ItemLocation.SERVER})},e.prototype.getLabel=function(){var e=this.getData();return e.username+"@"+h.default.parse(e.url).hostname},e.prototype.getBookmarksTree=function(){return s(this,void 0,void 0,(function(){return u(this,(function(e){return[2,this.bookmarksCache.clone()]}))}))},e.prototype.acceptsBookmark=function(e){return"data:"!==e.url&&Boolean(~["https:","http:","ftp:","data:","javascript:"].indexOf(h.default.parse(e.url).protocol))},e.prototype.createBookmark=function(e){return s(this,void 0,void 0,(function(){var t;return u(this,(function(r){if(d.default.log("CREATE",e),e.id=++this.highestId,!(t=this.bookmarksCache.findFolder(e.parentId)))throw new m.UnknownCreateTargetError;return t.children.push(e),this.bookmarksCache.createIndex(),[2,e.id]}))}))},e.prototype.updateBookmark=function(e){return s(this,void 0,void 0,(function(){var t,r,n;return u(this,(function(o){if(d.default.log("UPDATE",e),!(t=this.bookmarksCache.findBookmark(e.id)))throw new m.UnknownBookmarkUpdateError;if(t.url=e.url,t.title=e.title,t.parentId===e.parentId)return[2];if(!(r=this.bookmarksCache.findFolder(t.parentId)))throw new m.UnknownMoveOriginError;if(!(n=this.bookmarksCache.findFolder(e.parentId)))throw new m.UnknownMoveTargetError;return r.children.splice(r.children.indexOf(t),1),n.children.push(t),t.parentId=e.parentId,this.bookmarksCache.createIndex(),[2]}))}))},e.prototype.removeBookmark=function(e){return s(this,void 0,void 0,(function(){var t,r,n;return u(this,(function(o){return d.default.log("REMOVE",{bookmark:e}),t=e.id,(r=this.bookmarksCache.findBookmark(t))&&(n=this.bookmarksCache.findFolder(r.parentId))?(n.children.splice(n.children.indexOf(r),1),this.bookmarksCache.createIndex(),[2]):[2]}))}))},e.prototype.createFolder=function(e){return s(this,void 0,void 0,(function(){var t,r;return u(this,(function(n){if(d.default.log("CREATEFOLDER",{folder:e}),t=new l.Folder({id:++this.highestId,parentId:e.parentId,title:e.title,location:f.ItemLocation.SERVER}),!(r=this.bookmarksCache.findFolder(t.parentId)))throw new m.UnknownCreateTargetError;return r.children.push(t),this.bookmarksCache.createIndex(),[2,t.id]}))}))},e.prototype.updateFolder=function(e){return s(this,void 0,void 0,(function(){var t,r,n,o;return u(this,(function(a){if(d.default.log("UPDATEFOLDER",{folder:e}),t=e.id,!(r=this.bookmarksCache.findFolder(t)))throw new m.UnknownFolderUpdateError;if(!(n=this.bookmarksCache.findFolder(r.parentId)))throw new m.UnknownMoveOriginError;if(!(o=this.bookmarksCache.findFolder(e.parentId)))throw new m.UnknownMoveTargetError;if(r.findFolder(o.id))throw new Error("Detected creation of folder loop: Moving "+t+" to "+e.parentId+", but it already contains the new parent node");return n.children.splice(n.children.indexOf(r),1),o.children.push(r),r.title=e.title,r.parentId=e.parentId,this.bookmarksCache.createIndex(),[2]}))}))},e.prototype.orderFolder=function(e,t){return s(this,void 0,void 0,(function(){var r,n,o;return u(this,(function(a){if(d.default.log("ORDERFOLDER",{id:e,order:t}),!(r=this.bookmarksCache.findFolder(e)))throw new m.UnknownFolderOrderError;if(t.forEach((function(t){var n=r.findItem(t.type,t.id);if(!n||n.parentId!==r.id)throw new m.UnknownFolderItemOrderError(e+":"+JSON.stringify(t))})),r.children.forEach((function(r){if(!t.find((function(e){return e.type===r.type&&e.id===r.id})))throw new m.MissingItemOrderError(e+":"+r.inspect())})),t.length!==r.children.length)throw n=(0,p.difference)(r.children.map((function(e){return e.id})),t.map((function(e){return e.id}))),new m.MissingItemOrderError(e+":"+JSON.stringify(n));return o=[],t.forEach((function(e){var t=r.findItem(e.type,e.id);o.push(t)})),r.children=o,[2]}))}))},e.prototype.removeFolder=function(e){return s(this,void 0,void 0,(function(){var t,r,n;return u(this,(function(o){return d.default.log("REMOVEFOLDER",{folder:e}),t=e.id,(r=this.bookmarksCache.findFolder(t))&&(n=this.bookmarksCache.findFolder(r.parentId))?(n.children.splice(n.children.indexOf(r),1),this.bookmarksCache.createIndex(),[2]):[2]}))}))},e.prototype.bulkImportFolder=function(e,t){return s(this,void 0,void 0,(function(){var r,n,o=this;return u(this,(function(a){switch(a.label){case 0:if(d.default.log("BULKIMPORT",{id:e,folder:t}),!(r=this.bookmarksCache.findFolder(e)))throw new m.UnknownCreateTargetError;return(n=t.clone()).id=e,[4,n.traverse((function(e,t){return s(o,void 0,void 0,(function(){return u(this,(function(r){return e.id=++this.highestId,e.parentId=t.id,[2]}))}))}))];case 1:return a.sent(),r.children=n.children,this.bookmarksCache.createIndex(),[2,n]}}))}))},e.prototype.setData=function(e){this.server=n({},e)},e.prototype.getData=function(){return n({},this.server)},e.prototype.onSyncStart=function(){return s(this,void 0,void 0,(function(){return u(this,(function(e){return[2]}))}))},e.prototype.onSyncFail=function(){return s(this,void 0,void 0,(function(){return u(this,(function(e){return[2]}))}))},e.prototype.onSyncComplete=function(){return s(this,void 0,void 0,(function(){return u(this,(function(e){return[2]}))}))},e.prototype.cancel=function(){},e}();t.default=g},26322:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,a){function i(e){try{u(n.next(e))}catch(e){a(e)}}function s(e){try{u(n.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,s)}u((n=n.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=s(r(53769)),c=s(r(63479)),l=s(r(59564)),f=s(r(21617)),d=s(r(57516)),p=s(r(61299)),h=r(79846),m=function(e){function t(t){var r=e.call(this,t)||this;return r.cancelCallback=null,r.server=t,r}return o(t,e),t.authorize=function(e){return void 0===e&&(e=!0),a(this,void 0,void 0,(function(){var t,r,n,o,a,s,c,l,f,d;return i(this,(function(i){switch(i.label){case 0:return t=chrome.identity.getRedirectURL(),r=["https://www.googleapis.com/auth/drive.file"],n="https://accounts.google.com/o/oauth2/auth",n+="?client_id="+p.default.web.client_id,n+="&response_type=code",n+="&redirect_uri="+encodeURIComponent(t),n+="&scope="+encodeURIComponent(r.join(" ")),n+="&approval_prompt=force&access_type=offline",[4,u.default.identity.launchWebAuthFlow({interactive:e,url:n})];case 1:if(o=i.sent(),!(a=o.match(/[#?](.*)/))||a.length<1)return[2,null];if(s=new URLSearchParams(a[1].split("#")[0]),!(c=s.get("code")))throw new Error("Authorization failure");return[4,fetch("https://oauth2.googleapis.com/token",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:"code="+c+"&client_id="+p.default.web.client_id+"&client_secret="+p.default.web.client_secret+"&redirect_uri="+encodeURIComponent(chrome.identity.getRedirectURL())+"&grant_type=authorization_code"})];case 2:if(200!==(l=i.sent()).status)throw new h.OAuthTokenError;return[4,l.json()];case 3:if(f=i.sent(),console.log(f),!f.access_token||!f.refresh_token)throw new h.OAuthTokenError;return[4,fetch("https://www.googleapis.com/drive/v3/about?fields=user/displayName",{headers:{Authorization:"Bearer "+f.access_token}})];case 4:return[4,i.sent().json()];case 5:return d=i.sent(),[2,{refresh_token:f.refresh_token,username:d.user.displayName}]}}))}))},t.getAccessToken=function(e){return a(this,void 0,void 0,(function(){var t,r;return i(this,(function(n){switch(n.label){case 0:return[4,fetch("https://oauth2.googleapis.com/token",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:"refresh_token="+e+"&client_id="+p.default.web.client_id+"&client_secret="+p.default.web.client_secret+"&grant_type=refresh_token"})];case 1:if(200!==(t=n.sent()).status)throw new h.GoogleDriveAuthenticationError;return[4,t.json()];case 2:if((r=n.sent()).access_token)return[2,r.access_token];throw new h.OAuthTokenError}}))}))},t.prototype.getLabel=function(){return"Google Drive: "+this.server.bookmark_file},t.getDefaultValues=function(){return{type:"google-drive",username:"",password:"",refreshToken:null,bookmark_file:"bookmarks.xbel"}},t.prototype.getUrl=function(){return"https://www.googleapis.com/drive/v3"},t.prototype.timeout=function(e){var t=this;return new Promise((function(r,n){setTimeout(r,e),t.cancelCallback=function(){return n(new h.InterruptedSyncError)}}))},t.prototype.onSyncStart=function(){return a(this,void 0,void 0,(function(){var e,r,n,o,a,s,c,p,m,g=this;return i(this,(function(i){switch(i.label){case 0:return l.default.log("onSyncStart: begin"),e=this,[4,t.getAccessToken(this.server.refreshToken)];case 1:e.accessToken=i.sent(),n=Date.now(),o=18e5,a=1.25,s=0,i.label=2;case 2:return Date.now()-n<o?[4,this.listFiles("name = '"+this.server.bookmark_file+"'")]:[3,7];case 3:return c=i.sent(),(r=c.files.filter((function(e){return!e.trashed}))[0])&&r["appProperties.locked"]?[4,this.timeout(1e3*Math.pow(a,s))]:[3,5];case 4:return i.sent(),[3,6];case 5:return[3,7];case 6:return s++,[3,2];case 7:return r?(this.fileId=r.id,[4,this.setLock(this.fileId)]):[3,16];case 8:return i.sent(),[4,this.downloadFile(this.fileId)];case 9:if(p=i.sent(),!this.server.password)return[3,14];i.label=10;case 10:return i.trys.push([10,12,,13]),[4,d.default.decryptAES(this.server.password,p,this.server.bookmark_file)];case 11:return p=i.sent(),[3,13];case 12:if(i.sent(),!p.includes('<?xml version="1.0" encoding="UTF-8"?>'))throw new h.DecryptionError;return[3,13];case 13:return[3,15];case 14:if(!p.includes('<?xml version="1.0" encoding="UTF-8"?>'))throw new Error(u.default.i18n.getMessage("Error034"));i.label=15;case 15:return p.split("\n").forEach((function(e){if(e.indexOf("\x3c!--- highestId :")>=0){var t=e.indexOf(":")+1,r=e.lastIndexOf(":");g.highestId=parseInt(e.substring(t,r))}})),this.bookmarksCache=f.default.deserialize(p),[3,17];case 16:this.resetCache(),i.label=17;case 17:return m=this,[4,this.bookmarksCache.hash(!0)];case 18:return m.initialTreeHash=i.sent(),l.default.log("onSyncStart: completed"),this.fileId?[2]:[2,!1]}}))}))},t.prototype.onSyncFail=function(){return a(this,void 0,void 0,(function(){return i(this,(function(e){switch(e.label){case 0:return l.default.log("onSyncFail"),this.fileId?[4,this.freeLock(this.fileId)]:[3,2];case 1:e.sent(),e.label=2;case 2:return this.fileId=null,[2]}}))}))},t.prototype.onSyncComplete=function(){return a(this,void 0,void 0,(function(){var e,t;return i(this,(function(r){switch(r.label){case 0:return l.default.log("onSyncComplete"),this.bookmarksCache=this.bookmarksCache.clone(),[4,this.bookmarksCache.hash(!0)];case 1:return e=r.sent(),n=this.bookmarksCache,o='<?xml version="1.0" encoding="UTF-8"?>\n<!DOCTYPE xbel PUBLIC "+//IDN python.org//DTD XML Bookmark Exchange Language 1.0//EN//XML" "http://pyxml.sourceforge.net/topics/dtds/xbel.dtd">\n<xbel version="1.0">\n',o+="\x3c!--- highestId :"+this.highestId+": for Floccus bookmark sync browser extension --\x3e\n",o+=f.default.serialize(n),t=o+="\n</xbel>",this.server.password?[4,d.default.encryptAES(this.server.password,t,this.server.bookmark_file)]:[3,3];case 2:t=r.sent(),r.label=3;case 3:return this.fileId?[3,5]:[4,this.createFile(t)];case 4:return r.sent(),this.fileId=null,[2];case 5:return e===this.initialTreeHash?[3,7]:[4,this.uploadFile(this.fileId,t)];case 6:return r.sent(),[3,8];case 7:l.default.log("No changes to the server version necessary"),r.label=8;case 8:return[4,this.freeLock(this.fileId)];case 9:return r.sent(),this.fileId=null,[2]}var n,o}))}))},t.prototype.listFiles=function(e){return a(this,void 0,void 0,(function(){var t,r;return i(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,fetch(this.getUrl()+"/files?corpora=user&q="+e,{headers:{Authorization:"Bearer "+this.accessToken}})];case 1:return t=n.sent(),[3,3];case 2:throw r=n.sent(),l.default.log("Error Caught"),l.default.log(r),new h.NetworkError;case 3:if(401===t.status||403===t.status)throw new h.AuthenticationError;return[2,t.json()]}}))}))},t.prototype.downloadFile=function(e){return a(this,void 0,void 0,(function(){var t,r;return i(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,fetch(this.getUrl()+"/files/"+e+"?alt=media",{headers:{Authorization:"Bearer "+this.accessToken}})];case 1:return t=n.sent(),[3,3];case 2:throw r=n.sent(),l.default.log("Error Caught"),l.default.log(r),new h.NetworkError;case 3:if(401===t.status||403===t.status)throw new h.AuthenticationError;return[2,t.text()]}}))}))},t.prototype.deleteFile=function(e){return a(this,void 0,void 0,(function(){var t,r;return i(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,fetch(this.getUrl()+"/files/"+e,{method:"DELETE",headers:{Authorization:"Bearer "+this.accessToken}})];case 1:return t=n.sent(),[3,3];case 2:throw r=n.sent(),l.default.log("Error Caught"),l.default.log(r),new h.NetworkError;case 3:if(401===t.status||403===t.status)throw new h.AuthenticationError;return[2]}}))}))},t.prototype.freeLock=function(e){return a(this,void 0,void 0,(function(){var t,r;return i(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,fetch(this.getUrl()+"/files/"+e,{method:"PATCH",credentials:"omit",body:JSON.stringify({appProperties:{locked:!1}}),headers:{Authorization:"Bearer "+this.accessToken,"Content-type":"application/json"}})];case 1:return t=n.sent(),[3,3];case 2:throw r=n.sent(),l.default.log("Error Caught"),l.default.log(r),new h.NetworkError;case 3:if(401===t.status||403===t.status)throw new h.AuthenticationError;return[2,200===t.status]}}))}))},t.prototype.setLock=function(e){return a(this,void 0,void 0,(function(){var t,r;return i(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,fetch(this.getUrl()+"/files/"+e,{method:"PATCH",credentials:"omit",body:JSON.stringify({appProperties:{locked:!0}}),headers:{Authorization:"Bearer "+this.accessToken,"Content-type":"application/json"}})];case 1:return t=n.sent(),[3,3];case 2:throw r=n.sent(),l.default.log("Error Caught"),l.default.log(r),new h.NetworkError;case 3:if(401===t.status||403===t.status)throw new h.AuthenticationError;return[2,200===t.status]}}))}))},t.prototype.createFile=function(e){return a(this,void 0,void 0,(function(){var t,r,n,o;return i(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,fetch("https://www.googleapis.com/upload/drive/v3/files?uploadType=media",{method:"POST",credentials:"omit",body:e,headers:{"Content-Type":"application/xml",Authorization:"Bearer "+this.accessToken}})];case 1:return t=a.sent(),[3,3];case 2:throw r=a.sent(),l.default.log("Error Caught"),l.default.log(r),new h.NetworkError;case 3:if(401===t.status||403===t.status)throw new h.AuthenticationError;return 200!==t.status&&201!==t.status?[2,!1]:[4,t.json()];case 4:n=a.sent(),this.fileId=n.id,a.label=5;case 5:return a.trys.push([5,7,,8]),[4,fetch(this.getUrl()+"/files/"+this.fileId,{method:"PATCH",credentials:"omit",body:JSON.stringify({name:this.server.bookmark_file}),headers:{Authorization:"Bearer "+this.accessToken,"Content-type":"application/json"}})];case 6:return t=a.sent(),[3,8];case 7:throw o=a.sent(),l.default.log("Error Caught"),l.default.log(o),new h.NetworkError;case 8:if(401===t.status||403===t.status)throw new h.AuthenticationError;return[2,200===t.status]}}))}))},t.prototype.uploadFile=function(e,t){return a(this,void 0,void 0,(function(){var r,n;return i(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,fetch("https://www.googleapis.com/upload/drive/v3/files/"+e,{method:"PATCH",credentials:"omit",body:t,headers:{"Content-Type":"application/xml",Authorization:"Bearer "+this.accessToken}})];case 1:return r=o.sent(),[3,3];case 2:throw n=o.sent(),l.default.log("Error Caught"),l.default.log(n),new h.NetworkError;case 3:if(401===r.status||403===r.status)throw new h.AuthenticationError;return[2,200===r.status]}}))}))},t.SCOPES=["https://www.googleapis.com/auth/drive.metadata.readonly"],t}(c.default);t.default=m},36929:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},n.apply(this,arguments)},o=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&o(t,e,r);return a(t,e),t},s=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,a){function i(e){try{u(n.next(e))}catch(e){a(e)}}function s(e){try{u(n.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,s)}u((n=n.apply(e,t||[])).next())}))},u=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var l=c(r(35501)),f=c(r(59564)),d=r(40505),p=r(52300),h=c(r(99758)),m=i(r(18329)),g=c(r(8575)),v=c(r(12492)),y=c(r(85564)),b=r(79846),w=r(74232),E=r(52406),k=18e4,L=function(){function e(e){this.hasFeatureHashing=null,this.hasFeatureExistenceCheck=null,this.hasFeatureChildren=null,this.hasFeatureBulkImport=null,this.canceled=!1,this.cancelCallback=null,this.server=e,this.fetchQueue=new v.default({concurrency:12}),this.bookmarkLock=new h.default,this.hasFeatureHashing=!1,this.hasFeatureExistenceCheck=!1}return e.getDefaultValues=function(){return{type:"nextcloud-bookmarks",url:"https://example.org",username:"bob",password:"s3cret",serverRoot:"",includeCredentials:!1,allowRedirects:!1}},e.prototype.setData=function(e){this.server=n({},e)},e.prototype.getData=function(){return n(n({},e.getDefaultValues()),this.server)},e.prototype.getLabel=function(){var e=this.getData();return e.username+"@"+g.default.parse(e.url).hostname},e.prototype.acceptsBookmark=function(e){return Boolean(~["https:","http:","ftp:"].indexOf(g.default.parse(e.url).protocol))},e.prototype.normalizeServerURL=function(e){var t=g.default.parse(e),r=t.pathname.indexOf("index.php");return g.default.format({protocol:t.protocol,auth:t.auth,host:t.host,port:t.port,pathname:t.pathname.substr(0,~r?r:void 0)+(~r||"/"===t.pathname[t.pathname.length-1]?"":"/")})},e.prototype.timeout=function(e){var t=this;return new Promise((function(r,n){setTimeout(r,e),t.cancelCallback=function(){return n(new b.InterruptedSyncError)}}))},e.prototype.onSyncStart=function(){return s(this,void 0,void 0,(function(){var e,t,r,n;return u(this,(function(o){switch(o.label){case 0:this.canceled=!1,e=Date.now(),t=18e5,r=1.25,n=0,o.label=1;case 1:return Date.now()-e<t?[4,this.acquireLock()]:[3,6];case 2:return o.sent()?[3,6]:[3,3];case 3:return[4,this.timeout(1e3*Math.pow(r,n))];case 4:o.sent(),o.label=5;case 5:return n++,[3,1];case 6:return[2]}}))}))},e.prototype.onSyncComplete=function(){return s(this,void 0,void 0,(function(){return u(this,(function(e){switch(e.label){case 0:return[4,this.releaseLock()];case 1:return e.sent(),[2]}}))}))},e.prototype.onSyncFail=function(){return s(this,void 0,void 0,(function(){return u(this,(function(e){switch(e.label){case 0:return[4,this.releaseLock()];case 1:return e.sent(),[2]}}))}))},e.prototype.cancel=function(){this.canceled=!0,this.fetchQueue.clear(),this.cancelCallback&&this.cancelCallback()},e.prototype.getBookmarksList=function(){return s(this,void 0,void 0,(function(){var e=this;return u(this,(function(t){return[2,this.bookmarkLock.acquire("list",(function(){return s(e,void 0,void 0,(function(){var e,t,r,o;return u(this,(function(a){switch(a.label){case 0:if(this.list)return[2,this.list];f.default.log("Fetching bookmarks"),e=0,t=[],a.label=1;case 1:return[4,this.sendRequest("GET","index.php/apps/bookmarks/public/rest/v2/bookmark?page="+e+"&limit=300")];case 2:if(r=a.sent(),!Array.isArray(r.data))throw new b.UnexpectedServerResponseError;t=t.concat(r.data),e++,a.label=3;case 3:if(300===r.data.length)return[3,1];a.label=4;case 4:return o=(0,y.default)(t.map((function(e){var t={id:e.id,url:e.url,title:e.title,parentId:null,location:d.ItemLocation.SERVER};return e.folders.map((function(e){var r=n({},t);return r.parentId=e,new d.Bookmark(r)}))}))),f.default.log("Received bookmarks from server",o),this.list=o,[2,o]}}))}))}))]}))}))},e.prototype.getBookmarksTree=function(e){return void 0===e&&(e=!1),s(this,void 0,void 0,(function(){var t,r;return u(this,(function(n){switch(n.label){case 0:return this.list=null,[4,this.sendRequest("GET","index.php/apps/bookmarks/public/rest/v2/folder/-1/hash",null,null,!0)];case 1:t=n.sent(),n.label=2;case 2:return n.trys.push([2,4,,5]),[4,t.json()];case 3:return r=n.sent(),[3,5];case 4:return n.sent(),r=t.data,[3,5];case 5:return!e&&(200===t.status&&r&&"success"===r.status||504===t.status)?[2,this.getSparseBookmarksTree()]:(this.hasFeatureHashing=!1,[2,this.getCompleteBookmarksTree()])}}))}))},e.prototype._getChildOrder=function(e,t){return s(this,void 0,void 0,(function(){var r;return u(this,(function(n){switch(n.label){case 0:return[4,this.sendRequest("GET","index.php/apps/bookmarks/public/rest/v2/folder/"+e+"/childorder"+(t?"?layers="+t:""))];case 1:if(r=n.sent(),!Array.isArray(r.data))throw new b.UnexpectedServerResponseError;return[2,r.data]}}))}))},e.prototype._getChildFolders=function(e,t){return void 0===t&&(t=0),s(this,void 0,void 0,(function(){var r;return u(this,(function(n){switch(n.label){case 0:return[4,this.sendRequest("GET","index.php/apps/bookmarks/public/rest/v2/folder?root="+e+"&layers="+t)];case 1:if(r=n.sent(),!Array.isArray(r.data))throw new b.UnexpectedServerResponseError;return[2,r.data]}}))}))},e.prototype._findServerRoot=function(){return s(this,void 0,void 0,(function(){var e,t=this;return u(this,(function(r){switch(r.label){case 0:return e=new d.Folder({id:-1,location:d.ItemLocation.SERVER}),[4,m.each(this.server.serverRoot.split("/").slice(1),(function(r){return s(t,void 0,void 0,(function(){var t,n,o,a;return u(this,(function(i){switch(i.label){case 0:return e.children&&e.children.length?(t=e.children,[3,3]):[3,1];case 1:return[4,this._getChildFolders(e.id)];case 2:t=i.sent(),i.label=3;case 3:return(n=t.find((function(e){return e.title===r})))?[3,5]:(o={parent_folder:e.id,title:r},[4,this.sendRequest("POST","index.php/apps/bookmarks/public/rest/v2/folder","application/json",o)]);case 4:if("object"!=typeof(a=i.sent()).item)throw new b.UnexpectedServerResponseError;n={id:a.item.id,children:[],title:a.item.title},i.label=5;case 5:return e=new d.Folder({id:n.id,title:n.title,location:d.ItemLocation.SERVER}),[2]}}))}))}),1)];case 1:return r.sent(),[2,e]}}))}))},e.prototype.getCompleteBookmarksTree=function(){return s(this,void 0,void 0,(function(){var e,t;return u(this,(function(r){switch(r.label){case 0:return e=new d.Folder({id:-1,location:d.ItemLocation.SERVER}),this.server.serverRoot?[4,this._findServerRoot()]:[3,2];case 1:e=r.sent(),r.label=2;case 2:return t=e,[4,this._getChildren(e.id,-1)];case 3:return t.children=r.sent(),this.tree=e,[2,e.clone()]}}))}))},e.prototype.getSparseBookmarksTree=function(){return s(this,void 0,void 0,(function(){var e,t,r;return u(this,(function(n){switch(n.label){case 0:return this.hasFeatureHashing=!0,this.hasFeatureExistenceCheck=!0,e=new d.Folder({id:-1,location:d.ItemLocation.SERVER}),this.server.serverRoot?[4,this._findServerRoot()]:[3,2];case 1:e=n.sent(),n.label=2;case 2:return this.list=null,e.loaded=!1,t=e,r={},[4,this._getFolderHash(e.id)];case 3:return t.hashValue=(r.true=n.sent(),r),this.tree=e.clone(!0),[2,e]}}))}))},e.prototype._getFolderHash=function(e){return s(this,void 0,void 0,(function(){return u(this,(function(t){return[2,this.sendRequest("GET","index.php/apps/bookmarks/public/rest/v2/folder/"+e+"/hash").catch((function(){return{data:"0"}})).then((function(e){return e.data}))]}))}))},e.prototype._getChildren=function(e,t){return s(this,void 0,void 0,(function(){var r,n,o,a,i,c,l,f,p,h=this;return u(this,(function(g){switch(g.label){case 0:if(null!==this.hasFeatureChildren&&!this.hasFeatureChildren)return[3,4];g.label=1;case 1:return g.trys.push([1,3,,4]),[4,this.sendRequest("GET","index.php/apps/bookmarks/public/rest/v2/folder/"+e+"/children?layers="+t)];case 2:return r=g.sent(),this.hasFeatureChildren=!0,[3,4];case 3:return g.sent(),this.hasFeatureChildren=!1,[3,4];case 4:return this.hasFeatureChildren?(n=r.data,o=function(e,t){return t.map((function(t){if("bookmark"===t.type)return new d.Bookmark({id:t.id+";"+e,title:t.title,parentId:e,url:t.url,location:d.ItemLocation.SERVER});if("folder"===t.type){var r=new d.Folder({id:t.id,parentId:e,title:t.title,location:d.ItemLocation.SERVER});return r.loaded=Boolean(t.children),r.children=o(t.id,t.children||[]),r}}))},[2,o(e,n).filter((function(e){return e.id!==h.lockId}))]):[3,5];case 5:return[4,this.getBookmarksList()];case 6:return g.sent(),a=new d.Folder({id:e,location:d.ItemLocation.SERVER}),[4,Promise.all([this._getChildOrder(e,t),this._getChildFolders(e,t),Promise.resolve().then((function(){return h.list||h.sendRequest("GET","index.php/apps/bookmarks/public/rest/v2/bookmark?folder="+e+"&page=-1").then((function(e){return e.data}))}))])];case 7:return i=g.sent(),c=i[0],l=i[1],f=i[2],p=function(e,t,r,n,o){return s(h,void 0,void 0,(function(){var a,i,c=this;return u(this,(function(l){switch(l.label){case 0:return[4,m.map(r,(function(r){return s(c,void 0,void 0,(function(){var o,a,i;return u(this,(function(s){if("folder"===r.type){if(!(o=t.find((function(e){return String(e.id)===String(r.id)}))))throw new b.InconsistentServerStateError;return a=new d.Folder({id:r.id,title:o.title,parentId:e.id,loaded:!1,location:d.ItemLocation.SERVER}),e.children.push(a),[2,{newFolder:a,child:r,folder:o}]}if(!(i=n.find((function(t){return String(t.id)===String(r.id)&&(!t.parentId||String(t.parentId)===String(e.id))}))))throw new b.InconsistentBookmarksExistenceError("#"+e.id+"["+e.title+"]",String(r.id));return i instanceof d.Bookmark||(i=new d.Bookmark(i)),(i=i.clone()).id=i.id+";"+e.id,i.parentId=e.id,e.children.push(i),[2]}))}))}),1)];case 1:return a=l.sent(),e.loaded=!0,0===o?[2]:(i=o<0?-1:o-1,[4,m.each(a.filter(Boolean),(function(e){var t=e.newFolder,r=e.child,n=e.folder;return s(c,void 0,void 0,(function(){var e,o,a,s;return u(this,(function(u){switch(u.label){case 0:return void 0!==r.children?[3,2]:(e=r,[4,this._getChildOrder(r.id,i)]);case 1:e.children=u.sent(),u.label=2;case 2:return void 0!==n.children?[3,4]:(o=n,[4,this._getChildFolders(n.id,i)]);case 3:o.children=u.sent(),u.label=4;case 4:return(s=this.list)?[3,6]:[4,this.sendRequest("GET","index.php/apps/bookmarks/public/rest/v2/bookmark?folder="+t.id+"&page=-1").then((function(e){return e.data}))];case 5:s=u.sent(),u.label=6;case 6:return a=s,[2,p(t,n.children,r.children,a,i)]}}))}))}),3)]);case 2:return l.sent(),[2]}}))}))},[4,p(a,l,c,f,t)];case 8:return g.sent(),[2,a.children.filter((function(e){return e.id!==h.lockId}))]}}))}))},e.prototype.loadFolderChildren=function(e,t){return s(this,void 0,void 0,(function(){var r,n,o,a=this;return u(this,(function(i){switch(i.label){case 0:if(!this.hasFeatureHashing)return[2];if(!(r=this.tree.findFolder(e)))throw new Error("Could not find folder for loadFolderChildren");return r.loaded?[2,r.clone(!0).children]:t?[4,this._getChildren(e,-1)]:[3,2];case 1:return n=i.sent(),[3,5];case 2:return[4,this._getChildren(e,1)];case 3:return n=i.sent(),o=function(e){return s(a,void 0,void 0,(function(){var t=this;return u(this,(function(r){return[2,m.each(e,(function(e){return s(t,void 0,void 0,(function(){var t;return u(this,(function(r){switch(r.label){case 0:return e instanceof d.Folder?e.loaded?[3,2]:[4,this._getFolderHash(e.id)]:[2];case 1:t=r.sent(),e.hashValue={true:t},r.label=2;case 2:return[4,o(e.children)];case 3:return r.sent(),[2]}}))}))}))]}))}))},[4,o(n)];case 4:i.sent(),i.label=5;case 5:return r.children=n,r.loaded=!0,this.tree.createIndex(),[2,r.clone(!0).children]}}))}))},e.prototype.createFolder=function(e){return s(this,void 0,void 0,(function(){var t,r,n,o,a;return u(this,(function(i){switch(i.label){case 0:if(f.default.log("(nextcloud-folders)CREATEFOLDER",{folder:e}),t=e.parentId,r=e.title,!(n=this.tree.findFolder(t)))throw new b.UnknownCreateTargetError;return o={parent_folder:t,title:r},[4,this.sendRequest("POST","index.php/apps/bookmarks/public/rest/v2/folder","application/json",o)];case 1:if("object"!=typeof(a=i.sent()).item)throw new b.UnexpectedServerResponseError;return n.children.push(new d.Folder({id:a.item.id,title:r,parentId:t,location:d.ItemLocation.SERVER})),this.tree.createIndex(),[2,a.item.id]}}))}))},e.prototype.bulkImportFolder=function(e,t){return s(this,void 0,void 0,(function(){var r,n,o,a,i,s,c;return u(this,(function(u){switch(u.label){case 0:if(!1===this.hasFeatureBulkImport)throw new Error("Current server does not support bulk import");if(t.count()>300)throw new Error("Refusing to bulk import more than 300 bookmarks");if(f.default.log("(nextcloud-folders)BULKIMPORT",{parentId:e,folder:t}),!(r=this.tree.findFolder(e)))throw new b.UnknownCreateTargetError;n=new Blob(["<!DOCTYPE NETSCAPE-Bookmark-file-1>\n",'<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=UTF-8">\n',l.default.serialize(t)],{type:"text/html"}),(o=new FormData).append("bm_import",n,"upload.html"),u.label=1;case 1:return u.trys.push([1,3,,4]),[4,this.sendRequest("POST","index.php/apps/bookmarks/public/rest/v2/folder/"+e+"/import","multipart/form-data",o)];case 2:return a=u.sent(),[3,4];case 3:throw i=u.sent(),this.hasFeatureBulkImport=!1,i;case 4:return s=function(e,t,r,n){return new d.Folder({id:t,title:r,parentId:n,location:d.ItemLocation.SERVER,children:e.map((function(e){if("bookmark"===e.type)return new d.Bookmark({id:e.id+";"+t,title:e.title,url:e.url,parentId:t,location:d.ItemLocation.SERVER});if("folder"===e.type)return s(e.children,e.id,e.title,t);throw console.log("PEBCAK",e),new Error("PEBKAC")}))})},c=s(a.data,e,t.title,t.parentId),r.children=c.clone(!0).children,this.tree.createIndex(),[2,c]}}))}))},e.prototype.updateFolder=function(e){return s(this,void 0,void 0,(function(){var t,r,n,o,a;return u(this,(function(i){switch(i.label){case 0:if(f.default.log("(nextcloud-folders)UPDATEFOLDER",{folder:e}),t=e.id,!(r=this.tree.findFolder(e.id)))throw new b.UnknownFolderUpdateError;if(r.findFolder(e.parentId))throw new Error("Detected folder loop creation");return n={parent_folder:e.parentId,title:e.title},[4,this.sendRequest("PUT","index.php/apps/bookmarks/public/rest/v2/folder/"+t,"application/json",n)];case 1:if(i.sent(),!(o=this.tree.findFolder(r.parentId)))throw new b.UnknownFolderParentUpdateError;if(o.children=o.children.filter((function(e){return String(e.id)!==String(t)})),!(a=this.tree.findFolder(e.parentId)))throw new b.UnknownMoveTargetError;return a.children.push(r),r.title=e.title,r.parentId=e.parentId,this.tree.createIndex(),[2]}}))}))},e.prototype.orderFolder=function(e,t){return s(this,void 0,void 0,(function(){var r;return u(this,(function(n){switch(n.label){case 0:return f.default.log("(nextcloud-folders)ORDERFOLDER",{id:e,order:t}),r={data:t.map((function(e){return{id:String(e.id).split(";")[0],type:e.type}}))},[4,this.sendRequest("PATCH","index.php/apps/bookmarks/public/rest/v2/folder/"+e+"/childorder","application/json",r)];case 1:return n.sent(),[2]}}))}))},e.prototype.removeFolder=function(e){return s(this,void 0,void 0,(function(){var t,r,n;return u(this,(function(o){switch(o.label){case 0:return f.default.log("(nextcloud-folders)REMOVEFOLDER",{folder:e}),t=e.id,(r=this.tree.findFolder(t))?[4,this.sendRequest("DELETE","index.php/apps/bookmarks/public/rest/v2/folder/"+t)]:[2];case 1:return o.sent(),(n=this.tree.findFolder(r.parentId))&&(n.children=n.children.filter((function(e){return String(e.id)!==String(t)})),this.tree.createIndex()),[2]}}))}))},e.prototype._getBookmark=function(e){return s(this,void 0,void 0,(function(){var t,r;return u(this,(function(n){switch(n.label){case 0:return f.default.log("Fetching single bookmark"),[4,this.sendRequest("GET","index.php/apps/bookmarks/public/rest/v2/bookmark/"+e)];case 1:if("object"!=typeof(t=n.sent()).item)throw new b.UnexpectedServerResponseError;return(r=t.item).folders.length||(r.folders=[null]),[2,r.folders.map((function(e){return new d.Bookmark({id:r.id+";"+e,url:r.url,title:r.title,parentId:e,tags:r.tags,location:d.ItemLocation.SERVER})}))]}}))}))},e.prototype.getExistingBookmark=function(e){return s(this,void 0,void 0,(function(){var t,r;return u(this,(function(o){switch(o.label){case 0:return this.hasFeatureExistenceCheck?[4,this.sendRequest("GET","index.php/apps/bookmarks/public/rest/v2/bookmark?url="+encodeURIComponent(e))]:[3,2];case 1:return(t=o.sent()).data.length?[2,n(n({},t.data[0]),{parentId:t.data[0].folders[0]})]:[2,!1];case 2:return[4,this.getBookmarksList()];case 3:return o.sent(),(r=this.list.find((function(t){return t.url===e})))?[2,r]:[2,!1];case 4:return[2]}}))}))},e.prototype.createBookmark=function(e){return s(this,void 0,void 0,(function(){var t=this;return u(this,(function(r){return f.default.log("(nextcloud-folders)CREATE",e),[2,this.bookmarkLock.acquire(e.url,(function(){return s(t,void 0,void 0,(function(){var t,r,n,o,a;return u(this,(function(i){switch(i.label){case 0:return[4,this.getExistingBookmark(e.url)];case 1:return(t=i.sent())?(e.id=t.id+";"+e.parentId,(r=e.clone()).title=t.title,[4,this.updateBookmark(r)]):[3,3];case 2:return i.sent(),[3,5];case 3:return n={url:e.url,title:e.title,folders:[e.parentId]},[4,this.sendRequest("POST","index.php/apps/bookmarks/public/rest/v2/bookmark","application/json",n)];case 4:if("object"!=typeof(o=i.sent()).item)throw new b.UnexpectedServerResponseError;e.id=o.item.id+";"+e.parentId,i.label=5;case 5:return(a=e.clone()).id=e.id.split(";")[0],this.list&&this.list.push(a),this.tree.findFolder(e.parentId).children.push(a),this.tree.createIndex(),[2,e.id]}}))}))}))]}))}))},e.prototype.updateBookmark=function(e){return s(this,void 0,void 0,(function(){var t,r,n,o=this;return u(this,(function(a){return f.default.log("(nextcloud-folders)UPDATE",e),t=String(e.id).split(";"),r=t[0],n=t[1],[2,this.bookmarkLock.acquire(r,(function(){return s(o,void 0,void 0,(function(){var t,o,a,i=this;return u(this,(function(s){switch(s.label){case 0:return[4,this._getBookmark(r)];case 1:return t=s.sent(),o={url:e.url,title:e.title,folders:t.map((function(e){return e.parentId})).filter((function(t){return t&&String(t)!==String(n)&&(!i.tree.findFolder(t)||i.tree.findFolder(t).findItemFilter("bookmark",(function(t){return t.canMergeWith(e)}))||!i.tree.findFolder(t).loaded)})).concat([e.parentId]),tags:t[0].tags},[4,this.sendRequest("PUT","index.php/apps/bookmarks/public/rest/v2/bookmark/"+r,"application/json",o)];case 2:return s.sent(),(a=this.tree.findFolder(e.parentId)).children.find((function(t){return t.id===e.id&&"bookmark"===t.type}))||a.children.push(e),e.id=r+";"+e.parentId,this.tree.createIndex(),[2,e.id]}}))}))}))]}))}))},e.prototype.removeBookmark=function(e){return s(this,void 0,void 0,(function(){var t,r,n,o,a=this;return u(this,(function(i){return f.default.log("(nextcloud-folders)REMOVE",{bookmark:e}),t=e.id,r=String(t).split(";"),n=r[0],o=r[1],[2,this.bookmarkLock.acquire(n,(function(){return s(a,void 0,void 0,(function(){var e,t,r;return u(this,(function(a){switch(a.label){case 0:return a.trys.push([0,3,,4]),[4,this.sendRequest("DELETE","index.php/apps/bookmarks/public/rest/v2/folder/"+o+"/bookmarks/"+n)];case 1:return a.sent(),[4,this.getBookmarksList()];case 2:return e=a.sent(),t=e.findIndex((function(e){return String(e.id)===String(n)})),e.splice(t,1),[3,4];case 3:return r=a.sent(),f.default.log("Error removing bookmark from folder: "+r.message+"\n Moving on."),[3,4];case 4:return[2]}}))}))}))]}))}))},e.prototype.sendRequest=function(e,t,r,n,o){return void 0===r&&(r=null),void 0===n&&(n=null),void 0===o&&(o=!1),s(this,void 0,void 0,(function(){return u(this,(function(a){switch(a.label){case 0:return[4,E.Device.getInfo()];case 1:return"web"===a.sent().platform?[2,this.sendRequestWeb(e,t,r,n,o)]:[2,this.sendRequestNative(e,t,r,n,o)]}}))}))},e.prototype.sendRequestWeb=function(e,t,r,o,a){return void 0===r&&(r=null),void 0===o&&(o=null),void 0===a&&(a=!1),s(this,void 0,void 0,(function(){var i,s,c,l,f,d,h,m,g,v,y,w,E,L=this;return u(this,(function(u){switch(u.label){case 0:if(i=this.normalizeServerURL(this.server.url)+t,c=!1,l=p.Base64.encode(this.server.username+":"+this.server.password),r&&r.includes("application/json"))o=JSON.stringify(o);else if(r&&r.includes("application/x-www-form-urlencoded")){for(f=new URLSearchParams,d=0,h=Object.entries(o||{});d<h.length;d++)m=h[d],g=m[0],v=m[1],f.set(g,v);o=f.toString()}u.label=1;case 1:return u.trys.push([1,3,,4]),[4,this.fetchQueue.add((function(){return Promise.race([fetch(i,n({method:e,credentials:L.server.includeCredentials?"include":"omit",headers:n(n({},r&&"multipart/form-data"!==r&&{"Content-type":r}),{Authorization:"Basic "+l})},o&&!["get","head"].includes(e.toLowerCase())&&{body:o})),new Promise((function(e,t){return setTimeout((function(){c=!0,t(new b.RequestTimeoutError)}),k)}))])}))];case 2:return s=u.sent(),[3,4];case 3:if(y=u.sent(),c)throw y;throw console.log(y),new b.NetworkError;case 4:if(s.redirected&&!this.server.allowRedirects)throw new b.RedirectError;if(a)return[2,s];if(401===s.status||403===s.status)throw new b.AuthenticationError;if(503===s.status)throw new b.HttpError(s.status,e);u.label=5;case 5:return u.trys.push([5,7,,8]),[4,s.json()];case 6:return w=u.sent(),[3,8];case 7:throw E=u.sent(),new b.ParseResponseError(E.message);case 8:if("success"!==w.status)throw new Error("Nextcloud API error: \n"+JSON.stringify(w));return[2,w]}}))}))},e.prototype.sendRequestNative=function(e,t,r,o,a){return void 0===r&&(r=null),void 0===o&&(o=null),void 0===a&&(a=!1),s(this,void 0,void 0,(function(){var i,s,c,l,f,d,h=this;return u(this,(function(u){switch(u.label){case 0:i=this.normalizeServerURL(this.server.url)+t,c=!1,l=p.Base64.encode(this.server.username+":"+this.server.password),u.label=1;case 1:return u.trys.push([1,3,,4]),i.includes("?")&&(i=i.substr(0,i.indexOf("?"))),[4,this.fetchQueue.add((function(){return Promise.race([w.Http.request(n(n({url:i,params:Object.fromEntries(new URL(i).searchParams.entries()),shouldEncodeUrlParams:!1,method:e,headers:n(n({},r&&{"Content-type":r}),{Authorization:"Basic "+l})},o&&{data:o}),{webFetchExtra:{credentials:h.server.includeCredentials?"include":"omit"}})),new Promise((function(e,t){return setTimeout((function(){c=!0,t(new b.RequestTimeoutError)}),k)}))])}))];case 2:return s=u.sent(),[3,4];case 3:if(f=u.sent(),c)throw f;throw new b.NetworkError;case 4:if(a)return[2,s];if(401===s.status||403===s.status)throw new b.AuthenticationError;if(503===s.status)throw new b.HttpError(s.status,e);if("object"!=typeof(d=s.data))throw new b.ParseResponseError(s.data.substr(0,10));if("success"!==d.status)throw new Error("Nextcloud API error: \n"+JSON.stringify(d));return[2,d]}}))}))},e.prototype.acquireLock=function(){return s(this,void 0,void 0,(function(){var e;return u(this,(function(t){switch(t.label){case 0:return[4,this.sendRequest("POST","index.php/apps/bookmarks/public/rest/v2/lock",null,null,!0)];case 1:if(401===(e=t.sent()).status||403===e.status)throw new b.AuthenticationError;if(200!==e.status&&405!==e.status&&423!==e.status)throw new b.HttpError(e.status,"POST");return[2,200===e.status||405===e.status]}}))}))},e.prototype.releaseLock=function(){return s(this,void 0,void 0,(function(){return u(this,(function(e){switch(e.label){case 0:return[4,this.sendRequest("DELETE","index.php/apps/bookmarks/public/rest/v2/lock",null,null,!0)];case 1:return[2,200===e.sent().status]}}))}))},e}();t.default=L},81293:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,a){function i(e){try{u(n.next(e))}catch(e){a(e)}}function s(e){try{u(n.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,s)}u((n=n.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=s(r(95940)),c=s(r(20202)),l=s(r(53769)),f=s(r(6175)),d=s(r(72903)),p=r(79846),h=s(r(59564)),m=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.get=function(e){return a(this,void 0,void 0,(function(){var r,n,o,a,s,d;return i(this,(function(i){switch(i.label){case 0:return r=new u.default(e),[4,l.default.runtime.getBackgroundPage()];case 1:return n=i.sent(),[4,r.getAccountData(n.controller.key)];case 2:return o=i.sent(),a=new c.default(r,o.localRoot),s=t.bind,d=[void 0,e,r],[4,f.default.factory(o)];case 3:return[2,new(s.apply(t,d.concat([i.sent(),a])))]}}))}))},t.create=function(e){return a(this,void 0,void 0,(function(){var r,n,o,a,s;return i(this,(function(i){switch(i.label){case 0:return r=""+Date.now()+Math.random(),[4,f.default.factory(e)];case 1:return n=i.sent(),o=new u.default(r),[4,l.default.runtime.getBackgroundPage()];case 2:return a=i.sent(),[4,o.setAccountData(e,a.controller.key)];case 3:return i.sent(),s=new c.default(o,e.localRoot),[2,new t(r,o,n,s)]}}))}))},t.prototype.init=function(){return a(this,void 0,void 0,(function(){var e,t,r,n,o;return i(this,(function(a){switch(a.label){case 0:return console.log("initializing account "+this.id),e=this.getData(),[4,this.isInitialized()];case 1:return a.sent()||"tabs"===e.localRoot?[3,6]:[4,l.default.bookmarks.getTree()];case 2:return t=a.sent(),r=t[0].children[0],[4,l.default.bookmarks.create({title:"Floccus ("+this.getLabel()+")",parentId:r.id})];case 3:return n=a.sent(),e.localRoot=n.id,o=e,[4,c.default.getPathFromLocalId(n.id)];case 4:return o.rootPath=a.sent(),[4,this.setData(e)];case 5:a.sent(),a.label=6;case 6:return[4,this.storage.initMappings()];case 7:return a.sent(),[4,this.storage.initCache()];case 8:return a.sent(),this.localTree=new c.default(this.storage,e.localRoot),[2]}}))}))},t.prototype.isInitialized=function(){return a(this,void 0,void 0,(function(){var e,t;return i(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),"tabs"===(e=this.getData().localRoot)?[2,!0]:[4,l.default.bookmarks.getSubTree(e)];case 1:return r.sent(),[2,!0];case 2:return t=r.sent(),console.log("Apparently not initialized, because:",t),[2,!1];case 3:return[2]}}))}))},t.prototype.updateFromStorage=function(){return a(this,void 0,void 0,(function(){var e,t;return i(this,(function(r){switch(r.label){case 0:return[4,l.default.runtime.getBackgroundPage()];case 1:return e=r.sent(),[4,this.storage.getAccountData(e.controller.key)];case 2:return t=r.sent(),this.server.setData(t),this.localTree=new c.default(this.storage,t.localRoot),[2]}}))}))},t.stringifyError=function(e){return a(this,void 0,void 0,(function(){var t=this;return i(this,(function(r){switch(r.label){case 0:return e instanceof p.UnknownFolderItemOrderError||e instanceof p.MissingItemOrderError?[2,l.default.i18n.getMessage("Error"+String(e.code).padStart(3,"0"),[e.item])]:e instanceof p.HttpError?[2,l.default.i18n.getMessage("Error"+String(e.code).padStart(3,"0"),[e.status,e.method])]:e instanceof p.ParseResponseError?[2,l.default.i18n.getMessage("Error"+String(e.code).padStart(3,"0"))+"\n"+e.response]:e instanceof p.InconsistentBookmarksExistenceError?[2,l.default.i18n.getMessage("Error"+String(e.code).padStart(3,"0"),[e.folder,e.bookmark])]:e instanceof p.LockFileError?[2,l.default.i18n.getMessage("Error"+String(e.code).padStart(3,"0"),[e.status,e.lockFile])]:e instanceof p.FailsafeError?[2,l.default.i18n.getMessage("Error"+String(e.code).padStart(3,"0"),[e.percent])]:e instanceof p.FloccusError?[2,l.default.i18n.getMessage("Error"+String(e.code).padStart(3,"0"))]:e.list?[4,Promise.all(e.list.map((function(e){return h.default.log(e),t.stringifyError(e)})))]:[3,2];case 1:return[2,r.sent().join("\n")];case 2:return[2,e.message]}}))}))},t.getAllAccounts=function(){return a(this,void 0,void 0,(function(){var e,r;return i(this,(function(n){switch(n.label){case 0:return r=(e=Promise).all,[4,u.default.getAllAccounts()];case 1:return[2,r.apply(e,[n.sent().map((function(e){return t.get(e)}))])]}}))}))},t.getAccountsContainingLocalId=function(e,t,r){return a(this,void 0,void 0,(function(){var n,o,a,s;return i(this,(function(i){switch(i.label){case 0:return(n=t)?[3,2]:[4,c.default.getIdPathFromLocalId(e)];case 1:n=i.sent(),i.label=2;case 2:return t=n,(o=r)?[3,4]:[4,this.getAllAccounts()];case 3:o=i.sent(),i.label=4;case 4:return a=(r=o).filter((function(e){return-1!==t.indexOf(e.getData().localRoot)})).reverse(),s=a.findIndex((function(e){return!e.getData().nestedSync})),[2,a.slice(0,s)]}}))}))},t}(d.default);t.default=m},20202:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t},i=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,a){function i(e){try{u(n.next(e))}catch(e){a(e)}}function s(e){try{u(n.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,s)}u((n=n.apply(e,t||[])).next())}))},s=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var c=u(r(53769)),l=u(r(59564)),f=a(r(40505)),d=u(r(12492)),p=u(r(72903)),h=r(40505),m=function(){function e(t,r){var n=this;this.rootId=r,this.storage=t,this.queue=new d.default({concurrency:10}),e.getAbsoluteRootFolder().then((function(e){n.absoluteRoot=e}))}return e.prototype.getBookmarksTree=function(){return i(this,void 0,void 0,(function(){var e,t,r,n,o=this;return s(this,(function(a){switch(a.label){case 0:return[4,c.default.bookmarks.getTree()];case 1:return e=a.sent()[0],[4,c.default.bookmarks.getSubTree(this.rootId)];case 2:return t=a.sent()[0],[4,p.default.getAccountClass()];case 3:return[4,a.sent().getAllAccounts()];case 4:return r=a.sent(),[2,(n=function(t,a){if(!r.some((function(e){return e.getData().localRoot===t.id&&t.id!==o.rootId&&!e.getData().nestedSync}))){var i,s;if(t.parentId===e.id){switch(t.id){case"1":case"toolbar_____":i="Bookmarks Bar";break;case"2":case"unfiled_____":i="Other Bookmarks";break;case"menu________":i="Bookmarks Menu";break;case"mobile______":i="Mobile Bookmarks"}i&&l.default.log("Overriding title of built-in node",t.id,t.title,"=>",i)}if(t.id===e.id&&(s=!0),t.children){var u=new f.Folder({location:h.ItemLocation.LOCAL,id:t.id,parentId:a,title:a?i||t.title:void 0,children:t.children.map((function(e){return n(e,t.id)})).filter((function(e){return!!e}))});return u.isRoot=s,u}return new f.Bookmark({location:h.ItemLocation.LOCAL,id:t.id,parentId:a,title:t.title,url:t.url})}})(t)]}}))}))},e.prototype.createBookmark=function(e){return i(this,void 0,void 0,(function(){var t;return s(this,(function(r){switch(r.label){case 0:if(l.default.log("(local)CREATE",e),e.parentId===this.absoluteRoot.id)return l.default.log("This action affects the absolute root. Skipping."),[2];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.queue.add((function(){return c.default.bookmarks.create({parentId:e.parentId,title:e.title,url:e.url})}))];case 2:return[2,r.sent().id];case 3:throw t=r.sent(),new Error("Could not create "+e.inspect()+": "+t.message);case 4:return[2]}}))}))},e.prototype.updateBookmark=function(e){return i(this,void 0,void 0,(function(){var t;return s(this,(function(r){switch(r.label){case 0:if(l.default.log("(local)UPDATE",e),e.parentId===this.absoluteRoot.id)return l.default.log("This action affects the absolute root. Skipping."),[2];r.label=1;case 1:return r.trys.push([1,4,,5]),[4,this.queue.add((function(){return c.default.bookmarks.update(e.id,{title:e.title,url:e.url})}))];case 2:return r.sent(),[4,this.queue.add((function(){return c.default.bookmarks.move(e.id,{parentId:e.parentId})}))];case 3:return r.sent(),[3,5];case 4:throw t=r.sent(),new Error("Could not update "+e.inspect()+": "+t.message);case 5:return[2]}}))}))},e.prototype.removeBookmark=function(e){return i(this,void 0,void 0,(function(){var t,r;return s(this,(function(n){switch(n.label){case 0:if(e.parentId===this.absoluteRoot.id)return l.default.log("This action affects the absolute root. Skipping."),[2];t=e.id,l.default.log("(local)REMOVE",e),n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.queue.add((function(){return c.default.bookmarks.remove(t)}))];case 2:return n.sent(),[3,4];case 3:return r=n.sent(),l.default.log("Could not remove "+e.inspect()+": "+r.message+"\n Moving on"),[3,4];case 4:return[2]}}))}))},e.prototype.createFolder=function(e){return i(this,void 0,void 0,(function(){var t,r,n;return s(this,(function(o){switch(o.label){case 0:if(t=e.parentId,r=e.title,l.default.log("(local)CREATEFOLDER",e),e.parentId===this.absoluteRoot.id)return l.default.log("This action affects the absolute root. Skipping."),[2];o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this.queue.add((function(){return c.default.bookmarks.create({parentId:t,title:r})}))];case 2:return[2,o.sent().id];case 3:throw n=o.sent(),new Error("Could not create "+e.inspect()+": "+n.message);case 4:return[2]}}))}))},e.prototype.orderFolder=function(e,t){return i(this,void 0,void 0,(function(){var r,n;return s(this,(function(o){switch(o.label){case 0:if(l.default.log("(local)ORDERFOLDER",{id:e,order:t}),e===this.absoluteRoot.id)return l.default.log("This action affects the absolute root. Skipping."),[2];o.label=1;case 1:o.trys.push([1,6,,7]),r=0,o.label=2;case 2:return r<t.length?[4,c.default.bookmarks.move(t[r].id,{index:r})]:[3,5];case 3:o.sent(),o.label=4;case 4:return r++,[3,2];case 5:return[3,7];case 6:throw n=o.sent(),new Error("Failed to reorder folder "+e+": "+n.message);case 7:return[2]}}))}))},e.prototype.updateFolder=function(e){return i(this,void 0,void 0,(function(){var t,r,n,o,a,i;return s(this,(function(s){switch(s.label){case 0:if(t=e.id,r=e.title,n=e.parentId,l.default.log("(local)UPDATEFOLDER",e),e.parentId===this.absoluteRoot.id)return l.default.log("This action affects the absolute root. Skipping."),[2];if(e.isRoot)return l.default.log("This is a root folder. Skip."),[2];s.label=1;case 1:return s.trys.push([1,3,,4]),[4,this.queue.add((function(){return c.default.bookmarks.update(t,{title:r})}))];case 2:return s.sent(),[3,4];case 3:throw o=s.sent(),new Error("Failed to rename folder "+t+": "+o.message);case 4:return[4,c.default.bookmarks.getSubTree(t)];case 5:if(a=s.sent()[0],h.Folder.hydrate(a).findFolder(n))throw new Error("Detected creation of folder loop. Moving "+t+" into its descendant "+n);s.label=6;case 6:return s.trys.push([6,8,,9]),[4,this.queue.add((function(){return c.default.bookmarks.move(t,{parentId:n})}))];case 7:return s.sent(),[3,9];case 8:throw i=s.sent(),new Error("Failed to move folder "+t+": "+i.message);case 9:return[2]}}))}))},e.prototype.removeFolder=function(e){return i(this,void 0,void 0,(function(){var t,r;return s(this,(function(n){switch(n.label){case 0:if(t=e.id,l.default.log("(local)REMOVEFOLDER",t),e.parentId===this.absoluteRoot.id)return l.default.log("This action affects the absolute root. Skipping."),[2];if(e.isRoot)return l.default.log("This is a root folder. Skip."),[2];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.queue.add((function(){return c.default.bookmarks.removeTree(t)}))];case 2:return n.sent(),[3,4];case 3:return r=n.sent(),l.default.log("Could not remove "+e.inspect()+": "+r.message+"\n Moving on."),[3,4];case 4:return[2]}}))}))},e.getPathFromLocalId=function(t,r,n){return i(this,void 0,void 0,(function(){var o,a=this;return s(this,(function(u){switch(u.label){case 0:if("tabs"===t)return[2,c.default.i18n.getMessage("LabelTabs")];u.label=1;case 1:return u.trys.push([1,5,,6]),(o=r)?[3,3]:[4,e.getIdPathFromLocalId(t)];case 2:o=u.sent(),u.label=3;case 3:return r=o,n&&(r=r.slice(r.indexOf(n)+1)),[4,Promise.all(r.map((function(e){return i(a,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,c.default.bookmarks.get(e)];case 1:return[2,t.sent()[0].title.replace(/[/]/g,"\\/")];case 2:return t.sent(),[2,"Error!"];case 3:return[2]}}))}))})))];case 4:return[2,u.sent().join("/")];case 5:return u.sent(),[2,c.default.i18n.getMessage("LabelFolderNotFound")];case 6:return[2]}}))}))},e.getIdPathFromLocalId=function(e,t){return void 0===t&&(t=[]),i(this,void 0,void 0,(function(){var r,n;return s(this,(function(o){switch(o.label){case 0:return e?(t.unshift(e),[4,c.default.bookmarks.get(e)]):[2,t];case 1:return r=o.sent(),(n=r[0]).parentId===e?[2,t]:[2,this.getIdPathFromLocalId(n.parentId,t)]}}))}))},e.getAbsoluteRootFolder=function(){return i(this,void 0,void 0,(function(){return s(this,(function(e){switch(e.label){case 0:return[4,c.default.bookmarks.getTree()];case 1:return[2,e.sent()[0]]}}))}))},e}();t.default=m},15420:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t},i=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,a){function i(e){try{u(n.next(e))}catch(e){a(e)}}function s(e){try{u(n.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,s)}u((n=n.apply(e,t||[])).next())}))},s=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.i18n=void 0;var c=u(r(44282)),l=u(r(4533)),f=function(){function e(e){this.locale="en",this.locales=[e],this.defaultMessages=l.default}return e.prototype.setLocales=function(e){this.locales=e},e.prototype.load=function(){return i(this,void 0,void 0,(function(){var e,t,n,o,i,u,c;return s(this,(function(s){switch(s.label){case 0:e=0,t=this.locales,s.label=1;case 1:if(!(e<t.length))return[3,9];n=t[e],s.label=2;case 2:return s.trys.push([2,4,,5]),o=this,[4,Promise.resolve().then((function(){return a(r(85867)("./"+n+".json"))}))];case 3:return o.messages=s.sent().default,this.locale=n,[3,9];case 4:return i=s.sent(),console.warn(i),[3,5];case 5:return s.trys.push([5,7,,8]),u=this,[4,Promise.resolve().then((function(){return a(r(85867)("./"+n.split("-")[0]+".json"))}))];case 6:return u.messages=s.sent().default,this.locale=n.split("-")[0],[3,9];case 7:return c=s.sent(),console.warn(c),[3,8];case 8:return e++,[3,1];case 9:return[2]}}))}))},e.prototype.getMessage=function(e,t,r){var n=this.doGetMessage(e);if(n){var o=new c.default(n.message,this.locale,r).format(t);return o?Array.isArray(o)?o.join(""):o:e}return e},e.prototype.getDefaultLocaleMessage=function(e){return Object.hasOwnProperty.call(this.defaultMessages,e)?this.defaultMessages[e]:(console.warn("WARN: No message found with name "+e+" in default locale en"),null)},e.prototype.doGetMessage=function(e){return this.messages&&Object.hasOwnProperty.call(this.messages,e)?this.messages[e]:(console.warn("No message found with name "+e+" in locale "+this.locale+". Using default locale 'en'"),this.getDefaultLocaleMessage(e))},e}();t.default=f,t.i18n=new f("en")},29007:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,a){function i(e){try{u(n.next(e))}catch(e){a(e)}}function s(e){try{u(n.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,s)}u((n=n.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=s(r(42810)),c=s(r(28534)),l=s(r(6175)),f=s(r(72903)),d=s(r(62244)),p=r(79846),h=s(r(59564)),m=r(15420),g=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.get=function(e){return a(this,void 0,void 0,(function(){var r,n,o,a,s,f;return i(this,(function(i){switch(i.label){case 0:return r=new u.default(e),[4,d.default.getSingleton()];case 1:return n=i.sent(),[4,r.getAccountData(n.key)];case 2:return o=i.sent(),[4,(a=new c.default(r)).load()];case 3:return i.sent(),s=t.bind,f=[void 0,e,r],[4,l.default.factory(o)];case 4:return[2,new(s.apply(t,f.concat([i.sent(),a])))]}}))}))},t.create=function(e){return a(this,void 0,void 0,(function(){var r,n,o,a,s;return i(this,(function(i){switch(i.label){case 0:return r=""+Date.now()+Math.random(),[4,l.default.factory(e)];case 1:return n=i.sent(),o=new u.default(r),[4,d.default.getSingleton()];case 2:return a=i.sent(),[4,o.setAccountData(e,a.key)];case 3:return i.sent(),[4,(s=new c.default(o)).load()];case 4:return i.sent(),[2,new t(r,o,n,s)]}}))}))},t.prototype.init=function(){return a(this,void 0,void 0,(function(){var e;return i(this,(function(t){switch(t.label){case 0:return console.log("initializing account "+this.id),[4,this.storage.initMappings()];case 1:return t.sent(),[4,this.storage.initCache()];case 2:return t.sent(),[4,(e=new c.default(this.storage)).load()];case 3:return t.sent(),this.localTree=e,[2]}}))}))},t.prototype.isInitialized=function(){return a(this,void 0,void 0,(function(){return i(this,(function(e){try{return[2,Boolean(u.default.getEntry("bookmarks["+this.storage.accountId+"].mappings"))]}catch(e){return console.log("Apparently not initialized, because:",e),[2,!1]}return[2]}))}))},t.prototype.updateFromStorage=function(){return a(this,void 0,void 0,(function(){return i(this,(function(e){return[2]}))}))},t.stringifyError=function(e){return a(this,void 0,void 0,(function(){var t=this;return i(this,(function(r){switch(r.label){case 0:return e instanceof p.UnknownFolderItemOrderError||e instanceof p.MissingItemOrderError?[2,m.i18n.getMessage("Error"+String(e.code).padStart(3,"0"),[e.item])]:e instanceof p.HttpError?[2,m.i18n.getMessage("Error"+String(e.code).padStart(3,"0"),[e.status,e.method])]:e instanceof p.ParseResponseError?[2,m.i18n.getMessage("Error"+String(e.code).padStart(3,"0"))+"\n"+e.response]:e instanceof p.InconsistentBookmarksExistenceError?[2,m.i18n.getMessage("Error"+String(e.code).padStart(3,"0"),[e.folder,e.bookmark])]:e instanceof p.LockFileError?[2,m.i18n.getMessage("Error"+String(e.code).padStart(3,"0"),[e.status,e.lockFile])]:e instanceof p.FailsafeError?[2,m.i18n.getMessage("Error"+String(e.code).padStart(3,"0"),[e.percent])]:e instanceof p.FloccusError?[2,m.i18n.getMessage("Error"+String(e.code).padStart(3,"0"))]:e.list?[4,Promise.all(e.list.map((function(e){return h.default.log(e),t.stringifyError(e)})))]:[3,2];case 1:return[2,r.sent().join("\n")];case 2:return[2,e.message]}}))}))},t.getAllAccounts=function(){return a(this,void 0,void 0,(function(){var e,r;return i(this,(function(n){switch(n.label){case 0:return r=(e=Promise).all,[4,u.default.getAllAccounts()];case 1:return[2,r.apply(e,[n.sent().map((function(e){return t.get(e)}))])]}}))}))},t}(f.default);t.default=g},28534:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,a){function i(e){try{u(n.next(e))}catch(e){a(e)}}function s(e){try{u(n.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,s)}u((n=n.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=r(38602),c=r(40505),l=function(e){function t(t){var r=e.call(this,{})||this;return r.storage=t,r.accountId=r.storage.accountId,r}return o(t,e),t.prototype.load=function(){return a(this,void 0,void 0,(function(){var e,t;return i(this,(function(r){switch(r.label){case 0:return[4,u.Storage.get({key:"bookmarks["+this.accountId+"].tree"})];case 1:return e=r.sent().value,[4,u.Storage.get({key:"bookmarks["+this.accountId+"].highestId"})];case 2:return t=r.sent().value,e?(this.bookmarksCache=c.Folder.hydrate(JSON.parse(e)),this.highestId=parseInt(t),[3,5]):[3,3];case 3:return[4,this.save()];case 4:r.sent(),r.label=5;case 5:return[2]}}))}))},t.prototype.save=function(){return a(this,void 0,void 0,(function(){return i(this,(function(e){switch(e.label){case 0:return[4,u.Storage.set({key:"bookmarks["+this.accountId+"].tree",value:JSON.stringify(this.bookmarksCache.clone(!0,c.ItemLocation.LOCAL))})];case 1:return e.sent(),[4,u.Storage.set({key:"bookmarks["+this.accountId+"].highestId",value:this.highestId+""})];case 2:return e.sent(),[2]}}))}))},t.prototype.triggerSave=function(){var e=this;clearTimeout(this.saveTimeout),this.saveTimeout=setTimeout((function(){e.save()}),500)},t.prototype.createBookmark=function(t){return a(this,void 0,void 0,(function(){return i(this,(function(r){return this.triggerSave(),[2,e.prototype.createBookmark.call(this,t)]}))}))},t.prototype.updateBookmark=function(t){return a(this,void 0,void 0,(function(){return i(this,(function(r){return this.triggerSave(),[2,e.prototype.updateBookmark.call(this,t)]}))}))},t.prototype.removeBookmark=function(t){return a(this,void 0,void 0,(function(){return i(this,(function(r){return this.triggerSave(),[2,e.prototype.removeBookmark.call(this,t)]}))}))},t.prototype.createFolder=function(t){return a(this,void 0,void 0,(function(){return i(this,(function(r){return this.triggerSave(),[2,e.prototype.createFolder.call(this,t)]}))}))},t.prototype.orderFolder=function(t,r){return a(this,void 0,void 0,(function(){return i(this,(function(n){return this.triggerSave(),[2,e.prototype.orderFolder.call(this,t,r)]}))}))},t.prototype.updateFolder=function(t){return a(this,void 0,void 0,(function(){return i(this,(function(r){return this.triggerSave(),[2,e.prototype.updateFolder.call(this,t)]}))}))},t.prototype.removeFolder=function(t){return a(this,void 0,void 0,(function(){return i(this,(function(r){return this.triggerSave(),[2,e.prototype.removeFolder.call(this,t)]}))}))},t}(s(r(63479)).default);t.default=l},35501:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(40505),o=function(){function e(){}return e.prototype.serialize=function(e){return this._serializeFolder(e,"")},e.prototype._serializeFolder=function(e,t){var r=this;return e.children.map((function(e){if(e instanceof n.Bookmark)return t+'<DT><A HREF="'+e.url+'" TAGS="">'+e.title+"</A>";if(e instanceof n.Folder){var o=t+"  ";return t+"<DT><h3>"+e.title+"</h3>\n"+t+"<DL><p>"+r._serializeFolder(e,o)+"</p></DL>"}})).join("\n")},e.prototype.deserialize=function(){throw new Error("Not implemented")},e}();t.default=new o},21617:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(40505),o=function(){function e(){}return e.prototype.serialize=function(e){return this._serializeFolder(e,"")},e.prototype.deserialize=function(e){var t=(new window.DOMParser).parseFromString(e,"application/xml"),r=t.getElementsByTagName("xbel");if(!r.length)throw new Error("Parse Error: "+(new XMLSerializer).serializeToString(t));var o=new n.Folder({id:0,title:"root",location:n.ItemLocation.SERVER});return this._parseFolder(r[0],o),o},e.prototype._parseFolder=function(e,t){var r=this;e.childNodes.forEach((function(e){var o;if(e.tagName&&"bookmark"===e.tagName)o=new n.Bookmark({id:parseInt(e.id),parentId:t.id,url:e.getAttribute("href"),title:e.firstElementChild.textContent,location:n.ItemLocation.SERVER});else{if(!e.tagName||"folder"!==e.tagName)return;o=new n.Folder({id:parseInt(e.getAttribute("id")),title:e.firstElementChild.textContent,parentId:t.id,location:n.ItemLocation.SERVER}),r._parseFolder(e,o)}t.children.push(o)}))},e.prototype._serializeFolder=function(e,t){var r=this,o=(new DOMParser).parseFromString("<xml></xml>","application/xml");return e.children.map((function(e){if(e instanceof n.Bookmark){var a=o.createElement("bookmark");return a.setAttribute("href",e.url),a.setAttribute("id",String(e.id)),(i=o.createElement("title")).textContent=e.title,a.appendChild(i),(new XMLSerializer).serializeToString(a)}if(e instanceof n.Folder){var i,s=o.createElement("folder");return"id"in e&&s.setAttribute("id",String(e.id)),(i=o.createElement("title")).textContent=e.title,s.appendChild(i),s.innerHTML+=r._serializeFolder(e,t+"    "),(new XMLSerializer).serializeToString(s)}})).join("\r\n"+t)},e}();t.default=new o},58473:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},n.apply(this,arguments)},o=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&o(t,e,r);return a(t,e),t},s=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,a){function i(e){try{u(n.next(e))}catch(e){a(e)}}function s(e){try{u(n.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,s)}u((n=n.apply(e,t||[])).next())}))},u=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var l=r(40505),f=c(r(59564)),d=i(r(80559)),p=c(r(11545)),h=i(r(18329)),m=r(3774),g=c(r(26941)),v=r(79846),y=c(r(36929)),b=function(){function e(e,t,r,n,o){this.mappings=e,this.localTree=t,this.server=n,this.cacheTreeRoot=r,this.preserveOrder="orderFolder"in this.server,this.progressCb=(0,m.throttle)(250,!0,o),this.actionsDone=0,this.actionsPlanned=0,this.canceled=!1}return e.prototype.cancel=function(){return s(this,void 0,void 0,(function(){return u(this,(function(e){return this.canceled=!0,this.server.cancel(),[2]}))}))},e.prototype.updateProgress=function(){this.actionsDone++,this.progressCb(Math.min(1,this.actionsDone/(this.actionsPlanned+1)))},e.prototype.setDirection=function(e){throw new Error("Unsupported method")},e.prototype.sync=function(){return s(this,void 0,void 0,(function(){var e,t,r,n,o,a,i,s,c,p;return u(this,(function(u){switch(u.label){case 0:return this.masterLocation=l.ItemLocation.LOCAL,[4,this.prepareSync()];case 1:if(u.sent(),this.canceled)throw new v.InterruptedSyncError;return f.default.log({localTreeRoot:this.localTreeRoot,serverTreeRoot:this.serverTreeRoot,cacheTreeRoot:this.cacheTreeRoot}),[4,this.getDiffs()];case 2:if(e=u.sent(),t=e.localDiff,r=e.serverDiff,f.default.log({localDiff:t,serverDiff:r}),this.canceled)throw new v.InterruptedSyncError;return[4,this.reconcileDiffs(t,r,l.ItemLocation.SERVER)];case 3:if(n=u.sent(),o=this.mappings.getSnapshot(),a=n.map(o,l.ItemLocation.SERVER,(function(e){return e.type!==d.ActionType.REORDER&&e.type!==d.ActionType.MOVE})),this.canceled)throw new v.InterruptedSyncError;return[4,this.reconcileDiffs(r,t,l.ItemLocation.LOCAL)];case 4:if(i=u.sent(),o=this.mappings.getSnapshot(),s=i.map(o,l.ItemLocation.LOCAL,(function(e){return e.type!==d.ActionType.REORDER&&e.type!==d.ActionType.MOVE})),this.canceled)throw new v.InterruptedSyncError;return f.default.log({localPlan:s,serverPlan:a}),this.actionsPlanned=a.getActions().length+s.getActions().length,this.applyFailsafe(s),[4,this.execute(this.server,a,l.ItemLocation.SERVER)];case 5:return a=u.sent(),[4,this.execute(this.localTree,s,l.ItemLocation.LOCAL)];case 6:return s=u.sent(),[4,this.mappings.getSnapshot()];case 7:return o=u.sent(),c=this.reconcileReorderings(s,a,o).map(o,l.ItemLocation.LOCAL),p=this.reconcileReorderings(a,s,o).map(o,l.ItemLocation.SERVER),"orderFolder"in this.server?[4,Promise.all([this.executeReorderings(this.server,p),this.executeReorderings(this.localTree,c)])]:[3,9];case 8:u.sent(),u.label=9;case 9:return[2]}}))}))},e.prototype.prepareSync=function(){return s(this,void 0,void 0,(function(){var e,t,r;return u(this,(function(n){switch(n.label){case 0:return e=this,[4,this.localTree.getBookmarksTree()];case 1:return e.localTreeRoot=n.sent(),t=this,[4,this.server.getBookmarksTree()];case 2:return t.serverTreeRoot=n.sent(),this.filterOutUnacceptedBookmarks(this.localTreeRoot),this.server instanceof y.default?[4,this.filterOutDuplicatesInTheSameFolder(this.localTreeRoot)]:[3,4];case 3:n.sent(),n.label=4;case 4:return[4,this.mappings.addFolder({localId:this.localTreeRoot.id,remoteId:this.serverTreeRoot.id})];case 5:return n.sent(),[4,this.mappings.getSnapshot()];case 6:return r=n.sent(),"loadFolderChildren"in this.server?(f.default.log("Loading sparse tree as necessary"),[4,this.loadChildren(this.serverTreeRoot,r)]):[3,8];case 7:n.sent(),n.label=8;case 8:return this.cacheTreeRoot.id=this.localTreeRoot.id,this.localTreeRoot.createIndex(),this.cacheTreeRoot.createIndex(),this.serverTreeRoot.createIndex(),[2]}}))}))},e.prototype.applyFailsafe=function(e){var t=this.localTreeRoot.count(),r=e.getActions(d.ActionType.REMOVE).reduce((function(e,t){return e+t.payload.count()}),0);if(f.default.log("Checking failsafe: "+r+"/"+t+"="+r/t),t>5&&r/t>.5){var n=this.server.getData().failsafe;if(!1!==n||void 0===n)throw new v.FailsafeError(r/t*100)}},e.prototype.filterOutUnacceptedBookmarks=function(e){var t=this;e.children=e.children.filter((function(e){return e instanceof l.Bookmark?t.server.acceptsBookmark(e):(t.filterOutUnacceptedBookmarks(e),!0)}))},e.prototype.filterOutDuplicatesInTheSameFolder=function(e){return s(this,void 0,void 0,(function(){var t,r,n=this;return u(this,(function(o){switch(o.label){case 0:return t={},r=[],e.children=e.children.filter((function(e){if(e.type===l.ItemType.BOOKMARK){if(t[e.url])return r.push(e),!1;t[e.url]=e}else n.filterOutDuplicatesInTheSameFolder(e);return!0})),r.length&&f.default.log("Filtered out the following duplicates before syncing",r),[4,Promise.all(r.map((function(e){return n.localTree.removeBookmark(e)})))];case 1:return o.sent(),[2]}}))}))},e.prototype.getDiffs=function(){return s(this,void 0,void 0,(function(){var e,t,r,n,o,a,i,s=this;return u(this,(function(u){switch(u.label){case 0:return[4,this.mappings.getSnapshot()];case 1:return e=u.sent(),t=[],r=new p.default(this.cacheTreeRoot,this.localTreeRoot,(function(e,t){return e.type===t.type&&String(e.id)===String(t.id)}),this.preserveOrder),n=new p.default(this.cacheTreeRoot,this.serverTreeRoot,(function(r,n){return!!(r.type===n.type&&String(e.LocalToServer[r.type][r.id])===String(n.id)||"bookmark"===r.type&&r.canMergeWith(n))&&(t.push([r,n]),!0)}),this.preserveOrder),[4,Promise.all([r.run(),n.run()])];case 2:return o=u.sent(),a=o[0],i=o[1],[4,Promise.all(t.map((function(e){var t=e[0],r=e[1];return s.addMapping(s.server,t,r.id)})))];case 3:return u.sent(),[2,{localDiff:a,serverDiff:i}]}}))}))},e.prototype.reconcileDiffs=function(e,t,r){return s(this,void 0,void 0,(function(){var o,a,i,c,f,m,v,y,b,w,E,k,L,_,S=this;return u(this,(function(A){switch(A.label){case 0:return[4,this.mappings.getSnapshot()];case 1:return o=A.sent(),a=t.getActions(d.ActionType.CREATE).map((function(e){return e})),i=t.getActions(d.ActionType.REMOVE).map((function(e){return e})),c=t.getActions(d.ActionType.MOVE).map((function(e){return e})),f=t.getActions(d.ActionType.UPDATE).map((function(e){return e})),m=t.getActions(d.ActionType.REORDER).map((function(e){return e})),v=e.getActions(d.ActionType.CREATE).map((function(e){return e})),y=e.getActions(d.ActionType.REMOVE).map((function(e){return e})),b=e.getActions(d.ActionType.MOVE).map((function(e){return e})),w=r===l.ItemLocation.LOCAL?this.localTreeRoot:this.serverTreeRoot,E=r===l.ItemLocation.LOCAL?this.serverTreeRoot:this.localTreeRoot,k=t.getActions().filter((function(e){return e.type===d.ActionType.CREATE||e.type===d.ActionType.MOVE})).map((function(e){return e})).concat(e.getActions().filter((function(e){return e.type===d.ActionType.CREATE||e.type===d.ActionType.MOVE})).map((function(e){return e}))),L={},_=new d.default,[4,h.each(e.getActions(),(function(t){return s(S,void 0,void 0,(function(){var S,A,x,T,O,I,R,D,P,C=this;return u(this,(function(F){switch(F.label){case 0:if(t.type===d.ActionType.REMOVE){if(i.find((function(e){return t.payload.type===e.payload.type&&g.default.mappable(o,t.payload,e.payload)||d.default.findChain(o,k,w,t.payload,e)})))return[2];if(c.find((function(e){return t.payload.type===e.payload.type&&g.default.mappable(o,t.payload,e.payload)}))&&r===this.masterLocation)return[2]}return t.type!==d.ActionType.CREATE?[3,4]:(S=a.find((function(e){return t.payload.parentId===g.default.mapParentId(o,e.payload,t.payload.location)&&t.payload.canMergeWith(e.payload)})))?(A=[],[4,new p.default(S.payload,t.payload,(function(e,t){return!(e.type!==t.type||!e.canMergeWith(t)||(A.push([e,t.id]),0))}),this.preserveOrder,!1).run()]):[3,3];case 1:return F.sent(),A.push([S.payload,t.payload.id]),[4,h.each(A,(function(e){var r=e[0],n=e[1];return s(C,void 0,void 0,(function(){return u(this,(function(e){switch(e.label){case 0:return[4,this.addMapping(t.payload.location===l.ItemLocation.LOCAL?this.localTree:this.server,r,n)];case 1:return e.sent(),[2]}}))}))}),1)];case 2:return F.sent(),[2];case 3:if(i.find((function(e){return d.default.findChain(o,k,E,t.payload,e)})))return L[t.payload.parentId]=!0,[2];F.label=4;case 4:if(t.type===d.ActionType.MOVE){if(r===this.masterLocation&&c.find((function(e){return t.payload.type===e.payload.type&&g.default.mappable(o,t.payload,e.payload)})))return[2];if(x=i.find((function(e){return d.default.findChain(o,k,E,t.payload,e)})),T=i.find((function(e){return t.payload.type===e.payload.type&&g.default.mappable(o,t.payload,e.payload)||d.default.findChain(o,k,E,t.oldItem,e)})),O=y.find((function(e){return d.default.findChain(o,k,w,t.oldItem,e)})),I=y.find((function(e){return d.default.findChain(o,k,new l.Folder({id:0,location:r}),t.payload,e)})),x)return T||O||r===this.masterLocation&&(_.commit(n(n({},t),{type:d.ActionType.REMOVE,payload:t.oldItem,oldItem:null})),L[t.payload.id]=!0),[2];if(I)return r!==this.masterLocation&&(_.commit(n(n({},t),{type:d.ActionType.REMOVE,payload:t.oldItem,oldItem:null})),L[t.payload.id]=!0),L[t.payload.parentId]=!0,L[t.payload.id]=!0,[2];if(T)return r!==this.masterLocation&&(R=v.find((function(e){return e.payload.findItem(l.ItemType.FOLDER,t.payload.parentId)})),(D=t.payload.clone()).type===l.ItemType.FOLDER&&D.traverse((function(e,t){(y.find((function(t){return g.default.mappable(o,e,t.payload)}))||b.find((function(t){return g.default.mappable(o,e,t.payload)})))&&t.children.splice(t.children.indexOf(e),1)})),R&&R.payload.type===l.ItemType.FOLDER?R.payload.findFolder(t.payload.parentId).children.splice(t.index,0,D):_.commit(n(n({},t),{type:d.ActionType.CREATE,oldItem:null,payload:D}))),[2];if((P=c.filter((function(e){return d.default.findChain(o,k,E,t.payload,e)&&d.default.findChain(o,k,w,e.payload,t)}))).length)return r!==this.masterLocation?(_.commit(t),P.forEach((function(a){var s=a.oldItem.clone(!1,r===l.ItemLocation.LOCAL?l.ItemLocation.SERVER:l.ItemLocation.LOCAL),u=a.payload.clone(!1,t.payload.location);u.id=g.default.mapId(o,a.payload,t.payload.location),u.parentId=g.default.mapParentId(o,a.payload,t.payload.location),_.getActions(d.ActionType.MOVE).find((function(e){return e.payload.id===s.id}))||e.getActions(d.ActionType.MOVE).find((function(e){return e.payload.id===s.id}))||i.find((function(e){return d.default.findChain(o,k,E,t.payload,e)}))||y.find((function(e){return d.default.findChain(o,k,w,t.payload,e)}))||(_.commit(n(n({},a),{payload:s,oldItem:u})),L[s.parentId]=!0,L[u.parentId]=!0)}))):(L[t.payload.parentId]=!0,L[g.default.mapParentId(o,t.oldItem,l.ItemLocation.SERVER)]=!0),[2]}if(t.type===d.ActionType.UPDATE){if(f.find((function(e){return t.payload.type===e.payload.type&&g.default.mappable(o,t.payload,e.payload)}))&&r===this.masterLocation)return[2];if(i.find((function(e){return e.payload.findItem(t.payload.type,g.default.mapId(o,t.payload,e.payload.location))||e.payload.findItem(l.ItemType.FOLDER,g.default.mapParentId(o,t.payload,e.payload.location))})))return[2]}if(t.type===d.ActionType.REORDER){if(L[t.payload.id])return[2];if(r===this.masterLocation&&m.find((function(e){return t.payload.type===e.payload.type&&g.default.mappable(o,t.payload,e.payload)})))return[2];if(i.find((function(e){return e.payload.findItem("folder",t.payload.id)})))return[2]}return _.commit(t),[2]}}))}))}))];case 2:return A.sent(),[2,_]}}))}))},e.prototype.execute=function(e,t,r){return s(this,void 0,void 0,(function(){var n,o,a,i,s=this;return u(this,(function(u){switch(u.label){case 0:return n=function(t){return s.executeAction(e,t,r)},[4,h.each(t.getActions().filter((function(e){return e.type===d.ActionType.CREATE||e.type===d.ActionType.UPDATE})),n)];case 1:return u.sent(),[4,this.mappings.getSnapshot()];case 2:if(o=u.sent(),a=t.map(o,r,(function(e){return e.type===d.ActionType.MOVE})),i=d.default.sortMoves(a.getActions(d.ActionType.MOVE),r===l.ItemLocation.SERVER?this.serverTreeRoot:this.localTreeRoot),this.canceled)throw new v.InterruptedSyncError;return[4,h.each(i,(function(e){return Promise.all(e.map(n))}),1)];case 3:if(u.sent(),this.canceled)throw new v.InterruptedSyncError;return[4,h.each(t.getActions(d.ActionType.REMOVE),n)];case 4:return u.sent(),[2,a]}}))}))},e.prototype.executeAction=function(e,t,r){return s(this,void 0,void 0,(function(){var n,o,a,i,c,m,g,y,b,w,E=this;return u(this,(function(k){switch(k.label){case 0:if(n=t.payload,this.canceled)throw new v.InterruptedSyncError;return t.type!==d.ActionType.REMOVE?[3,3]:[4,t.payload.visitRemove(e)];case 1:return k.sent(),[4,this.removeMapping(e,n)];case 2:return k.sent(),this.updateProgress(),[2];case 3:return t.type!==d.ActionType.CREATE?[3,18]:[4,t.payload.visitCreate(e)];case 4:return void 0===(o=k.sent())?(this.updateProgress(),[2]):(n.id=o,t.oldItem?[4,this.addMapping(e,t.oldItem,o)]:[3,6]);case 5:k.sent(),k.label=6;case 6:if(!(n instanceof l.Folder&&(t.payload instanceof l.Folder&&t.payload.children.length||t.oldItem instanceof l.Folder&&t.oldItem.children.length)))return[3,17];if(!("bulkImportFolder"in e))return[3,12];k.label=7;case 7:return k.trys.push([7,11,,12]),[4,e.bulkImportFolder(n.id,t.oldItem||t.payload)];case 8:return a=k.sent(),i=[],[4,new p.default(n,a,(function(e,t){return!(e.type!==t.type||!e.canMergeWith(t)||(i.push([e,t.id]),0))}),this.preserveOrder,!1).run()];case 9:return k.sent(),[4,h.each(i,(function(t){var r=t[0],n=t[1];return s(E,void 0,void 0,(function(){return u(this,(function(t){switch(t.label){case 0:return[4,this.addMapping(e,r,n)];case 1:return t.sent(),[2]}}))}))}))];case 10:return k.sent(),this.updateProgress(),[2];case 11:return c=k.sent(),f.default.log("Bulk import failed, continuing with normal creation",c),[3,12];case 12:return t.oldItem&&t.oldItem instanceof l.Folder?(m=new d.default,t.oldItem.children.forEach((function(e){return m.commit({type:d.ActionType.CREATE,payload:e})})),[4,this.mappings.getSnapshot()]):[3,17];case 13:return g=k.sent(),y=m.map(g,r),[4,this.execute(e,y,r)];case 14:return k.sent(),n.children.length>1?((b=new d.default).commit({type:d.ActionType.REORDER,oldItem:t.payload,payload:t.oldItem,order:n.children.map((function(e){return{type:e.type,id:e.id}}))}),[4,this.mappings.getSnapshot()]):[3,17];case 15:return g=k.sent(),w=b.map(g,r),"orderFolder"in e?[4,this.executeReorderings(e,w)]:[3,17];case 16:k.sent(),k.label=17;case 17:return this.updateProgress(),[2];case 18:return t.type!==d.ActionType.UPDATE&&t.type!==d.ActionType.MOVE?[3,21]:[4,t.payload.visitUpdate(e)];case 19:return k.sent(),[4,this.addMapping(e,t.oldItem,n.id)];case 20:k.sent(),this.updateProgress(),k.label=21;case 21:return[2]}}))}))},e.prototype.reconcileReorderings=function(e,t,r){var o=new d.default;return e.getActions(d.ActionType.REORDER).map((function(e){return e})).forEach((function(e){var r=n(n({},e),{order:e.order.slice()});if(!t.getActions(d.ActionType.REMOVE).filter((function(e){return e.payload.findItem(r.payload.type,e.payload.id)})).length){var a=t.getActions(d.ActionType.MOVE).filter((function(e){return String(r.payload.id)!==String(e.payload.parentId)&&r.order.find((function(t){return String(t.id)===String(e.payload.id)&&t.type===e.payload.type}))})),i=t.getActions(d.ActionType.REMOVE).filter((function(e){return r.order.find((function(t){return String(t.id)===String(e.payload.id)&&t.type===e.payload.type}))}));r.order=r.order.filter((function(e){var t;return(t=a.find((function(t){return String(e.id)===String(t.payload.id)&&t.payload.type===e.type})))?(f.default.log("ReconcileReorders: Removing moved item from order",{move:t,reorder:r}),!1):!(t=i.find((function(t){return String(e.id)===String(t.payload.id)&&t.payload.type===e.type})))||(f.default.log("ReconcileReorders: Removing removed item from order",{item:e,reorder:r,removal:t}),!1)})),t.getActions(d.ActionType.CREATE).map((function(e){return e})).filter((function(e){return String(r.payload.id)===String(e.payload.parentId)})).forEach((function(e){f.default.log("ReconcileReorders: Inserting created item into order",{creation:e,reorder:r}),r.order.splice(e.index,0,{type:e.payload.type,id:e.payload.id})})),t.getActions(d.ActionType.MOVE).map((function(e){return e})).filter((function(e){return String(r.payload.id)===String(e.payload.parentId)&&!r.order.find((function(t){return String(t.id)===String(e.payload.id)&&t.type===e.payload.type}))})).forEach((function(e){f.default.log("ReconcileReorders: Inserting moved item into order",{move:e,reorder:r}),r.order.splice(e.index,0,{type:e.payload.type,id:e.payload.id})})),o.commit(r)}})),o},e.prototype.executeReorderings=function(e,t){return s(this,void 0,void 0,(function(){var r=this;return u(this,(function(n){switch(n.label){case 0:return f.default.log({reorderings:t}),[4,h.each(t.getActions(d.ActionType.REORDER).map((function(e){return e})),(function(t){return s(r,void 0,void 0,(function(){var r,n,o;return u(this,(function(a){switch(a.label){case 0:if(r=t.payload,this.canceled)throw new v.InterruptedSyncError;if(t.order.length<=1)return[2];n={},a.label=1;case 1:return a.trys.push([1,3,,4]),[4,e.orderFolder(r.id,t.order.filter((function(e){return!n[e.type+""+e.id]&&(n[e.type+""+e.id]=!0,e.id)})))];case 2:return a.sent(),[3,4];case 3:return o=a.sent(),f.default.log("Failed to execute REORDER: "+o.message+"\nMoving on."),f.default.log(o),[3,4];case 4:return this.updateProgress(),[2]}}))}))}))];case 1:return n.sent(),[2]}}))}))},e.prototype.addMapping=function(e,t,r){return s(this,void 0,void 0,(function(){var n,o;return u(this,(function(a){switch(a.label){case 0:return e===this.server?(n=t.id,o=r):(n=r,o=t.id),"folder"!==t.type?[3,2]:[4,this.mappings.addFolder({localId:n,remoteId:o})];case 1:return a.sent(),[3,4];case 2:return[4,this.mappings.addBookmark({localId:n,remoteId:o})];case 3:a.sent(),a.label=4;case 4:return[2]}}))}))},e.prototype.removeMapping=function(e,t){return s(this,void 0,void 0,(function(){var r,n;return u(this,(function(o){switch(o.label){case 0:return e===this.server?n=t.id:r=t.id,"folder"!==t.type?[3,2]:[4,this.mappings.removeFolder({localId:r,remoteId:n})];case 1:return o.sent(),[3,4];case 2:return[4,this.mappings.removeBookmark({localId:r,remoteId:n})];case 3:o.sent(),o.label=4;case 4:return[2]}}))}))},e.prototype.loadChildren=function(e,t){return s(this,void 0,void 0,(function(){var r,n,o,a,i,s=this;return u(this,(function(u){switch(u.label){case 0:if(this.canceled)throw new v.InterruptedSyncError;return e instanceof l.Folder&&"loadFolderChildren"in this.server?(e===this.serverTreeRoot?(r=this.localTreeRoot,n=this.cacheTreeRoot):(o=t.ServerToLocal.folder[e.id],r=this.localTreeRoot.findFolder(o),n=this.cacheTreeRoot.findFolder(o)),(a=r)?[4,this.folderHasChanged(r,n,e)]:[3,2]):[2];case 1:a=!u.sent(),u.label=2;case 2:return a?(this.actionsDone+=r.count(),[2]):(f.default.log("LOADCHILDREN",e),[4,this.server.loadFolderChildren(e.id,!r)]);case 3:return(i=u.sent())?(e.children=i,e.loaded=!0,[4,h.each(e.children,(function(e){return s.loadChildren(e,t)}))]):[2];case 4:return u.sent(),[2]}}))}))},e.prototype.folderHasChanged=function(e,t,r){return s(this,void 0,void 0,(function(){var n,o,a,i,s,c,l,f,d,p;return u(this,(function(u){switch(u.label){case 0:return[4,this.mappings.getSnapshot()];case 1:return n=u.sent(),e?[4,e.hash(this.preserveOrder)]:[3,3];case 2:return a=u.sent(),[3,4];case 3:a=null,u.label=4;case 4:return o=a,t?[4,t.hash(this.preserveOrder)]:[3,6];case 5:return s=u.sent(),[3,7];case 6:s=null,u.label=7;case 7:return i=s,r?[4,r.hash(this.preserveOrder)]:[3,9];case 8:return l=u.sent(),[3,10];case 9:l=null,u.label=10;case 10:return c=l,f=!t,d=o!==i||t&&e.parentId!==t.parentId,p=i!==c||t&&t.parentId!==n.ServerToLocal.folder[r.parentId],[2,d||p||f]}}))}))},e.prototype.filterOutUnmappedItems=function(e,t){var r=this;e.children=e.children.filter((function(e){return e instanceof l.Bookmark?e.id in t.LocalToServer.bookmark:e.id in t.LocalToServer.folder&&(r.filterOutUnmappedItems(e,t),!0)}))},e}();t.default=b},45059:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},a.apply(this,arguments)},i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),u=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&i(t,e,r);return s(t,e),t},c=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,a){function i(e){try{u(n.next(e))}catch(e){a(e)}}function s(e){try{u(n.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,s)}u((n=n.apply(e,t||[])).next())}))},l=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},f=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var d=r(40505),p=u(r(80559)),h=f(r(11545)),m=u(r(18329)),g=f(r(58473)),v=f(r(26941)),y=f(r(59564)),b=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getDiffs=function(){return c(this,void 0,void 0,(function(){var e,t,r,n,o,a,i=this;return l(this,(function(s){switch(s.label){case 0:return e=[],t=new h.default(this.serverTreeRoot,this.localTreeRoot,(function(t,r){return!(r.type!==t.type||!t.canMergeWith(r)||(e.push([r,t]),0))}),this.preserveOrder,!1),r=new h.default(this.localTreeRoot,this.serverTreeRoot,(function(t,r){return!(r.type!==t.type||!r.canMergeWith(t)||(e.push([t,r]),0))}),this.preserveOrder,!1),[4,Promise.all([t.run(),r.run()])];case 1:return n=s.sent(),o=n[0],a=n[1],[4,Promise.all(e.map((function(e){var t=e[0],r=e[1];i.addMapping(i.server,t,r.id)})))];case 2:return s.sent(),o.getActions(p.ActionType.UPDATE).forEach((function(e){return o.retract(e)})),a.getActions(p.ActionType.UPDATE).forEach((function(e){return a.retract(e)})),[2,{localDiff:o,serverDiff:a}]}}))}))},t.prototype.reconcileDiffs=function(e,t,r){return c(this,void 0,void 0,(function(){var n,o,i,s,u,f,g,y,b,w=this;return l(this,(function(E){switch(E.label){case 0:return[4,this.mappings.getSnapshot()];case 1:return n=E.sent(),o=t.getActions(p.ActionType.CREATE),i=t.getActions(p.ActionType.MOVE),s=e.getActions(p.ActionType.MOVE),u=e.getActions(p.ActionType.UPDATE),f=r===d.ItemLocation.LOCAL?this.localTreeRoot:this.serverTreeRoot,g=r===d.ItemLocation.LOCAL?this.serverTreeRoot:this.localTreeRoot,y=t.getActions().filter((function(e){return e.type===p.ActionType.CREATE||e.type===p.ActionType.MOVE})).map((function(e){return e})).concat(e.getActions().filter((function(e){return e.type===p.ActionType.CREATE||e.type===p.ActionType.MOVE})).map((function(e){return e}))),b=new p.default,[4,m.each(e.getActions(),(function(t){return c(w,void 0,void 0,(function(){var w,E,k,L=this;return l(this,(function(_){switch(_.label){case 0:return t.type===p.ActionType.REMOVE?[2]:t.type!==p.ActionType.CREATE?[3,3]:(w=o.find((function(e){return e.payload.parentId===v.default.mapParentId(n,t.payload,e.payload.location)&&t.payload.canMergeWith(e.payload)})))?(E=[],[4,new h.default(w.payload,t.payload,(function(e,t){return!(e.type!==t.type||!e.canMergeWith(t)||(E.push([e,t.id]),0))}),this.preserveOrder,!1).run()]):[3,3];case 1:return _.sent(),E.push([w.payload,t.payload.id]),[4,m.each(E,(function(e){var r=e[0],n=e[1];return c(L,void 0,void 0,(function(){return l(this,(function(e){switch(e.label){case 0:return[4,this.addMapping(t.payload.location===d.ItemLocation.LOCAL?this.localTree:this.server,r,n)];case 1:return e.sent(),[2]}}))}))}),1)];case 2:return _.sent(),[2];case 3:if(t.type===p.ActionType.MOVE){if(r===d.ItemLocation.LOCAL&&s.find((function(e){return t.payload.type===e.payload.type&&v.default.mappable(n,t.payload,e.payload)||"bookmark"===t.payload.type&&t.payload.canMergeWith(e.payload)})))return[2];if((k=i.filter((function(e){return p.default.findChain(n,y,g,t.payload,e)&&p.default.findChain(n,y,f,e.payload,t)}))).length)return r===d.ItemLocation.SERVER&&(k.forEach((function(r){var o=r.oldItem.clone(),i=r.payload.clone();i.id=v.default.mapId(n,i,t.payload.location),i.parentId=v.default.mapParentId(n,i,t.payload.location),b.getActions(p.ActionType.MOVE).find((function(e){return e.payload.id===o.id}))||e.getActions(p.ActionType.MOVE).find((function(e){return e.payload.id===o.id}))||b.commit(a(a({},r),{payload:o,oldItem:i}))})),b.commit(t)),[2]}return t.type===p.ActionType.UPDATE&&u.find((function(e){return t.payload.type===e.payload.type&&v.default.mappable(n,t.payload,e.payload)}))&&r===d.ItemLocation.LOCAL||t.type===p.ActionType.REORDER||b.commit(t),[2]}}))}))}))];case 2:return E.sent(),[2,b]}}))}))},t.prototype.reconcileReorderings=function(t,r,n){return e.prototype.reconcileReorderings.call(this,t,r,n)},t.prototype.loadChildren=function(){return c(this,void 0,void 0,(function(){var e;return l(this,(function(t){switch(t.label){case 0:return y.default.log("Merge strategy: Load complete tree from server"),e=this,[4,this.server.getBookmarksTree(!0)];case 1:return e.serverTreeRoot=t.sent(),[2]}}))}))},t}(g.default);t.default=b},83543:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},a.apply(this,arguments)},i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),u=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&i(t,e,r);return s(t,e),t},c=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,a){function i(e){try{u(n.next(e))}catch(e){a(e)}}function s(e){try{u(n.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,s)}u((n=n.apply(e,t||[])).next())}))},l=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},f=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var d=f(r(58473)),p=u(r(80559)),h=u(r(18329)),m=f(r(26941)),g=r(40505),v=f(r(59564)),y=r(79846),b=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.setDirection=function(e){this.direction=e},t.prototype.sync=function(){return c(this,void 0,void 0,(function(){var e,t,r,n,o,a,i,s,u,c,f;return l(this,(function(l){switch(l.label){case 0:return this.masterLocation=this.direction===g.ItemLocation.SERVER?g.ItemLocation.LOCAL:g.ItemLocation.SERVER,[4,this.prepareSync()];case 1:if(l.sent(),this.canceled)throw new y.InterruptedSyncError;return[4,this.getDiffs()];case 2:if(e=l.sent(),t=e.localDiff,r=e.serverDiff,v.default.log({localDiff:t,serverDiff:r}),this.canceled)throw new y.InterruptedSyncError;return this.direction===g.ItemLocation.SERVER?(n=t,o=r,a=this.server):(n=r,o=t,a=this.localTree),this.actionsPlanned=n.getActions().length+o.getActions().length,v.default.log({localTreeRoot:this.localTreeRoot,serverTreeRoot:this.serverTreeRoot,cacheTreeRoot:this.cacheTreeRoot}),[4,this.revertDiff(o,this.direction)];case 3:if(i=l.sent(),v.default.log({revertPlan:i}),this.direction===g.ItemLocation.LOCAL&&this.applyFailsafe(i),this.canceled)throw new y.InterruptedSyncError;return[4,this.execute(a,i,this.direction)];case 4:return i=l.sent(),[4,this.prepareSync()];case 5:if(l.sent(),v.default.log({localTreeRoot:this.localTreeRoot,serverTreeRoot:this.serverTreeRoot,cacheTreeRoot:this.cacheTreeRoot}),this.canceled)throw new y.InterruptedSyncError;return[4,this.reconcileDiffs(n,i,this.direction)];case 6:if((s=l.sent()).getActions(p.ActionType.UPDATE).forEach((function(e){e.oldItem=null})),u=this.mappings.getSnapshot(),(c=s.map(u,this.direction,(function(e){return e.type!==p.ActionType.REORDER&&e.type!==p.ActionType.MOVE}))).getActions(p.ActionType.MOVE).forEach((function(e){e.oldItem=null})),v.default.log({overridePlan:c}),this.direction===g.ItemLocation.LOCAL&&this.applyFailsafe(c),this.canceled)throw new y.InterruptedSyncError;return[4,this.execute(a,c,this.direction)];case 7:return c=l.sent(),[4,this.mappings.getSnapshot()];case 8:return u=l.sent(),f=this.reconcileReorderings(c,i,u).map(u,this.direction),"orderFolder"in a?[4,Promise.all([this.executeReorderings(a,f)])]:[3,10];case 9:l.sent(),l.label=10;case 10:return[2]}}))}))},t.prototype.revertDiff=function(e,t){return c(this,void 0,void 0,(function(){var r,n,o=this;return l(this,(function(i){switch(i.label){case 0:return[4,this.mappings.getSnapshot()];case 1:return r=i.sent(),n=new p.default,[4,h.each(e.getActions(),(function(e){return c(o,void 0,void 0,(function(){var o,i;return l(this,(function(s){switch(s.label){case 0:return e.type!==p.ActionType.REMOVE?[3,3]:[4,this.translateCompleteItem(e.payload,r,t)];case 1:return o=s.sent(),[4,this.translateCompleteItem(e.payload,r,t===g.ItemLocation.LOCAL?g.ItemLocation.SERVER:g.ItemLocation.LOCAL)];case 2:return i=s.sent(),o.createIndex(),i.createIndex(),n.commit(a(a({},e),{type:p.ActionType.CREATE,payload:o,oldItem:i})),[2];case 3:return e.type===p.ActionType.CREATE?(n.commit(a(a({},e),{type:p.ActionType.REMOVE})),[2]):e.type===p.ActionType.MOVE?((i=e.oldItem.clone(!1,t===g.ItemLocation.LOCAL?g.ItemLocation.SERVER:g.ItemLocation.LOCAL)).id=m.default.mapId(r,e.oldItem,i.location),i.parentId=m.default.mapParentId(r,e.oldItem,i.location),i.createIndex(),n.commit({type:p.ActionType.MOVE,payload:i,oldItem:e.payload}),[2]):(e.type===p.ActionType.UPDATE&&((o=e.oldItem.clone(!1,e.payload.location)).id=e.payload.id,o.parentId=e.payload.parentId,(i=e.payload.clone(!1,e.oldItem.location)).id=e.oldItem.id,i.parentId=e.oldItem.parentId,n.commit({type:p.ActionType.UPDATE,payload:o,oldItem:i})),[2])}}))}))}))];case 2:return i.sent(),[2,n]}}))}))},t.prototype.translateCompleteItem=function(e,t,r){return c(this,void 0,void 0,(function(){var n,o,a=this;return l(this,(function(i){switch(i.label){case 0:return(n=e.clone(!1,r)).id=m.default.mapId(t,e,r),n.parentId=m.default.mapParentId(t,e,r),n instanceof g.Folder?(o=[],[4,n.traverse((function(n,i){return c(a,void 0,void 0,(function(){return l(this,(function(a){return n.location=e.location,n.id=m.default.mapId(t,n,r),void 0===n.id&&o.push(n),n.parentId=i.id,n.location=r,[2]}))}))}))]):[3,2];case 1:return i.sent(),n.createIndex(),o.forEach((function(e){var t=n.findFolder(e.parentId);t.children=t.children.filter((function(e){return e.id}))})),[3,3];case 2:n.createIndex(),i.label=3;case 3:return[2,n]}}))}))},t}(d.default);t.default=b},19904:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,a){function i(e){try{u(n.next(e))}catch(e){a(e)}}function s(e){try{u(n.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,s)}u((n=n.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=s(r(83543)),c=s(r(45059)),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getDiffs=function(){return a(this,void 0,void 0,(function(){return i(this,(function(e){return[2,c.default.prototype.getDiffs.apply(this)]}))}))},t.prototype.loadChildren=function(){return a(this,void 0,void 0,(function(){var e;return i(this,(function(t){switch(t.label){case 0:return e=this,[4,this.server.getBookmarksTree(!0)];case 1:return e.serverTreeRoot=t.sent(),[2]}}))}))},t}(u.default);t.default=l},52511:function(e,t,r){var n;e=r.nmd(e),function(o){t&&t.nodeType,e&&e.nodeType;var a="object"==typeof r.g&&r.g;a.global!==a&&a.window!==a&&a.self;var i,s=2147483647,u=36,c=/^xn--/,l=/[^\x20-\x7E]/,f=/[\x2E\u3002\uFF0E\uFF61]/g,d={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},p=Math.floor,h=String.fromCharCode;function m(e){throw RangeError(d[e])}function g(e,t){for(var r=e.length,n=[];r--;)n[r]=t(e[r]);return n}function v(e,t){var r=e.split("@"),n="";return r.length>1&&(n=r[0]+"@",e=r[1]),n+g((e=e.replace(f,".")).split("."),t).join(".")}function y(e){for(var t,r,n=[],o=0,a=e.length;o<a;)(t=e.charCodeAt(o++))>=55296&&t<=56319&&o<a?56320==(64512&(r=e.charCodeAt(o++)))?n.push(((1023&t)<<10)+(1023&r)+65536):(n.push(t),o--):n.push(t);return n}function b(e){return g(e,(function(e){var t="";return e>65535&&(t+=h((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+h(e)})).join("")}function w(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function E(e,t,r){var n=0;for(e=r?p(e/700):e>>1,e+=p(e/t);e>455;n+=u)e=p(e/35);return p(n+36*e/(e+38))}function k(e){var t,r,n,o,a,i,c,l,f,d,h,g=[],v=e.length,y=0,w=128,k=72;for((r=e.lastIndexOf("-"))<0&&(r=0),n=0;n<r;++n)e.charCodeAt(n)>=128&&m("not-basic"),g.push(e.charCodeAt(n));for(o=r>0?r+1:0;o<v;){for(a=y,i=1,c=u;o>=v&&m("invalid-input"),((l=(h=e.charCodeAt(o++))-48<10?h-22:h-65<26?h-65:h-97<26?h-97:u)>=u||l>p((s-y)/i))&&m("overflow"),y+=l*i,!(l<(f=c<=k?1:c>=k+26?26:c-k));c+=u)i>p(s/(d=u-f))&&m("overflow"),i*=d;k=E(y-a,t=g.length+1,0==a),p(y/t)>s-w&&m("overflow"),w+=p(y/t),y%=t,g.splice(y++,0,w)}return b(g)}function L(e){var t,r,n,o,a,i,c,l,f,d,g,v,b,k,L,_=[];for(v=(e=y(e)).length,t=128,r=0,a=72,i=0;i<v;++i)(g=e[i])<128&&_.push(h(g));for(n=o=_.length,o&&_.push("-");n<v;){for(c=s,i=0;i<v;++i)(g=e[i])>=t&&g<c&&(c=g);for(c-t>p((s-r)/(b=n+1))&&m("overflow"),r+=(c-t)*b,t=c,i=0;i<v;++i)if((g=e[i])<t&&++r>s&&m("overflow"),g==t){for(l=r,f=u;!(l<(d=f<=a?1:f>=a+26?26:f-a));f+=u)L=l-d,k=u-d,_.push(h(w(d+L%k,0))),l=p(L/k);_.push(h(w(l,0))),a=E(r,b,n==o),r=0,++n}++r,++t}return _.join("")}i={version:"1.3.2",ucs2:{decode:y,encode:b},decode:k,encode:L,toASCII:function(e){return v(e,(function(e){return l.test(e)?"xn--"+L(e):e}))},toUnicode:function(e){return v(e,(function(e){return c.test(e)?k(e.slice(4).toLowerCase()):e}))}},void 0===(n=function(){return i}.call(t,r,t,e))||(e.exports=n)}()},8575:(e,t,r)=>{"use strict";var n=r(52511),o=r(62502);function a(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}t.parse=b,t.resolve=function(e,t){return b(e,!1,!0).resolve(t)},t.resolveObject=function(e,t){return e?b(e,!1,!0).resolveObject(t):t},t.format=function(e){return o.isString(e)&&(e=b(e)),e instanceof a?e.format():a.prototype.format.call(e)},t.Url=a;var i=/^([a-z0-9.+-]+:)/i,s=/:[0-9]*$/,u=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,c=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),l=["'"].concat(c),f=["%","/","?",";","#"].concat(l),d=["/","?","#"],p=/^[+a-z0-9A-Z_-]{0,63}$/,h=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,m={javascript:!0,"javascript:":!0},g={javascript:!0,"javascript:":!0},v={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},y=r(17673);function b(e,t,r){if(e&&o.isObject(e)&&e instanceof a)return e;var n=new a;return n.parse(e,t,r),n}a.prototype.parse=function(e,t,r){if(!o.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var a=e.indexOf("?"),s=-1!==a&&a<e.indexOf("#")?"?":"#",c=e.split(s);c[0]=c[0].replace(/\\/g,"/");var b=e=c.join(s);if(b=b.trim(),!r&&1===e.split("#").length){var w=u.exec(b);if(w)return this.path=b,this.href=b,this.pathname=w[1],w[2]?(this.search=w[2],this.query=t?y.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var E=i.exec(b);if(E){var k=(E=E[0]).toLowerCase();this.protocol=k,b=b.substr(E.length)}if(r||E||b.match(/^\/\/[^@\/]+@[^@\/]+/)){var L="//"===b.substr(0,2);!L||E&&g[E]||(b=b.substr(2),this.slashes=!0)}if(!g[E]&&(L||E&&!v[E])){for(var _,S,A=-1,x=0;x<d.length;x++)-1!==(T=b.indexOf(d[x]))&&(-1===A||T<A)&&(A=T);for(-1!==(S=-1===A?b.lastIndexOf("@"):b.lastIndexOf("@",A))&&(_=b.slice(0,S),b=b.slice(S+1),this.auth=decodeURIComponent(_)),A=-1,x=0;x<f.length;x++){var T;-1!==(T=b.indexOf(f[x]))&&(-1===A||T<A)&&(A=T)}-1===A&&(A=b.length),this.host=b.slice(0,A),b=b.slice(A),this.parseHost(),this.hostname=this.hostname||"";var O="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!O)for(var I=this.hostname.split(/\./),R=(x=0,I.length);x<R;x++){var D=I[x];if(D&&!D.match(p)){for(var P="",C=0,F=D.length;C<F;C++)D.charCodeAt(C)>127?P+="x":P+=D[C];if(!P.match(p)){var j=I.slice(0,x),U=I.slice(x+1),N=D.match(h);N&&(j.push(N[1]),U.unshift(N[2])),U.length&&(b="/"+U.join(".")+b),this.hostname=j.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),O||(this.hostname=n.toASCII(this.hostname));var M=this.port?":"+this.port:"",B=this.hostname||"";this.host=B+M,this.href+=this.host,O&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==b[0]&&(b="/"+b))}if(!m[k])for(x=0,R=l.length;x<R;x++){var z=l[x];if(-1!==b.indexOf(z)){var V=encodeURIComponent(z);V===z&&(V=escape(z)),b=b.split(z).join(V)}}var q=b.indexOf("#");-1!==q&&(this.hash=b.substr(q),b=b.slice(0,q));var G=b.indexOf("?");if(-1!==G?(this.search=b.substr(G),this.query=b.substr(G+1),t&&(this.query=y.parse(this.query)),b=b.slice(0,G)):t&&(this.search="",this.query={}),b&&(this.pathname=b),v[k]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){M=this.pathname||"";var W=this.search||"";this.path=M+W}return this.href=this.format(),this},a.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",r=this.pathname||"",n=this.hash||"",a=!1,i="";this.host?a=e+this.host:this.hostname&&(a=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(a+=":"+this.port)),this.query&&o.isObject(this.query)&&Object.keys(this.query).length&&(i=y.stringify(this.query));var s=this.search||i&&"?"+i||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||v[t])&&!1!==a?(a="//"+(a||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):a||(a=""),n&&"#"!==n.charAt(0)&&(n="#"+n),s&&"?"!==s.charAt(0)&&(s="?"+s),t+a+(r=r.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(s=s.replace("#","%23"))+n},a.prototype.resolve=function(e){return this.resolveObject(b(e,!1,!0)).format()},a.prototype.resolveObject=function(e){if(o.isString(e)){var t=new a;t.parse(e,!1,!0),e=t}for(var r=new a,n=Object.keys(this),i=0;i<n.length;i++){var s=n[i];r[s]=this[s]}if(r.hash=e.hash,""===e.href)return r.href=r.format(),r;if(e.slashes&&!e.protocol){for(var u=Object.keys(e),c=0;c<u.length;c++){var l=u[c];"protocol"!==l&&(r[l]=e[l])}return v[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(e.protocol&&e.protocol!==r.protocol){if(!v[e.protocol]){for(var f=Object.keys(e),d=0;d<f.length;d++){var p=f[d];r[p]=e[p]}return r.href=r.format(),r}if(r.protocol=e.protocol,e.host||g[e.protocol])r.pathname=e.pathname;else{for(var h=(e.pathname||"").split("/");h.length&&!(e.host=h.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==h[0]&&h.unshift(""),h.length<2&&h.unshift(""),r.pathname=h.join("/")}if(r.search=e.search,r.query=e.query,r.host=e.host||"",r.auth=e.auth,r.hostname=e.hostname||e.host,r.port=e.port,r.pathname||r.search){var m=r.pathname||"",y=r.search||"";r.path=m+y}return r.slashes=r.slashes||e.slashes,r.href=r.format(),r}var b=r.pathname&&"/"===r.pathname.charAt(0),w=e.host||e.pathname&&"/"===e.pathname.charAt(0),E=w||b||r.host&&e.pathname,k=E,L=r.pathname&&r.pathname.split("/")||[],_=(h=e.pathname&&e.pathname.split("/")||[],r.protocol&&!v[r.protocol]);if(_&&(r.hostname="",r.port=null,r.host&&(""===L[0]?L[0]=r.host:L.unshift(r.host)),r.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===h[0]?h[0]=e.host:h.unshift(e.host)),e.host=null),E=E&&(""===h[0]||""===L[0])),w)r.host=e.host||""===e.host?e.host:r.host,r.hostname=e.hostname||""===e.hostname?e.hostname:r.hostname,r.search=e.search,r.query=e.query,L=h;else if(h.length)L||(L=[]),L.pop(),L=L.concat(h),r.search=e.search,r.query=e.query;else if(!o.isNullOrUndefined(e.search))return _&&(r.hostname=r.host=L.shift(),(O=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=O.shift(),r.host=r.hostname=O.shift())),r.search=e.search,r.query=e.query,o.isNull(r.pathname)&&o.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r;if(!L.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var S=L.slice(-1)[0],A=(r.host||e.host||L.length>1)&&("."===S||".."===S)||""===S,x=0,T=L.length;T>=0;T--)"."===(S=L[T])?L.splice(T,1):".."===S?(L.splice(T,1),x++):x&&(L.splice(T,1),x--);if(!E&&!k)for(;x--;x)L.unshift("..");!E||""===L[0]||L[0]&&"/"===L[0].charAt(0)||L.unshift(""),A&&"/"!==L.join("/").substr(-1)&&L.push("");var O,I=""===L[0]||L[0]&&"/"===L[0].charAt(0);return _&&(r.hostname=r.host=I?"":L.length?L.shift():"",(O=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=O.shift(),r.host=r.hostname=O.shift())),(E=E||r.host&&L.length)&&!I&&L.unshift(""),L.length?r.pathname=L.join("/"):(r.pathname=null,r.path=null),o.isNull(r.pathname)&&o.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=e.auth||r.auth,r.slashes=r.slashes||e.slashes,r.href=r.format(),r},a.prototype.parseHost=function(){var e=this.host,t=s.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},62502:e=>{"use strict";e.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},20384:e=>{e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},89539:(e,t,r)=>{var n=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),r={},n=0;n<t.length;n++)r[t[n]]=Object.getOwnPropertyDescriptor(e,t[n]);return r},o=/%[sdj%]/g;t.format=function(e){if(!v(e)){for(var t=[],r=0;r<arguments.length;r++)t.push(s(arguments[r]));return t.join(" ")}r=1;for(var n=arguments,a=n.length,i=String(e).replace(o,(function(e){if("%%"===e)return"%";if(r>=a)return e;switch(e){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(e){return"[Circular]"}default:return e}})),u=n[r];r<a;u=n[++r])m(u)||!w(u)?i+=" "+u:i+=" "+s(u);return i},t.deprecate=function(e,r){if("undefined"!=typeof process&&!0===process.noDeprecation)return e;if("undefined"==typeof process)return function(){return t.deprecate(e,r).apply(this,arguments)};var n=!1;return function(){if(!n){if(process.throwDeprecation)throw new Error(r);process.traceDeprecation?console.trace(r):console.error(r),n=!0}return e.apply(this,arguments)}};var a,i={};function s(e,r){var n={seen:[],stylize:c};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),h(r)?n.showHidden=r:r&&t._extend(n,r),y(n.showHidden)&&(n.showHidden=!1),y(n.depth)&&(n.depth=2),y(n.colors)&&(n.colors=!1),y(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=u),l(n,e,n.depth)}function u(e,t){var r=s.styles[t];return r?"["+s.colors[r][0]+"m"+e+"["+s.colors[r][1]+"m":e}function c(e,t){return e}function l(e,r,n){if(e.customInspect&&r&&L(r.inspect)&&r.inspect!==t.inspect&&(!r.constructor||r.constructor.prototype!==r)){var o=r.inspect(n,e);return v(o)||(o=l(e,o,n)),o}var a=function(e,t){if(y(t))return e.stylize("undefined","undefined");if(v(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}return g(t)?e.stylize(""+t,"number"):h(t)?e.stylize(""+t,"boolean"):m(t)?e.stylize("null","null"):void 0}(e,r);if(a)return a;var i=Object.keys(r),s=function(e){var t={};return e.forEach((function(e,r){t[e]=!0})),t}(i);if(e.showHidden&&(i=Object.getOwnPropertyNames(r)),k(r)&&(i.indexOf("message")>=0||i.indexOf("description")>=0))return f(r);if(0===i.length){if(L(r)){var u=r.name?": "+r.name:"";return e.stylize("[Function"+u+"]","special")}if(b(r))return e.stylize(RegExp.prototype.toString.call(r),"regexp");if(E(r))return e.stylize(Date.prototype.toString.call(r),"date");if(k(r))return f(r)}var c,w="",_=!1,S=["{","}"];return p(r)&&(_=!0,S=["[","]"]),L(r)&&(w=" [Function"+(r.name?": "+r.name:"")+"]"),b(r)&&(w=" "+RegExp.prototype.toString.call(r)),E(r)&&(w=" "+Date.prototype.toUTCString.call(r)),k(r)&&(w=" "+f(r)),0!==i.length||_&&0!=r.length?n<0?b(r)?e.stylize(RegExp.prototype.toString.call(r),"regexp"):e.stylize("[Object]","special"):(e.seen.push(r),c=_?function(e,t,r,n,o){for(var a=[],i=0,s=t.length;i<s;++i)T(t,String(i))?a.push(d(e,t,r,n,String(i),!0)):a.push("");return o.forEach((function(o){o.match(/^\d+$/)||a.push(d(e,t,r,n,o,!0))})),a}(e,r,n,s,i):i.map((function(t){return d(e,r,n,s,t,_)})),e.seen.pop(),function(e,t,r){return e.reduce((function(e,t){return t.indexOf("\n"),e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60?r[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1]:r[0]+t+" "+e.join(", ")+" "+r[1]}(c,w,S)):S[0]+w+S[1]}function f(e){return"["+Error.prototype.toString.call(e)+"]"}function d(e,t,r,n,o,a){var i,s,u;if((u=Object.getOwnPropertyDescriptor(t,o)||{value:t[o]}).get?s=u.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):u.set&&(s=e.stylize("[Setter]","special")),T(n,o)||(i="["+o+"]"),s||(e.seen.indexOf(u.value)<0?(s=m(r)?l(e,u.value,null):l(e,u.value,r-1)).indexOf("\n")>-1&&(s=a?s.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+s.split("\n").map((function(e){return"   "+e})).join("\n")):s=e.stylize("[Circular]","special")),y(i)){if(a&&o.match(/^\d+$/))return s;(i=JSON.stringify(""+o)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(i=i.substr(1,i.length-2),i=e.stylize(i,"name")):(i=i.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),i=e.stylize(i,"string"))}return i+": "+s}function p(e){return Array.isArray(e)}function h(e){return"boolean"==typeof e}function m(e){return null===e}function g(e){return"number"==typeof e}function v(e){return"string"==typeof e}function y(e){return void 0===e}function b(e){return w(e)&&"[object RegExp]"===_(e)}function w(e){return"object"==typeof e&&null!==e}function E(e){return w(e)&&"[object Date]"===_(e)}function k(e){return w(e)&&("[object Error]"===_(e)||e instanceof Error)}function L(e){return"function"==typeof e}function _(e){return Object.prototype.toString.call(e)}function S(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(e){if(y(a)&&(a=process.env.NODE_DEBUG||""),e=e.toUpperCase(),!i[e])if(new RegExp("\\b"+e+"\\b","i").test(a)){var r=process.pid;i[e]=function(){var n=t.format.apply(t,arguments);console.error("%s %d: %s",e,r,n)}}else i[e]=function(){};return i[e]},t.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=p,t.isBoolean=h,t.isNull=m,t.isNullOrUndefined=function(e){return null==e},t.isNumber=g,t.isString=v,t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=y,t.isRegExp=b,t.isObject=w,t.isDate=E,t.isError=k,t.isFunction=L,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=r(20384);var A=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function x(){var e=new Date,t=[S(e.getHours()),S(e.getMinutes()),S(e.getSeconds())].join(":");return[e.getDate(),A[e.getMonth()],t].join(" ")}function T(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){console.log("%s - %s",x(),t.format.apply(t,arguments))},t.inherits=r(35717),t._extend=function(e,t){if(!t||!w(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e};var O="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function I(e,t){if(!e){var r=new Error("Promise was rejected with a falsy value");r.reason=e,e=r}return t(e)}t.promisify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');if(O&&e[O]){var t;if("function"!=typeof(t=e[O]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,O,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var t,r,n=new Promise((function(e,n){t=e,r=n})),o=[],a=0;a<arguments.length;a++)o.push(arguments[a]);o.push((function(e,n){e?r(e):t(n)}));try{e.apply(this,o)}catch(e){r(e)}return n}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),O&&Object.defineProperty(t,O,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,n(e))},t.promisify.custom=O,t.callbackify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');function t(){for(var t=[],r=0;r<arguments.length;r++)t.push(arguments[r]);var n=t.pop();if("function"!=typeof n)throw new TypeError("The last argument must be of type Function");var o=this,a=function(){return n.apply(o,arguments)};e.apply(this,t).then((function(e){process.nextTick(a,null,e)}),(function(e){process.nextTick(I,e,a)}))}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),Object.defineProperties(t,n(e)),t}},52300:(e,t,r)=>{"use strict";r.r(t),r.d(t,{version:()=>n,VERSION:()=>o,atob:()=>R,atobPolyfill:()=>I,btoa:()=>y,btoaPolyfill:()=>v,fromBase64:()=>j,toBase64:()=>S,utob:()=>L,encode:()=>S,encodeURI:()=>A,encodeURL:()=>A,btou:()=>O,decode:()=>j,isValid:()=>U,fromUint8Array:()=>w,toUint8Array:()=>P,extendString:()=>M,extendUint8Array:()=>B,extendBuiltins:()=>z,Base64:()=>V});const n="3.6.0",o=n,a="function"==typeof atob,i="function"==typeof btoa,s="function"==typeof Buffer,u="function"==typeof TextDecoder?new TextDecoder:void 0,c="function"==typeof TextEncoder?new TextEncoder:void 0,l=[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="],f=(e=>{let t={};return e.forEach(((e,r)=>t[e]=r)),t})(l),d=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,p=String.fromCharCode.bind(String),h="function"==typeof Uint8Array.from?Uint8Array.from.bind(Uint8Array):(e,t=(e=>e))=>new Uint8Array(Array.prototype.slice.call(e,0).map(t)),m=e=>e.replace(/[+\/]/g,(e=>"+"==e?"-":"_")).replace(/=+$/m,""),g=e=>e.replace(/[^A-Za-z0-9\+\/]/g,""),v=e=>{let t,r,n,o,a="";const i=e.length%3;for(let i=0;i<e.length;){if((r=e.charCodeAt(i++))>255||(n=e.charCodeAt(i++))>255||(o=e.charCodeAt(i++))>255)throw new TypeError("invalid character found");t=r<<16|n<<8|o,a+=l[t>>18&63]+l[t>>12&63]+l[t>>6&63]+l[63&t]}return i?a.slice(0,i-3)+"===".substring(i):a},y=i?e=>btoa(e):s?e=>Buffer.from(e,"binary").toString("base64"):v,b=s?e=>Buffer.from(e).toString("base64"):e=>{let t=[];for(let r=0,n=e.length;r<n;r+=4096)t.push(p.apply(null,e.subarray(r,r+4096)));return y(t.join(""))},w=(e,t=!1)=>t?m(b(e)):b(e),E=e=>{if(e.length<2)return(t=e.charCodeAt(0))<128?e:t<2048?p(192|t>>>6)+p(128|63&t):p(224|t>>>12&15)+p(128|t>>>6&63)+p(128|63&t);var t=65536+1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320);return p(240|t>>>18&7)+p(128|t>>>12&63)+p(128|t>>>6&63)+p(128|63&t)},k=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,L=e=>e.replace(k,E),_=s?e=>Buffer.from(e,"utf8").toString("base64"):c?e=>b(c.encode(e)):e=>y(L(e)),S=(e,t=!1)=>t?m(_(e)):_(e),A=e=>S(e,!0),x=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,T=e=>{switch(e.length){case 4:var t=((7&e.charCodeAt(0))<<18|(63&e.charCodeAt(1))<<12|(63&e.charCodeAt(2))<<6|63&e.charCodeAt(3))-65536;return p(55296+(t>>>10))+p(56320+(1023&t));case 3:return p((15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2));default:return p((31&e.charCodeAt(0))<<6|63&e.charCodeAt(1))}},O=e=>e.replace(x,T),I=e=>{if(e=e.replace(/\s+/g,""),!d.test(e))throw new TypeError("malformed base64.");e+="==".slice(2-(3&e.length));let t,r,n,o="";for(let a=0;a<e.length;)t=f[e.charAt(a++)]<<18|f[e.charAt(a++)]<<12|(r=f[e.charAt(a++)])<<6|(n=f[e.charAt(a++)]),o+=64===r?p(t>>16&255):64===n?p(t>>16&255,t>>8&255):p(t>>16&255,t>>8&255,255&t);return o},R=a?e=>atob(g(e)):s?e=>Buffer.from(e,"base64").toString("binary"):I,D=s?e=>h(Buffer.from(e,"base64")):e=>h(R(e),(e=>e.charCodeAt(0))),P=e=>D(F(e)),C=s?e=>Buffer.from(e,"base64").toString("utf8"):u?e=>u.decode(D(e)):e=>O(R(e)),F=e=>g(e.replace(/[-_]/g,(e=>"-"==e?"+":"/"))),j=e=>C(F(e)),U=e=>{if("string"!=typeof e)return!1;const t=e.replace(/\s+/g,"").replace(/=+$/,"");return!/[^\s0-9a-zA-Z\+/]/.test(t)||!/[^\s0-9a-zA-Z\-_]/.test(t)},N=e=>({value:e,enumerable:!1,writable:!0,configurable:!0}),M=function(){const e=(e,t)=>Object.defineProperty(String.prototype,e,N(t));e("fromBase64",(function(){return j(this)})),e("toBase64",(function(e){return S(this,e)})),e("toBase64URI",(function(){return S(this,!0)})),e("toBase64URL",(function(){return S(this,!0)})),e("toUint8Array",(function(){return P(this)}))},B=function(){const e=(e,t)=>Object.defineProperty(Uint8Array.prototype,e,N(t));e("toBase64",(function(e){return w(this,e)})),e("toBase64URI",(function(){return w(this,!0)})),e("toBase64URL",(function(){return w(this,!0)}))},z=()=>{M(),B()},V={version:n,VERSION:o,atob:R,atobPolyfill:I,btoa:y,btoaPolyfill:v,fromBase64:j,toBase64:S,encode:S,encodeURI:A,encodeURL:A,utob:L,btou:O,decode:j,isValid:U,fromUint8Array:w,toUint8Array:P,extendString:M,extendUint8Array:B,extendBuiltins:z}},4533:e=>{"use strict";e.exports=JSON.parse('{"Error001":{"message":"E001: Folder to create in doesn\'t exist"},"Error002":{"message":"E002: Bookmark to update doesn\'t exist anymore"},"Error003":{"message":"E003: Folder to move out of doesn\'t exist. This is an anomaly. Congratulations."},"Error004":{"message":"E004: Folder to move into doesn\'t exist"},"Error005":{"message":"E005: Folder to create in doesn\'t exist"},"Error006":{"message":"E006: Folder to update doesn\'t exist"},"Error007":{"message":"E007: Folder to move doesn\'t exist"},"Error008":{"message":"E008: Folder to move out of doesn\'t exist"},"Error009":{"message":"E009: Folder to move into doesn\'t exist"},"Error010":{"message":"E010: Could not find folder to order"},"Error011":{"message":"E011: Item in folder ordering is not an actual child: {0}"},"Error012":{"message":"E012: Folder ordering is missing some of the folder\'s children"},"Error013":{"message":"E013: Folder to remove doesn\'t exist"},"Error014":{"message":"E014: Parent folder to remove folder from of doesn\'t exist"},"Error015":{"message":"E015: Unexpected response data from server"},"Error016":{"message":"E016: Request timed out. Check your server configuration"},"Error017":{"message":"E017: Network error: Check your network connection and your account details"},"Error018":{"message":"E018: Couldn\'t authenticate with the server."},"Error019":{"message":"E019: HTTP status {0}. Failed {1} request. Check your server configuration and log."},"Error020":{"message":"E020: Could not parse server response. Is the bookmarks app installed on your server?"},"Error021":{"message":"E021: Inconsistent server state. Folder is present in childorder list but not in folder tree"},"Error022":{"message":"E022: Folder {0} supposedly contains non-existent bookmark {1}"},"Error023":{"message":"E023: Unable to clear lock file, consider deleting {0} manually."},"Error024":{"message":"E024: HTTP status {0} while trying to determine status of lock file {1}"},"Error025":{"message":"E025: Bookmarks file setting mustn\'t begin with a slash: \'/\'"},"Error026":{"message":"E026: HTTP status {0}. Failed to fetch bookmarks"},"Error027":{"message":"E027: Sync process was interrupted"},"Error028":{"message":"E028: Couldn\'t authenticate with the server."},"Error029":{"message":"E029: Failsafe: The current sync run would delete {0}% of your bookmarks. Refusing to execute. Disable this failsafe in the account settings if you want to proceed anyway."},"Error030":{"message":"E030: Failed to decrypt bookmarks file. The passphrase may be wrong or the file may be corrupted."},"Error031":{"message":"E031: Could not authenticate with Google Drive. Please connect floccus with your google account again."},"Error032":{"message":"E032: OAuth error. Token validation error. Please reconnect your Google Account."},"Error033":{"message":"E033: Redirect detected. Please make sure the server supports the selected sync method and URL you entered is correct doesn\'t redirect to a different location. If the redirect is part of your setup, you can disable this check in the settings."},"Error034":{"message":"E034: Bookmarks file is unreadable. Did you forget to set an encryption passphrase?"},"LabelWebdavurl":{"message":"WebDAV URL"},"DescriptionWebdavurl":{"message":"e.g. with nextcloud: https://example.com/remote.php/webdav/"},"LabelNextcloudurl":{"message":"Nextcloud URL"},"LabelUsername":{"message":"Username"},"LabelPassword":{"message":"Password"},"LabelBookmarksfile":{"message":"Bookmarks file path"},"DescriptionBookmarksfile":{"message":"a path to the bookmarks file relative to your WebDAV URL (all folders in the path must already exist). e.g. personal_stuff/bookmarks.xbel"},"DescriptionBookmarksfilegoogle":{"message":"the file name of the bookmarks file that will reside in your Google Drive (make sure this name is unique in your Drive)"},"LabelServerfolder":{"message":"Server folder"},"DescriptionServerfolder":{"message":"This is the path prefix under which this account will operate on the server. Leave this empty to use no prefix at all."},"LabelLocalfolder":{"message":"Local folder"},"DescriptionLocalfolder":{"message":"This is the local bookmarks folder in this browser that will be synced to the server. Note that some browser don\'t allow creating new items under the root folder (e.g. Firefox and Google Chrome)"},"LabelRootfolder":{"message":"Root folder"},"LabelNewfolder":{"message":"Newly created folder"},"LabelOptions":{"message":"Options"},"LabelSyncnow":{"message":"Sync now"},"LabelCancelsync":{"message":"Cancel sync"},"LabelAutosync":{"message":"Auto-sync"},"StatusLastsynced":{"message":"Last synchronized: {0} ago"},"StatusNeversynced":{"message":"Not synchronized, yet"},"StatusAllgood":{"message":"All good"},"StatusDisabled":{"message":"Disabled"},"StatusError":{"message":"Error"},"StatusSyncing":{"message":"Syncing"},"LabelReset":{"message":"Reset"},"DescriptionReset":{"message":"Reset synchronized folder to create a new one"},"LabelChoosefolder":{"message":"Choose folder"},"DescriptionChoosefolder":{"message":"Set an existing folder to sync"},"LabelRemoveaccount":{"message":"Remove account"},"DescriptionRemoveaccount":{"message":"Delete this account (this will not remove your bookmarks)"},"LabelResetCache":{"message":"Trigger sync from scratch"},"DescriptionResetcache":{"message":"Tick this box to reset the cache so that the next synchronization run is guaranteed not to delete any data and merely merges server and local bookmarks together"},"LabelParallelsync":{"message":"Speed up synchronization"},"DescriptionParallelsync":{"message":"Tick this box to process multiple folders in parallel in order to speed the synchronization. This feature is experimental and makes it harder to read the debug logs."},"LabelStrategy":{"message":"Synchronization strategy"},"DescriptionStrategy":{"message":"This option determines how to synchronize the bookmarks tree on the server with the one in this browser. Usually you will want to keep changes to both trees if they are compatible, but sometimes you might want to force the local version onto the server, or vice versa."},"LabelStrategydefault":{"message":"Merge local and remote changes (recommended)"},"LabelStrategyslave":{"message":"Always revert local changes and pull upstream remote changes"},"LabelStrategyoverwrite":{"message":"Always revert upstream remote changes and push local changes"},"LabelSave":{"message":"Save"},"LabelCancel":{"message":"Cancel"},"LabelAdapternextcloudfolders":{"message":"Nextcloud Bookmarks"},"DescriptionAdapternextcloudfolders":{"message":"The option \'Nextcloud Bookmarks\' is compatible with at least version v0.14 of the Bookmarks app. It can only sync http and ftp bookmarks."},"LabelAdapternextcloud":{"message":"Nextcloud Bookmarks (legacy)"},"DescriptionAdapternextcloud":{"message":"The legacy option is compatible with at least version v0.11 of the Bookmarks app. It will emulate folders using tags containing the folder path. It is not recommended to use this for new accounts."},"LabelAdapterwebdav":{"message":"XBEL file in WebDAV share"},"DescriptionAdapterwebdav":{"message":"The WebDAV option syncs your bookmarks by storing them in an XBEL file in the provided WebDAV share. There is no accompanying web UI for this option and you can use it with any WebDAV-compatible server. It can sync http, ftp, data and javascript bookmarks."},"LabelAddaccount":{"message":"Add account"},"LabelSecurecredentials":{"message":"Secure your credentials"},"LabelSecuredcredentials":{"message":"Your credentials are secure"},"LabelOpenintab":{"message":"Open in tab"},"LabelDebuglogs":{"message":"Debug logs"},"LabelFunddevelopment":{"message":"Fund development"},"DescriptionFunddevelopment":{"message":"Work on floccus is fuelled by a voluntary subscription model. If you think what I do is worthwhile, and if you can spare a few coins each month without hardship, please support my work. Also, please consider giving floccus a rating on the addon store of your choice. Thank you!"},"LabelSelect":{"message":"Select"},"LabelUntitledfolder":{"message":"Untitled folder"},"LabelSetkey":{"message":"Set a pass phrase for floccus"},"DescriptionSetkey":{"message":"When you set a pass phrase you will have to enter this pass phrase everytime you start your browser if you want to access and synchronize your bookmarks."},"LabelKey":{"message":"Enter your unlock passphrase"},"LabelKey2":{"message":"Enter your passphrase a second time"},"LabelUnlock":{"message":"Unlock floccus"},"LabelRemovekey":{"message":"Remove pass phrase"},"LabelRemovedkey":{"message":"Pass phrase removed"},"LabelSyncinterval":{"message":"Synchronization interval"},"DescriptionSyncinterval":{"message":"The timespan between two sync runs in minutes. Default is 15 minutes."},"LabelChooseadapter":{"message":"How do you want to sync?"},"LabelOptionsscreen":{"message":"{0} options","description":"Title of the options screen. The placeholder holds the account type."},"LabelPaypal":{"message":"Paypal"},"DescriptionPaypal":{"message":"Make a one-time donation via paypal to support the project"},"LabelOpencollective":{"message":"OpenCollective"},"DescriptionOpencollective":{"message":"Make a regular donation via OpenCollective to support the project"},"LabelLiberapay":{"message":"Liberapay"},"DescriptionLiberapay":{"message":"Make a regular donation via Liberapay to support the project"},"LabelGithubsponsors":{"message":"GitHub sponsors"},"DescriptionGithubsponsors":{"message":"Make a regular donation via GitHub sponsors to support the project"},"LegacyAdapterDeprecation":{"message":"This legacy account type is deprecated and will soon be removed. Please switch to the new nextcloud sync method. Improved performance and accuracy await you."},"LabelUpdated":{"message":"Floccus was updated"},"DescriptionUpdated":{"message":"Congrats, the latest update of floccus has arrived on your machine!"},"LabelReleaseNotes":{"message":"Read release notes"},"LabelOptionsServerDetails":{"message":"Server details"},"LabelOptionsFolderMapping":{"message":"Folder mapping"},"LabelOptionsSyncBehavior":{"message":"Sync behavior"},"LabelOptionsDangerous":{"message":"Dangerous actions"},"LabelAccountDeleted":{"message":"Account deleted"},"DescriptionAccountDeleted":{"message":"This account was deleted"},"LabelNoAccount":{"message":"No accounts here"},"DescriptionNoAccount":{"message":"Create a new account to sync your bookmarks or import accounts from a different device or browser."},"LabelLoginFlowStart":{"message":"Sign in with Nextcloud login flow"},"LabelLoginFlowStop":{"message":"Abort Nextcloud login flow"},"LabelLoginFlowError":{"message":"Nextcloud login flow failed."},"LabelNewAccount":{"message":"New Account"},"LabelNestedSync":{"message":"Nested accounts"},"DescriptionNestedSync":{"message":"You can nest accounts so that a parent folder belongs to account A and a sub folder to account A and B. Do you want to allow other accounts to sync this account\'s folder as well?"},"LabelNestedSyncNo":{"message":"No, ignore this account\'s folder in other accounts"},"LabelNestedSyncYes":{"message":"Yes, include this account\'s folder in other accounts"},"LabelImportExport":{"message":"Import/Export Accounts"},"LabelExport":{"message":"Export accounts"},"LabelImport":{"message":"Import accounts"},"DescriptionExport":{"message":"Select accounts below that you would like to export to a file, so you can easily re-create the same accounts on a different device or browser."},"DescriptionImport":{"message":"Import a file with exported accounts here to re-create accounts exported on a different device or browser. Please make sure to set the correct sync folders again after importing."},"LabelFolderNotFound":{"message":"Folder not found"},"LabelSyncTabs":{"message":"Sync Tabs"},"LabelTabs":{"message":"Tabs"},"LabelSyncDown":{"message":"Pull sync"},"LabelSyncUp":{"message":"Push sync"},"LabelSyncDownOnce":{"message":"Pull sync once"},"LabelSyncUpOnce":{"message":"Push sync once"},"LabelSyncNormal":{"message":"Normal sync"},"DescriptionFilesPermission":{"message":"Make sure you give floccus permission to not only use the bookmarks app but the Nextcloud files app as well."},"DescriptionExtension":{"message":"Sync your bookmarks across browsers via Nextcloud, WebDAV or Google Drive"},"LabelFailsafe":{"message":"Failsafe"},"DescriptionFailsafe":{"message":"Sometimes configuration errors or software bugs can cause the unintended removal of data, which is then lost. To prevent that from happening, floccus will not delete more than 50% of your bookmarks in one go unless you disable this failsafe here."},"LabelFailsafeon":{"message":"Enabled. Don\'t delete more than 50% of my local bookmarks without asking me first. (Recommended)"},"LabelFailsafeoff":{"message":"Disabled. Allow the removal of more than 50% of my local bookmarks without confirming with me."},"StatusFailsafeoff":{"message":"Failsafe disabled. You are at risk for unintended data loss. It is recommended to enable the failsafe in the account settings."},"LabelAdaptergoogledrive":{"message":"Google Drive"},"DescriptionAdaptergoogledrive":{"message":"Sync bookmarks via an encrypted file that is stored in your Google Drive. It can sync http, ftp, data and javascript bookmarks."},"LabelLogingoogle":{"message":"Login with Google"},"DescriptionLogingoogle":{"message":"Connect your Google account to store the bookmark sync file in your Google Drive."},"DescriptionLoggedingoogle":{"message":"You have connected your Google account to store the bookmark sync file in your Google Drive."},"LabelPassphrase":{"message":"Passphrase"},"DescriptionPassphrase":{"message":"Set a passphrase for encrypting your bookmarks file, if you set no passphrase, no encryption will be run."},"LabelClientcert":{"message":"Send client credentials"},"DescriptionClientcert":{"message":"Enable this option if your server requires a client certificate or cookies for authentication. This may cause unintended side effects, as floccus will share cookies with your normal browser profile."},"LabelAllowredirects":{"message":"Allow redirects in Server URL"},"DescriptionAllowredirects":{"message":"Enable this option, if you get redirect errors during syncing, which you believe to be unwarranted."},"LabelSearch":{"message":"Search bookmarks"},"LabelSearchfolder":{"message":"Search {0}"},"LabelEdititem":{"message":"Edit"},"LabelDeleteitem":{"message":"Delete"},"LabelNobookmarks":{"message":"No bookmarks here"},"LabelAddbookmark":{"message":"Add bookmark"},"LabelEditbookmark":{"message":"Edit bookmark"},"LabelAddfolder":{"message":"Add folder"},"LabelEditfolder":{"message":"Edit folder"},"LabelSlugline":{"message":"Private Bookmark Sync"}}')},86200:e=>{"use strict";e.exports=JSON.parse('{"Error001":{"message":"E001: Der Ordner, in dem neu erzeugt werden soll, existiert nicht"},"Error002":{"message":"E002: Zu aktualisierendes Lesezeichen existiert nicht"},"Error003":{"message":"E003: Ordner aus dem herausgeschoben werden soll existiert nicht. Dies ist eine Anomalie. Herzlichen Glckwunsch."},"Error004":{"message":"E004: Ordner in den verschoben werden soll existiert nicht"},"Error005":{"message":"E005: Ordner in dem erzeugt werden soll existiert nicht"},"Error006":{"message":"E006: Zu aktualisierender Ordner existiert nicht "},"Error007":{"message":"E007: Zu verschiebender Ordner existiert nicht"},"Error008":{"message":"E008: Der Ordner, aus dem herausgeschoben werden soll, existiert nicht."},"Error009":{"message":"E009: Ordner in den verschoben werden soll existiert nicht"},"Error010":{"message":"E010: Zu ordnender Ordner konnte nicht gefunden werden"},"Error011":{"message":"E011: Der Eintrag in der Ordner-Ordnung ist kein Kind des Ordners: {0}"},"Error012":{"message":"E012: Der Ordner-Ordnung fehlen einige Kinder des Ordners"},"Error013":{"message":"E013: Zu lschender Ordner existiert nicht"},"Error014":{"message":"E014: Elternordner aus dem gelscht werden soll existiert nicht mehr"},"Error015":{"message":"E015: Unerwartete Antwortdaten vom Server erhalten"},"Error016":{"message":"E016: Zeitberschreitung einer Anfrage. berprfen Sie die Server-Konfiguration"},"Error017":{"message":"E017: Netzwerk-Fehler: berprfen sie Ihre Netzwerkverbindung und die eingegebenen Konto-Daten"},"Error018":{"message":"E018: Konnte nicht am Server authentifiziert werden."},"Error019":{"message":"E019: HTTP Status {0}. Anfrage vom Typ {1}  fehlgeschlagen. berprfen Sie die Server-Konfiguration und das Server-Log"},"Error020":{"message":"E020: Antwort des Servers konnte nicht gelesen werden. Ist die Bookmarks App auf Ihrem Server installiert?"},"Error021":{"message":"E021: Inkonsistenter Server-Zustand. Ein Ordner ist in der Kind-Ordnung enthalten, aber nicht im Ordner-Baum."},"Error022":{"message":"E022: Ordner {0} enhlt angeblich ein nicht existierendes Lesezeichen: {1}"},"Error023":{"message":"E023: Freigabe der Lock-Datei war nicht erfolgreich. Erwgen Sie {0} von Hand zu lschen."},"Error024":{"message":"E024: HTTP status {0} whrend des Ermittelns des Status der Lock-Datei {1}"},"Error025":{"message":"E025: Die Einstellung der Bookmarks Datei darf nicht mit einem Schrgstrich beginnen: \'/\'"},"Error026":{"message":"E026: HTTP status {0}. Fehler beim laden der Lesezeichen"},"Error027":{"message":"E027: Der Synchronisierungsprozess wurde unterbrochen"},"Error028":{"message":"E028: Konnte nicht am Server authentifiziert werden. Falls Sie 2FA nutzen stellen Sie sicher auch Zugriff auf alle Dateien zu gewhren."},"LabelWebdavurl":{"message":"WebDAV URL"},"DescriptionWebdavurl":{"message":"z.B. mit Nextcloud: https://ihre-domain.com/remote.php/webdav/"},"LabelNextcloudurl":{"message":"Nextcloud URL"},"LabelUsername":{"message":"Benutzername"},"LabelPassword":{"message":"Passwort"},"LabelBookmarksfile":{"message":"Pfad zur Bookmark-Datei"},"DescriptionBookmarksfile":{"message":"ein Pfad zur Bookmarks-Datei relativ zur WebDAV URL (alle Ordner darin mssen bereits existieren). z.B. persnlich/lesezeichen.xbel (Kein Schrgstrich am Anfang!)"},"LabelServerfolder":{"message":"Server-Ordner"},"DescriptionServerfolder":{"message":"Das Pfad-Prfix unter welchem dieses Konto auf dem Server agiert. Wenn Sie z.B. \'/arbeit\' eingeben, werden alle Lesezeichen auf dem Server mit diesem Pfad als Prfix zu ihrem eigentlichen Pfad angelegt. Dies erlaubt Ihnen Ihre Lesezeichen auf dem Server in verschiedene Profile aufzuteilen. Lassen Sie dieses Feld leer, um kein Prfix zu setzen."},"LabelLocalfolder":{"message":"Lokaler Ordner"},"DescriptionLocalfolder":{"message":"Der lokale Lesezeichen-Ordner in diesem Browser, der mit dem Server synchronisiert wird. Per Default wird ein neuer Ordner fr Sie angelegt. (Hinweis: Es ist nun mglich das Wurzel-Verzeichnis zwischen verschiedenen Browser-Typen direkt zu synchronisieren.) "},"LabelRootfolder":{"message":"Wurzel-Ordner"},"LabelOptions":{"message":"Optionen"},"LabelSyncnow":{"message":"Jetzt synchronisieren"},"LabelCancelsync":{"message":"Abbrechen"},"LabelEnabled":{"message":"Aktiviert"},"StatusLastsynced":{"message":"Zuletzt synchronisiert: vor {0}"},"StatusNeversynced":{"message":"Noch nie synchronisiert."},"StatusAllgood":{"message":"Alles gut"},"StatusDisabled":{"message":"Deaktiviert"},"StatusError":{"message":"Fehler"},"StatusSyncing":{"message":"Synchronisiere"},"LabelReset":{"message":"Zurcksetzen"},"DescriptionReset":{"message":"Setzen Sie den synchronisierten Ordner zurck um einen neuen generieren zu lassen"},"LabelChoosefolder":{"message":"Ordner whlen"},"DescriptionChoosefolder":{"message":"Setzen Sie einen existierenden Ordner, der synchronisiert werden soll"},"LabelRemoveaccount":{"message":"Konto entfernen"},"DescriptionRemoveaccount":{"message":"Lsche dieses Konto (lscht keine Lesezeichen)"},"LabelResetCache":{"message":"Neue Synchronisierung von Grund auf auslsen"},"DescriptionResetcache":{"message":"Setzen SIe diesen Haken, um den Cache zurckzusetzen, sodass die nchste Synchronisierung garantiert keine Lesezeichen lscht, sondern lediglich Server und Lokale Lesezeichen vereinigt"},"LabelParallelsync":{"message":"Synchronisierung beschleunigen"},"DescriptionParallelsync":{"message":"Setzen Sie diesen Haken um mehrere Ordner parallel abzuarbeiten und so die Synchronisierung zu beschleunigen. Dieses Feature ist experimentell und macht es schwieriger die Debug Logs zu lesen."},"LabelStrategy":{"message":"Synchronisationsstrategie"},"DescriptionStrategy":{"message":"Diese Option bestimmt wie der Lesezeichenbaum auf dem Server mit dem im Browser synchronisiert wird. Normalerweise will man nderungen von beiden Seiten behalten, sofern sie kompatibel sind, aber manchmal ist es ntig die lokale Version genau so auf den Server zu bertragen, oder anders herum."},"LabelStrategydefault":{"message":"Verschmelze lokale und vom Server kommende nderungen (empfohlen)"},"LabelStrategyslave":{"message":"Immer lokale nderungen verwerfen und vom Server kommende nderungen runterladen."},"LabelStrategyoverwrite":{"message":"Immer vom Server kommende nderungen verwerfen und lokale nderungen hochladen."},"LabelSave":{"message":"Speichern"},"LabelCancel":{"message":"Abbrechen"},"LabelAdapternextcloudfolders":{"message":"Nextcloud Bookmarks"},"DescriptionAdapternextcloudfolders":{"message":"Die Option \\"Nextcloud Bookmarks\\" ist kompatibel mit mindestens Version v0.14 der Bookmarks app."},"LabelAdapternextcloud":{"message":"Nextcloud Bookmarks (alte Version)"},"DescriptionAdapternextcloud":{"message":"Die Option Alte Version ist kompatibel mit mindestens Version v0.11 der Bookmarks app. Dabei werden Ordner mittels Tags simuliert, die den Ordner-Pfad enthalten. Es wird nicht empfohlen, diese Option fr neue Konten zu verwenden."},"LabelAdapterwebdav":{"message":"XBEL-Datei im WebDAV-Share"},"DescriptionAdapterwebdav":{"message":"Die WebDAV-Option synchronisiert Ihre Lesezeichen indem sie in einer XBEL-Datei im angegebenen WebDAV-Share gespeichert werden. Es gibt dafr kein entsprechendes Web Interface, aber die Option funktioniert mit jedem WebDAV-kompatiblen Server."},"LabelAddaccount":{"message":"Konto hinzufgen"},"LabelSecurecredentials":{"message":"Zugangsdaten absichern"},"LabelSecuredcredentials":{"message":"Deine Anmeldedaten sind sicher"},"LabelOpenintab":{"message":"In tab ffnen"},"LabelDebuglogs":{"message":"Debug-Logs"},"LabelFunddevelopment":{"message":"Entwicklung frdern"},"DescriptionFunddevelopment":{"message":"Ich nutze diese Gelegenheit, um Sie um eine Spende zu bitten um das Projekt zu untersttzen und am Laufen zu halten. Im Folgenden finden Sie die untersttzten Bezahldienste. Jeder Betrag, egal wie klein er auch sein mag, ist willkommen. Vielen Dank. "},"LabelSelect":{"message":"Auswhlen"},"LabelUntitledfolder":{"message":"Unbenannter Ordner"},"LabelSetkey":{"message":"Passwort fr floccus setzen"},"DescriptionSetkey":{"message":"Wenn Sie ein Passwort setzen, mssen sie dieses immer eingeben, wenn sie Ihren Browser starten, damit Lesezeichen synchronisiert werden."},"LabelKey":{"message":"Passwort zum entsperren eingeben"},"LabelKey2":{"message":"Passwort ein zweites Mal eingeben"},"LabelUnlock":{"message":"Floccus entsperren"},"LabelRemovekey":{"message":"Passwort lschen"},"LabelRemovedkey":{"message":"Passwort wurde gelscht"},"LabelSyncinterval":{"message":"Synchronisierungsintervall"},"DescriptionSyncinterval":{"message":"Die Zeitspanne zwischen zwei Synchronisierungslufen. Der Standard-Wert sind 15 Minuten."},"LabelChooseadapter":{"message":"Wie willst du synchronisieren?"},"LabelOptionsscreen":{"message":"{0} Optionen","description":"Title of the options screen. The placeholder holds the account type."},"LabelPaypal":{"message":"Paypal"},"DescriptionPaypal":{"message":"Ttige eine einmalige Spende ber Paypal um das Projekt zu untersttzen."},"LabelOpencollective":{"message":"OpenCollective"},"DescriptionOpencollective":{"message":"Ttige regelmige Spenden ber OpenCollective um das Projekt zu unterstzten."},"LabelLiberapay":{"message":"Liberapay"},"DescriptionLiberapay":{"message":"Ttige regelmige Spenden ber Liberapay um das Projekt zu untersttzen"},"LabelGithubsponsors":{"message":"GitHub sponsors"},"DescriptionGithubsponsors":{"message":"Ttige regelmige Spenden ber Github sponsors um das Projekt zu untersttzen"},"LegacyAdapterDeprecation":{"message":"Warnung! Dieser Konto-Typ ist veraltet und wird bald entfernt. Bitte wechseln Sie zur neuen Nextcloud Synchronisierungsmethode mit besserer Leistungsfhigkeit und Fehlerfreiheit. "},"LabelUpdated":{"message":"Floccus wurde aktualisiert"},"DescriptionUpdated":{"message":"Glckwunsch, das aktuellste floccus-Update befindet sich auf Ihrem Rechner! "},"LabelReleaseNotes":{"message":"Release-Notes lesen"},"LabelOptionsServerDetails":{"message":"Server Details"},"LabelOptionsFolderMapping":{"message":"Ordner Zuordnung"},"LabelOptionsSyncBehavior":{"message":"Synchronisationsverhalten"},"LabelOptionsDangerous":{"message":"Gefhrliche Funktionen"},"LabelAccountDeleted":{"message":"Konto gelscht"},"DescriptionAccountDeleted":{"message":"Dieses Konto wurde gelscht"},"LabelNoAccount":{"message":"Keine Konten vorhanden"},"DescriptionNoAccount":{"message":"Neuen Account erstellen um Lesezeichen zu synchronisieren."},"LabelLoginFlowStart":{"message":"Mit Nextcloud anmelden"},"LabelLoginFlowStop":{"message":"Anmeldung bei Nextcloud abbrechen"},"LabelLoginFlowError":{"message":"Anmeldung bei Nextcloud fehlgeschlagen."},"LabelNewAccount":{"message":"Neues Konto"},"LabelNestedSync":{"message":"Verschachtelte Konten"},"DescriptionNestedSync":{"message":"Sie knnen Konten so verschachtelen, dass ein bergeordneter Ordner zu einem Konto und ein untergeordneter Ordner zu einem anderen Konto gehrt. Wollen Sie den lokalen Ordner dieses Kontos im einer eventuell bergeordneten Ordnersynchronisation eines anderen Kontos einbetten?"},"LabelNestedSyncNo":{"message":"Schliee den lokalen Ordner dieses Kontos von anderen Synchronisationskonten aus"},"LabelNestedSyncYes":{"message":"Bette den lokalen Ordner dieses Kontos in andere Synchronisationskonten ein"},"LabelImportExport":{"message":" Konten Importieren/Exportieren"},"LabelExport":{"message":"Konten exportieren"},"LabelImport":{"message":"Konten importieren"},"LabelFolderNotFound":{"message":"Ordner nicht gefunden"},"LabelSyncTabs":{"message":"Synchronisiere Reiter"},"LabelTabs":{"message":"Reiter"},"LabelSyncDown":{"message":"Empfange vom Server"},"LabelSyncUp":{"message":"Sende zum Server"},"DescriptionFilesPermission":{"message":"Stellen Sie sicher, dass floccus sowohl ausreichende Berechtigungen fr die Nutzung der Lesezeichen App, als auch fr die Nexcloud Files App hat."}}')},75452:e=>{"use strict";e.exports=JSON.parse('{"Error001":{"message":"E001: Folder to create in doesn\'t exist"},"Error002":{"message":"E002: Bookmark to update doesn\'t exist anymore"},"Error003":{"message":"E003: Folder to move out of doesn\'t exist. This is an anomaly. Congratulations."},"Error004":{"message":"E004: Folder to move into doesn\'t exist"},"Error005":{"message":"E005: Folder to create in doesn\'t exist"},"Error006":{"message":"E006: Folder to update doesn\'t exist"},"Error007":{"message":"E007: Folder to move doesn\'t exist"},"Error008":{"message":"E008: Folder to move out of doesn\'t exist"},"Error009":{"message":"E009: Folder to move into doesn\'t exist"},"Error010":{"message":"E010: Could not find folder to order"},"Error011":{"message":"E011: Item in folder ordering is not an actual child: {0}"},"Error012":{"message":"E012: Folder ordering is missing some of the folder\'s children"},"Error013":{"message":"E013: Folder to remove doesn\'t exist"},"Error014":{"message":"E014: Parent folder to remove folder from of doesn\'t exist"},"Error015":{"message":"E015: Unexpected response data from server"},"Error016":{"message":"E016: Request timed out. Check your server configuration"},"Error017":{"message":"E017: Network error: Check your network connection and your account details"},"Error018":{"message":"E018: Couldn\'t authenticate with the server."},"Error019":{"message":"E019: HTTP status {0}. Failed {1} request. Check your server configuration and log."},"Error020":{"message":"E020: Could not parse server response. Is the bookmarks app installed on your server?"},"Error021":{"message":"E021: Inconsistent server state. Folder is present in childorder list but not in folder tree"},"Error022":{"message":"E022: Folder {0} supposedly contains non-existent bookmark {1}"},"Error023":{"message":"E023: Unable to clear lock file, consider deleting {0} manually."},"Error024":{"message":"E024: HTTP status {0} while trying to determine status of lock file {1}"},"Error025":{"message":"E025: Bookmarks file setting mustn\'t begin with a slash: \'/\'"},"Error026":{"message":"E026: HTTP status {0}. Failed to fetch bookmarks"},"Error027":{"message":"E027: Sync process was interrupted"},"Error028":{"message":"E028: Couldn\'t authenticate with the server."},"Error029":{"message":"E029: Failsafe: The current sync run would delete {0}% of your bookmarks. Refusing to execute. Disable this failsafe in the account settings if you want to proceed anyway."},"Error030":{"message":"E030: Failed to decrypt bookmarks file. The passphrase may be wrong or the file may be corrupted."},"Error031":{"message":"E031: Could not authenticate with Google Drive. Please connect floccus with your google account again."},"Error032":{"message":"E032: OAuth error. Token validation error. Please reconnect your Google Account."},"Error033":{"message":"E033: Redirect detected. Please make sure the server supports the selected sync method and URL you entered is correct doesn\'t redirect to a different location. If the redirect is part of your setup, you can disable this check in the settings."},"Error034":{"message":"E034: Bookmarks file is unreadable. Did you forget to set an encryption passphrase?"},"LabelWebdavurl":{"message":"WebDAV URL"},"DescriptionWebdavurl":{"message":"e.g. with nextcloud: https://example.com/remote.php/webdav/"},"LabelNextcloudurl":{"message":"Nextcloud URL"},"LabelUsername":{"message":"Username"},"LabelPassword":{"message":"Password"},"LabelBookmarksfile":{"message":"Bookmarks file path"},"DescriptionBookmarksfile":{"message":"a path to the bookmarks file relative to your WebDAV URL (all folders in the path must already exist). e.g. personal_stuff/bookmarks.xbel"},"DescriptionBookmarksfilegoogle":{"message":"the file name of the bookmarks file that will reside in your Google Drive (make sure this name is unique in your Drive)"},"LabelServerfolder":{"message":"Server folder"},"DescriptionServerfolder":{"message":"This is the path prefix under which this account will operate on the server. Leave this empty to use no prefix at all."},"LabelLocalfolder":{"message":"Local folder"},"DescriptionLocalfolder":{"message":"This is the local bookmarks folder in this browser that will be synced to the server. Note that some browser don\'t allow creating new items under the root folder (e.g. Firefox and Google Chrome)"},"LabelRootfolder":{"message":"Root folder"},"LabelNewfolder":{"message":"Newly created folder"},"LabelOptions":{"message":"Options"},"LabelSyncnow":{"message":"Sync now"},"LabelCancelsync":{"message":"Cancel sync"},"LabelAutosync":{"message":"Auto-sync"},"StatusLastsynced":{"message":"Last synchronized: {0} ago"},"StatusNeversynced":{"message":"Not synchronized, yet"},"StatusAllgood":{"message":"All good"},"StatusDisabled":{"message":"Disabled"},"StatusError":{"message":"Error"},"StatusSyncing":{"message":"Syncing"},"LabelReset":{"message":"Reset"},"DescriptionReset":{"message":"Reset synchronized folder to create a new one"},"LabelChoosefolder":{"message":"Choose folder"},"DescriptionChoosefolder":{"message":"Set an existing folder to sync"},"LabelRemoveaccount":{"message":"Remove account"},"DescriptionRemoveaccount":{"message":"Delete this account (this will not remove your bookmarks)"},"LabelResetCache":{"message":"Trigger sync from scratch"},"DescriptionResetcache":{"message":"Tick this box to reset the cache so that the next synchronization run is guaranteed not to delete any data and merely merges server and local bookmarks together"},"LabelParallelsync":{"message":"Speed up synchronization"},"DescriptionParallelsync":{"message":"Tick this box to process multiple folders in parallel in order to speed the synchronization. This feature is experimental and makes it harder to read the debug logs."},"LabelStrategy":{"message":"Synchronization strategy"},"DescriptionStrategy":{"message":"This option determines how to synchronize the bookmarks tree on the server with the one in this browser. Usually you will want to keep changes to both trees if they are compatible, but sometimes you might want to force the local version onto the server, or vice versa."},"LabelStrategydefault":{"message":"Merge local and remote changes (recommended)"},"LabelStrategyslave":{"message":"Always revert local changes and pull upstream remote changes"},"LabelStrategyoverwrite":{"message":"Always revert upstream remote changes and push local changes"},"LabelSave":{"message":"Save"},"LabelCancel":{"message":"Cancel"},"LabelAdapternextcloudfolders":{"message":"Nextcloud Bookmarks"},"DescriptionAdapternextcloudfolders":{"message":"The option \'Nextcloud Bookmarks\' is compatible with at least version v0.14 of the Bookmarks app. It can only sync http and ftp bookmarks."},"LabelAdapternextcloud":{"message":"Nextcloud Bookmarks (legacy)"},"DescriptionAdapternextcloud":{"message":"The legacy option is compatible with at least version v0.11 of the Bookmarks app. It will emulate folders using tags containing the folder path. It is not recommended to use this for new accounts."},"LabelAdapterwebdav":{"message":"XBEL file in WebDAV share"},"DescriptionAdapterwebdav":{"message":"The WebDAV option syncs your bookmarks by storing them in an XBEL file in the provided WebDAV share. There is no accompanying web UI for this option and you can use it with any WebDAV-compatible server. It can sync http, ftp, data and javascript bookmarks."},"LabelAddaccount":{"message":"Add account"},"LabelSecurecredentials":{"message":"Secure your credentials"},"LabelSecuredcredentials":{"message":"Your credentials are secure"},"LabelOpenintab":{"message":"Open in tab"},"LabelDebuglogs":{"message":"Debug logs"},"LabelFunddevelopment":{"message":"Fund development"},"DescriptionFunddevelopment":{"message":"Work on floccus is fuelled by a voluntary subscription model. If you think what I do is worthwhile, and if you can spare a few coins each month without hardship, please support my work. Also, please consider giving floccus a rating on the addon store of your choice. Thank you!"},"LabelSelect":{"message":"Select"},"LabelUntitledfolder":{"message":"Untitled folder"},"LabelSetkey":{"message":"Set a pass phrase for floccus"},"DescriptionSetkey":{"message":"When you set a pass phrase you will have to enter this pass phrase everytime you start your browser if you want to access and synchronize your bookmarks."},"LabelKey":{"message":"Enter your unlock passphrase"},"LabelKey2":{"message":"Enter your passphrase a second time"},"LabelUnlock":{"message":"Unlock floccus"},"LabelRemovekey":{"message":"Remove pass phrase"},"LabelRemovedkey":{"message":"Pass phrase removed"},"LabelSyncinterval":{"message":"Synchronization interval"},"DescriptionSyncinterval":{"message":"The timespan between two sync runs in minutes. Default is 15 minutes."},"LabelChooseadapter":{"message":"How do you want to sync?"},"LabelOptionsscreen":{"message":"{0} options","description":"Title of the options screen. The placeholder holds the account type."},"LabelPaypal":{"message":"Paypal"},"DescriptionPaypal":{"message":"Make a one-time donation via paypal to support the project"},"LabelOpencollective":{"message":"OpenCollective"},"DescriptionOpencollective":{"message":"Make a regular donation via OpenCollective to support the project"},"LabelLiberapay":{"message":"Liberapay"},"DescriptionLiberapay":{"message":"Make a regular donation via Liberapay to support the project"},"LabelGithubsponsors":{"message":"GitHub sponsors"},"DescriptionGithubsponsors":{"message":"Make a regular donation via GitHub sponsors to support the project"},"LegacyAdapterDeprecation":{"message":"This legacy account type is deprecated and will soon be removed. Please switch to the new nextcloud sync method. Improved performance and accuracy await you."},"LabelUpdated":{"message":"Floccus was updated"},"DescriptionUpdated":{"message":"Congrats, the latest update of floccus has arrived on your machine!"},"LabelReleaseNotes":{"message":"Read release notes"},"LabelOptionsServerDetails":{"message":"Server details"},"LabelOptionsFolderMapping":{"message":"Folder mapping"},"LabelOptionsSyncBehavior":{"message":"Sync behavior"},"LabelOptionsDangerous":{"message":"Dangerous actions"},"LabelAccountDeleted":{"message":"Account deleted"},"DescriptionAccountDeleted":{"message":"This account was deleted"},"LabelNoAccount":{"message":"No accounts here"},"DescriptionNoAccount":{"message":"Create a new account to sync your bookmarks or import accounts from a different device or browser."},"LabelLoginFlowStart":{"message":"Sign in with Nextcloud login flow"},"LabelLoginFlowStop":{"message":"Abort Nextcloud login flow"},"LabelLoginFlowError":{"message":"Nextcloud login flow failed."},"LabelNewAccount":{"message":"New Account"},"LabelNestedSync":{"message":"Nested accounts"},"DescriptionNestedSync":{"message":"You can nest accounts so that a parent folder belongs to account A and a sub folder to account A and B. Do you want to allow other accounts to sync this account\'s folder as well?"},"LabelNestedSyncNo":{"message":"No, ignore this account\'s folder in other accounts"},"LabelNestedSyncYes":{"message":"Yes, include this account\'s folder in other accounts"},"LabelImportExport":{"message":"Import/Export Accounts"},"LabelExport":{"message":"Export accounts"},"LabelImport":{"message":"Import accounts"},"DescriptionExport":{"message":"Select accounts below that you would like to export to a file, so you can easily re-create the same accounts on a different device or browser."},"DescriptionImport":{"message":"Import a file with exported accounts here to re-create accounts exported on a different device or browser. Please make sure to set the correct sync folders again after importing."},"LabelFolderNotFound":{"message":"Folder not found"},"LabelSyncTabs":{"message":"Sync Tabs"},"LabelTabs":{"message":"Tabs"},"LabelSyncDown":{"message":"Pull sync"},"LabelSyncUp":{"message":"Push sync"},"LabelSyncDownOnce":{"message":"Pull sync once"},"LabelSyncUpOnce":{"message":"Push sync once"},"LabelSyncNormal":{"message":"Normal sync"},"DescriptionFilesPermission":{"message":"Make sure you give floccus permission to not only use the bookmarks app but the Nextcloud files app as well."},"DescriptionExtension":{"message":"Sync your bookmarks across browsers via Nextcloud, WebDAV or Google Drive"},"LabelFailsafe":{"message":"Failsafe"},"DescriptionFailsafe":{"message":"Sometimes configuration errors or software bugs can cause the unintended removal of data, which is then lost. To prevent that from happening, floccus will not delete more than 50% of your bookmarks in one go unless you disable this failsafe here."},"LabelFailsafeon":{"message":"Enabled. Don\'t delete more than 50% of my local bookmarks without asking me first. (Recommended)"},"LabelFailsafeoff":{"message":"Disabled. Allow the removal of more than 50% of my local bookmarks without confirming with me."},"StatusFailsafeoff":{"message":"Failsafe disabled. You are at risk for unintended data loss. It is recommended to enable the failsafe in the account settings."},"LabelAdaptergoogledrive":{"message":"Google Drive"},"DescriptionAdaptergoogledrive":{"message":"Sync bookmarks via an encrypted file that is stored in your Google Drive. It can sync http, ftp, data and javascript bookmarks."},"LabelLogingoogle":{"message":"Login with Google"},"DescriptionLogingoogle":{"message":"Connect your Google account to store the bookmark sync file in your Google Drive."},"DescriptionLoggedingoogle":{"message":"You have connected your Google account to store the bookmark sync file in your Google Drive."},"LabelPassphrase":{"message":"Passphrase"},"DescriptionPassphrase":{"message":"Set a passphrase for encrypting your bookmarks file, if you set no passphrase, no encryption will be run."},"LabelClientcert":{"message":"Send client credentials"},"DescriptionClientcert":{"message":"Enable this option if your server requires a client certificate or cookies for authentication. This may cause unintended side effects, as floccus will share cookies with your normal browser profile."},"LabelAllowredirects":{"message":"Allow redirects in Server URL"},"DescriptionAllowredirects":{"message":"Enable this option, if you get redirect errors during syncing, which you believe to be unwarranted."},"LabelSearch":{"message":"Search bookmarks"},"LabelSearchfolder":{"message":"Search {0}"},"LabelEdititem":{"message":"Edit"},"LabelDeleteitem":{"message":"Delete"},"LabelNobookmarks":{"message":"No bookmarks here"},"LabelAddbookmark":{"message":"Add bookmark"},"LabelEditbookmark":{"message":"Edit bookmark"},"LabelAddfolder":{"message":"Add folder"},"LabelEditfolder":{"message":"Edit folder"},"LabelSlugline":{"message":"Private Bookmark Sync"}}')},48883:e=>{"use strict";e.exports=JSON.parse('{"Error001":{"message":"E001: La carpeta en donde crearlo no existe"},"Error002":{"message":"E002: El marcador para actualizar ya no existe"},"Error003":{"message":"E003: La carpeta desde donde mover no existe. Esto es una anomala. Enhorabuena."},"Error004":{"message":"E004: La carpeta a la que mover no existe"},"Error005":{"message":"E005: La carpeta  en la que crear no existe"},"Error006":{"message":"E006: La carpeta que actualizar no existe"},"Error007":{"message":"E007: La carpeta que mover no existe"},"Error008":{"message":"E008:La carpeta desde la que mover no existe"},"Error009":{"message":"E009: La carpeta a la que mover no existe"},"Error010":{"message":"E010: No se ha podido encontrar la carpeta para ordenarla"},"Error011":{"message":"E011: El tem en la ordenacin de la carpeta no es un verdadero hijo: {0}"},"Error012":{"message":"E012: A la ordenacin de la carpeta le faltan algunos de los hijos de la carpeta"},"Error013":{"message":"E013: La carpeta que eliminar no existe"},"Error014":{"message":"E014: La carpeta padre desde de la que quitar la carpeta no existe"},"Error015":{"message":"E015: Datos de respuesta del servidor inesperados"},"Error016":{"message":"E016: La peticin ha caducado. Comprueba la configuracin del servidor"},"Error017":{"message":"E017: Error de red: Comprueba tu conexin de red y los detalles de tu cuenta"},"Error018":{"message":"E018: No se ha podido autenticar con el servidor"},"Error019":{"message":"E019: estado HTTP {0} . Fallo en la peticin {1}. Comprueba la configuracin del servidor y el registro."},"Error020":{"message":"E020: No se ha podido recibir respuesta del servidor. La app de marcadores est instalada en tu servidor?"},"Error021":{"message":"E021: Estado del servidor inconsistente. La carpeta se presenta en lista de orden de hijos, pero no en rbol de carpetas"},"Error022":{"message":"E022: La carpeta {0} contiene supuestamente el marcador no existente {1}"},"Error023":{"message":"E023: No se ha podido limpiar el archivo bloqueado, considera eliminar {0} manualmente."},"Error024":{"message":"E024: Estado HTTP {0} al intentar determinar el estado del archivo bloqueado {1}"},"Error025":{"message":"E025: El archivo de configuracin de marcadores no debe comenzar con una barra: \'/\'"},"Error026":{"message":"E026: Estado HTTP {0}. Fallo al recuperar marcadores"},"Error027":{"message":"E027: Se ha interrumpido el proceso de sincronizacin"},"LabelWebdavurl":{"message":"URL de WebDAV"},"DescriptionWebdavurl":{"message":"p. ej., con nextcoud: https://tudominio.com/remote.php/webdav/"},"LabelNextcloudurl":{"message":"URL de Nextcloud"},"LabelUsername":{"message":"Nombre de usuario"},"LabelPassword":{"message":"Contrasea"},"LabelBookmarksfile":{"message":"Ruta de los marcadores"},"DescriptionBookmarksfile":{"message":"una ruta a los marcadores relativa a tu URL WebDAV (todas las carpetas en la ruta deben existir ya. P. ej., personal/marcadores.xbel"},"LabelServerfolder":{"message":"Carpeta del servidor"},"DescriptionServerfolder":{"message":"Este es el prefijo de la ruta bajo la que esta cuenta operar en el servidor. P. ej., si usas \'/trabajo\', todos tus marcadores se crearn en el servidor con esta ruta prefijada a su ruta original (la relativa a la carpeta local que has especificado arriba). Esto permite separa tus marcadores del servidor en mltiples \'perfiles\'. Deja esto vaco para no usar ningn prefijo."},"LabelLocalfolder":{"message":"Carpeta local"},"DescriptionLocalfolder":{"message":"Esta es la carpeta local de marcadores que se sincronizar con el servidor. Por defecto se crear una nueva carpeta vaca en el servidor; si quieres sincronizar una carpeta existente, seleccinala aqu. (Nota: Ahora puedes sincronizar la carpeta raz entre diferentes navegadores sin tener que configurar nada.)"},"LabelRootfolder":{"message":"Carpeta raz"},"LabelOptions":{"message":"Opciones"},"LabelSyncnow":{"message":"Sincronizar ahora"},"LabelCancelsync":{"message":"Cancelar sincronizacin"},"LabelEnabled":{"message":"Activada"},"StatusLastsynced":{"message":"ltima sincronizacin: hace {0}"},"StatusNeversynced":{"message":"An no se ha sincronizado"},"StatusAllgood":{"message":"Todo bien"},"StatusDisabled":{"message":"Desactivada"},"StatusError":{"message":"Error"},"StatusSyncing":{"message":"Sincronizando"},"LabelReset":{"message":"Resetear"},"DescriptionReset":{"message":"Resetear carpeta sincronizada para crear una nueva"},"LabelChoosefolder":{"message":"Escoge carpeta"},"DescriptionChoosefolder":{"message":"Configura una carpeta existente para sincronizar"},"LabelRemoveaccount":{"message":"Eliminar cuenta"},"DescriptionRemoveaccount":{"message":"Borrar esta cuenta (esto no eliminar tus marcadores)"},"LabelResetCache":{"message":"Forzar sincronizacin desde cero"},"DescriptionResetcache":{"message":"Marca esta casilla para resetear la cach para garantizar que la ejecucin de la prxima sincronizacin no elimine ningn dato y simplemente una  los marcadores locales y los del servidor"},"LabelParallelsync":{"message":"Acelerar sincronizacin"},"DescriptionParallelsync":{"message":"Marca esta casilla para procesar mltiples careptas en paralelo para acelerar la sincronizacin. Esta caracterstica es experimental y hace ms difcil leer los registros de depuracin."},"LabelStrategy":{"message":"Estrategia de sincronizacin"},"DescriptionStrategy":{"message":"Esta opcin determina cmo sincronizar el rbol de marcadores en el servidor con el de este navegador. Normalmente querrs mantener los cambios a ambos rboles si son compatibles, pero en ocasiones puedes querer forzar la versin local sobre la del servidor o viceversa."},"LabelStrategydefault":{"message":"Mezclar cambios locales y remotos (recomendado)"},"LabelStrategyslave":{"message":"Siempre reescribir y revertir los cambios locales"},"LabelStrategyoverwrite":{"message":"Siempre sobreescribir y revertir los cambios remotos"},"LabelSave":{"message":"Guardar"},"LabelCancel":{"message":"Cancelar"},"LabelAdapternextcloudfolders":{"message":"Marcadores de Nextcloud"},"DescriptionAdapternextcloudfolders":{"message":"La opcin \'Marcadores de Nextcloud\' es compatible al menos con la versin  0.14 de la app de Marcadores."},"LabelAdapternextcloud":{"message":"Marcadores de Nextcloud (antigua)"},"DescriptionAdapternextcloud":{"message":"La opcin antiuga es compatible con al menos la versin 0.11 de la app de Marcadores. Emular las carpetas usando etiquetas que contienen la ruta de carpetas. No se recomienda para cuentas nuevas."},"LabelAdapterwebdav":{"message":"Archivo XBEL en compartido WebDAV"},"DescriptionAdapterwebdav":{"message":"La opcin WebDAV sincroniza tus marcadores almacenndolos en un archivo XBEL em el compartidio WebDAV que se provea. No hay UI acompaante para esta opcin y puedes usarla con cualquier servidor compatible con WebDAV."},"LabelAddaccount":{"message":"Aadir cuenta"},"LabelSecurecredentials":{"message":"Asegurar tus credenciales"},"LabelSecuredcredentials":{"message":"Tus credenciales son seguras"},"LabelOpenintab":{"message":"Abrir en pestaa"},"LabelDebuglogs":{"message":"Registros de depuracin"},"LabelFunddevelopment":{"message":"Financiar el desarrollo"},"DescriptionFunddevelopment":{"message":"Aprovecho esta oportunidad para pedirte una donacin que ayude a mantener este proyecto y hacer esta tarea ms sostenible. Puedes encontrar los proveedores de pago soportados a continuacin. Se agradece cualquier cantidad. Gracias! "},"LabelSelect":{"message":"Seleccionar"},"LabelUntitledfolder":{"message":"Carpeta sin ttulo"},"LabelSetkey":{"message":"Establecer una frase de paso para Floccus"},"DescriptionSetkey":{"message":"Cuando estableces una frase de paso, tendrs que introducirla cada vez que inicies tu navegador si quieres acceder a tus marcadores y sincronizarlos."},"LabelKey":{"message":"Introduce tu frase de paso de desbloqueo"},"LabelKey2":{"message":"Introduce la frase de paso de nuevo"},"LabelUnlock":{"message":"Desbloquear Floccus"},"LabelRemovekey":{"message":"Eliminar frase de paso"},"LabelRemovedkey":{"message":"Frase de paso eliminada"},"LabelSyncinterval":{"message":"Intervalo de sincronizacin"},"DescriptionSyncinterval":{"message":"El intervalo entre dos sincronizaciones, en minutos. 15 minutos por defecto."},"LabelChooseadapter":{"message":"Cmo quieres sincronizar?"},"LabelOptionsscreen":{"message":"{0} Opciones","description":"Title of the options screen. The placeholder holds the account type."},"LabelPaypal":{"message":"Paypal"},"DescriptionPaypal":{"message":"Haz una donacin puntual va Paypal para apoyar el proyecto"},"LabelOpencollective":{"message":"OpenCollective"},"DescriptionOpencollective":{"message":"Haz una donacin peridica va OpenCollective para apoyar el proyecto"},"LabelLiberapay":{"message":"Liberapay"},"DescriptionLiberapay":{"message":"Haz una donacin peridica va Liberapay para apoyar el proyecto"},"LabelGithubsponsors":{"message":"GitHub sponsors"},"DescriptionGithubsponsors":{"message":"Haz una donacin peridica va GitHub sponsors para apoyar el proyecto"},"LegacyAdapterDeprecation":{"message":"Este de cuenta antiguo est descontinuado y pronto se eliminar. Por favor, cambia al nuevo mtodo de sincronizacin de Nextcloud. Te esperan un rendimiento y una precisin mejorados."},"LabelUpdated":{"message":"Floccus ha sido actualizado"},"DescriptionUpdated":{"message":"Enhorabuena, la ltima actualizacin de Floccus ha llegado a tu mquina! "},"LabelReleaseNotes":{"message":"Leer notas de publicacin"},"LabelOptionsServerDetails":{"message":"Detalles del servidor"},"LabelOptionsFolderMapping":{"message":"Mapeado de carpetas"},"LabelOptionsSyncBehavior":{"message":"Comportamiento de sincronizacin"},"LabelOptionsDangerous":{"message":"Acciones peligrosas"},"LabelAccountDeleted":{"message":"Cuenta eliminada"},"DescriptionAccountDeleted":{"message":"Esta cuenta ha sido eliminada"},"LabelNoAccount":{"message":"No hay cuentas aqu"},"DescriptionNoAccount":{"message":"Crea una cuenta nueva para sincronizar tus marcadores."},"LabelLoginFlowStart":{"message":"Iniciar sesin con el mecanismo de entrada de Nextcloud"},"LabelLoginFlowStop":{"message":"Abortar mecanismo de entrada de Nextcloud"},"LabelLoginFlowError":{"message":"Fallo del mecanismo de entrada de Nextcloud."}}')},50320:e=>{"use strict";e.exports=JSON.parse('{"Error001":{"message":"E001: Le dossier dans lequel crer n\'existe pas"},"Error002":{"message":"E002: Le marque-page  mettre  jour n\'existe plus"},"Error003":{"message":"E003: Le dossier dont sortir n\'existe pas. C\'est une anomalie. Toutes nos flicitations."},"Error004":{"message":"E004: Le dossier de destination n\'existe pas"},"Error005":{"message":"E005: Le dossier dans lequel crer n\'existe pas"},"Error006":{"message":"E006: Le dossier  mettre  jour n\'existe pas"},"Error007":{"message":"E007: Le dossier  dplacer n\'existe pas"},"Error008":{"message":"E008: Le dossier dont sortir n\'existe pas"},"Error009":{"message":"E009: Le rpertoire de destination n\'existe pas"},"Error010":{"message":"E010: Impossible de trouver le dossier  trier"},"Error011":{"message":"E011: L\'lment dans le dossier en cours de tri n\'en est pas un membre rel: {0}"},"Error012":{"message":"E012: Il manque certains de ses sous-lments au dossier en cours de tri"},"Error013":{"message":"E013: Le dossier  supprimer n\'existe pas"},"Error014":{"message":"E014: Le rpertoire parent du dossier  supprimer n\'existe pas"},"Error015":{"message":"E015: Rponse inattendue du serveur"},"Error016":{"message":"E016: Temps dpass durant le requte. Vrifiez la configuration du serveur"},"Error017":{"message":"E017: Erreur rseau: Vrifiez votre connexion rseau et vos paramtres de compte"},"Error018":{"message":"E018: Impossible de s\'authentifier sur le serveur"},"Error019":{"message":"E019: Statut HTTP: {0} Requte {1}en erreur. Vrifiez la configuration de votre serveur et votre journal"},"Error020":{"message":"E020: Impossible de lire la rponse du serveur. L\'application de marque-pages est elle installe sur votre serveur?"},"Error021":{"message":"E021: tat incohrent du serveur. Le dossier est prsent dans la liste des membres mais pas dans l\'arborescence"},"Error022":{"message":"E022: Le dossier {0}est cens contenir le marque page {1}qui n\'existe pas"},"Error023":{"message":"E023: Impossible de librer le fichier verrouill. Essayez de supprimer {0} manuellement."},"Error024":{"message":"E024: Statut HTTP {0} en essayant de dterminer l\'tat du fichier verrouill {1}"},"Error025":{"message":"E025: Le fichier de paramtre des marque-pages ne doit pas commencer par un slash \'/\'"},"Error026":{"message":"E026: Statut HTTP {0}. Impossible de rcuprer les marque-pages."},"Error027":{"message":"E027: Synchronisation interrompue"},"LabelWebdavurl":{"message":"URL WevDAV"},"DescriptionWebdavurl":{"message":"Par ex. avec Nextcloud: https://votre-domaine.com/remote.php/webdav/"},"LabelNextcloudurl":{"message":"URL Nextcloud"},"LabelUsername":{"message":"Nom d\'utilisateur"},"LabelPassword":{"message":"Mot de passe"},"LabelBookmarksfile":{"message":"Chemin d\'accs vers les marque-pages"},"DescriptionBookmarksfile":{"message":"un chemin d\'accs vers le fichier de marque-pages par rapport  votre URL WebDAV (tous les dossiers dans le chemin doivent dj exister). Par ex. documents...personnels/bookmarks.xbel"},"LabelServerfolder":{"message":"Dossier serveur"},"DescriptionServerfolder":{"message":"C\'est le prfixe du chemin d\'accs sous lequel ce compte changera avec le serveur. Par ex. si vous utilisez \\"/travail\\", tous vos marques-pages seront crs sur le serveur avec le chemin original, prfix par ce chemin (correspondant au rpertoire local que vous avez prcis au-dessus). Cela permet de sparer vos marques-pages sur le serveur dans plusieurs \'profils\'. Laisser ce paramtre vide si vous ne voulez pas utiliser de prfixe."},"LabelLocalfolder":{"message":"Rpertoire local"},"DescriptionLocalfolder":{"message":"Ceci est le dossier de marque-pages local du navigateur qui sera synchronis avec le serveur. Par dfaut, un nouveau dossier vide sera cr pour vous dans ce navigateur. Si vous souhaitez synchroniser un dossier existant, slectionnez-le ici. (Note: Vous pouvez ds maintenant synchroniser le dossier racine avec plusieurs navigateurs diffrents.)"},"LabelRootfolder":{"message":"Rpertoire racine"},"LabelOptions":{"message":"Options"},"LabelSyncnow":{"message":"Synchroniser maintenant"},"LabelCancelsync":{"message":"Annuler la synchronisation"},"LabelEnabled":{"message":"Activ"},"StatusLastsynced":{"message":"Dernire synchronisation il y a {0}"},"StatusNeversynced":{"message":"Pas encore synchronis"},"StatusAllgood":{"message":"Tout bon"},"StatusDisabled":{"message":"Dsactiv"},"StatusError":{"message":"Erreur"},"StatusSyncing":{"message":"Synchronisation"},"LabelReset":{"message":"Rinitialisation"},"DescriptionReset":{"message":"Rinitialiser le rpertoire synchronis pour en crer un nouveau"},"LabelChoosefolder":{"message":"Choisissez un rpertoire"},"DescriptionChoosefolder":{"message":"Dfinir un rpertoire existant  synchroniser"},"LabelRemoveaccount":{"message":"Supprimer le compte"},"DescriptionRemoveaccount":{"message":"Supprimer ce compte (cela ne supprimera pas vos marque-pages)"},"LabelResetCache":{"message":"Reprendre toute la synchronisation depuis le dbut"},"DescriptionResetcache":{"message":"Cochez cette case pour rinitialiser le cache, assurer que la prochaine synchronisation ne supprime aucune donne et se limite  fusionner les donnes serveur et les marque-pages locaux ensemble"},"LabelParallelsync":{"message":"Acclrer la synchronisation"},"DescriptionParallelsync":{"message":"Cochez cette case pour traiter plusieurs dossiers en parallle afin d\'acclrer la synchronisation. Cette fonctionnalit est exprimentale et rend plus difficile la lecture des journaux de dbogage."},"LabelStrategy":{"message":"Stratgie de synchronisation"},"DescriptionStrategy":{"message":"Cette option dtermine comment synchroniser l\'arborescence des marque-pages du serveur et celle dans ce navigateur. Normalement, vous voudrez conserver les modifications aux deux arborescences si elles sont compatibles, mais parfois, vous pouvez vouloir imposer la version locale au serveur, ou inversement."},"LabelStrategydefault":{"message":"Fusionner les modifications locales et distantes (recommand)"},"LabelStrategyslave":{"message":"Toujours craser et remplacer les changements locaux"},"LabelStrategyoverwrite":{"message":"Toujours craser et remplacer les changements distants"},"LabelSave":{"message":"Sauvegarder"},"LabelCancel":{"message":"Annuler"},"LabelAdapternextcloudfolders":{"message":"Marque-pages Nextcloud"},"DescriptionAdapternextcloudfolders":{"message":"L\'option \'Marque-pages Nextcloud\' n\'est compatible qu\'avec la version 0.14 de l\'application Bookmarks"},"LabelAdapternextcloud":{"message":"Marque-pages Nextcloud (ancienne mthode)"},"DescriptionAdapternextcloud":{"message":"Cette option d\'ancienne mthode est compatible avec la version minimum 0.11 de l\'application Bookmarks. Elle mulera des dossiers en utilisant des tags contenant le chemin du dossier. Cette option n\'est pas recommande pour les nouveaux comptes."},"LabelAdapterwebdav":{"message":"Fichier XBEL dans le partage WebDAV"},"DescriptionAdapterwebdav":{"message":"L\'option WebDAV synchronise vos marque-pages en les stockant dans un fichier XBEL dans le partage WebDAV indiqu. Il n\'y a pas d\'interface utilisateur Web associe  cette option et vous pouvez l\'utiliser avec tout serveur compatible WebDAV."},"LabelAddaccount":{"message":"Ajouter un compte"},"LabelSecurecredentials":{"message":"Scurisez vos identifiants"},"LabelOpenintab":{"message":"Ouvrir dans un onglet"},"LabelDebuglogs":{"message":"Journaux de dbogage"},"LabelFunddevelopment":{"message":"Financez le dveloppement"},"DescriptionFunddevelopment":{"message":"J\'ai tent d\'amliorer votre exprience avec les marque-pages  la fois dans Nextcloud avec l\'application Marque-page et dans votre navigateur avec Floccus depuis ces dernires annes. Une mission qui est  la fois amusante mais qui demande aussi un temps considrable.\\n\\nJ\'utilise donc cette opportunit pour vous demander un don dans le but de soutenir l\'volution de ce projet et rendre cette mission plus ralisable. Vous pouvez trouver les fournisseurs de paiements supports plus bas. Chaque montant, aussi petit soit-il, est apprci. Merci "},"LabelSelect":{"message":"Slectionner"},"LabelUntitledfolder":{"message":"Dossier sans nom"},"LabelSetkey":{"message":"Dfinissez une phrase secrte pour Floccus"},"DescriptionSetkey":{"message":"Lorsque vous dfinissez une phrase secrte, vous devez la saisir  chaque dmarrage du navigateur si vous souhaitez accder  vos favoris et les synchroniser."},"LabelKey":{"message":"Entrez la phrase de dverrouillage"},"LabelKey2":{"message":"Entrez votre phrase secrte une seconde fois"},"LabelUnlock":{"message":"Dverrouiller Floccus"},"LabelSyncinterval":{"message":"Intervalle de synchronisation"},"DescriptionSyncinterval":{"message":"Intervalle entre deux synchronisations. 15 minutes par dfaut."},"LabelChooseadapter":{"message":"Comment voulez-vous synchroniser ?"},"LabelOptionsscreen":{"message":"Options {0}","description":"Title of the options screen. The placeholder holds the account type."},"LabelPaypal":{"message":"Paypal"},"DescriptionPaypal":{"message":"Faire une donation unique via Paypal pour aider le projet"},"LabelOpencollective":{"message":"OpenCollective"},"DescriptionOpencollective":{"message":"Faire un don rcurrent via OpenCollective pour aider le projet"},"LabelLiberapay":{"message":"Liberapay"},"DescriptionLiberapay":{"message":"Faire un don rcurrent via Liberapay pour aider le projet"},"LabelGithubsponsors":{"message":"Commanditaires de GitHub"},"DescriptionGithubsponsors":{"message":"Faire un don rcurrent via les commanditaires de GitHub pour aider le projet"},"LegacyAdapterDeprecation":{"message":"Attention! Cet ancien type de compte est dconseill et ne sera plus support sous peu. Veuillez migrer vers la nouvelle mthode de synchronisation Nextcloud. Une meilleure performance et une meilleure prcision vous y attendent."},"LabelUpdated":{"message":"Floccus a t mis  jour"},"DescriptionUpdated":{"message":"Flicitation! La dernire mise--jour de Floccus est maintenant installe dans votre systme!  "},"LabelReleaseNotes":{"message":"Lire les notes de publication"}}')},57366:e=>{"use strict";e.exports=JSON.parse('{"Error001":{"message":"E001: A pasta onde criar no existe"},"Error002":{"message":"E002: O marcador a atualizar j no existe"},"Error003":{"message":"E003: A pasta de onde mover no existe. Isto  uma anomalia. Parabns!"},"Error004":{"message":"E004: A pasta para onde mover no existe"},"Error005":{"message":"E005: A pasta onde criar no existe"},"Error006":{"message":"E006: A pasta a atualizar no existe"},"Error007":{"message":"E007: A pasta a mover no existe"},"Error008":{"message":"E008: A pasta de onde mover no existe"},"Error009":{"message":"E009: A pasta para onde mover no existe"},"Error010":{"message":"E010: No foi possvel encontrar uma pasta para ordenar"},"Error011":{"message":"E011: Elemento na ordenao das pastas no  um filho: {0}"},"Error012":{"message":"E012: A ordenao de pastas est a faltar em alguns dos filhos da pasta"},"Error013":{"message":"E013: A pasta a remover no existe."},"Error014":{"message":"E014: A pasta pai de onde remover a pasta no existe"},"Error015":{"message":"E015: Resposta inesperada recebida do servidor"},"Error016":{"message":"E016: Tempo limite para o pedido excedido. Verifique a configurao do servidor."},"Error017":{"message":"E017: Erro de rede. Verifique a sua ligao  rede e os detalhes da conta."},"Error018":{"message":"E018: No foi possvel autenticar no servidor"},"Error019":{"message":"E019: HTTP {0}. O pedido {1} falhou. Verifique a configurao do servidor."},"Error020":{"message":"E020: No foi possvel processar a resposta do servidor. A aplicao dos marcadores est instalada no servidor?"},"Error021":{"message":"E021: O estado do servidor  inconsistente. A pasta est presente na lista do childordermas no est na rvore de pastas."},"Error022":{"message":"E022: A pasta {0} contm supostamente um marcador no existente {1}"},"Error023":{"message":"E023: Impossvel remover o ficheiro de segurana, considere remover {0} manualmente."},"Error024":{"message":"E024: HTTP {0} ao tentar determinar o estado do ficheiro de segurana {1}"},"Error025":{"message":"E025: O ficheiro dos marcadores no pode comear com a barra \\"/\\""},"Error026":{"message":"E026: HTTP {0}. Erro ao obter marcadores."},"Error027":{"message":"E027: A sincronizao foi interrompida"},"LabelWebdavurl":{"message":"URL do WebDAV"},"DescriptionWebdavurl":{"message":"ex. com nextcloud: https://o-seu-dominio.com/remote.php/webdav/"},"LabelNextcloudurl":{"message":"URL do Nextcloud"},"LabelUsername":{"message":"Utilizador"},"LabelPassword":{"message":"Palavra-passe"},"LabelBookmarksfile":{"message":"Caminho para o ficheiro de marcadores"},"DescriptionBookmarksfile":{"message":"O caminho para o ficheiro de marcadores relativo ao URL do seu WebDAV (todas as pastas neste caminho tm de existir). ex. documentos/marcadores.xbel"},"LabelServerfolder":{"message":"Pasta no servidor"},"DescriptionServerfolder":{"message":"Este  o prefixo sobre o qual esta conta ir operar no servidor. Ex. se utilizar \\"/trabalho\\", todos os seus marcadores sero criados no servidor com este prefixo no caminho original (aquele relativo  pasta local definida anteriormente). Esta opo permite separar os marcadores no servidor em mltiplos perfis. Se no for preenchido nenhum prefixo ser utilizado."},"LabelLocalfolder":{"message":"Pasta local"},"DescriptionLocalfolder":{"message":"Esta  a pasta de marcores local (no seu browser) que ser sincronizada com o servidor. Por padro, uma nova pasta ser criada por si. (Nota: pode agora sincronizar a pasta raiz com browsers distintos.)"},"LabelRootfolder":{"message":"Raiz"},"LabelOptions":{"message":"Opes"},"LabelSyncnow":{"message":"Sincronizar agora"},"LabelEnabled":{"message":"Ativado"},"StatusLastsynced":{"message":"tima sincronizao h: {0}"},"StatusNeversynced":{"message":"Ainda no sincronizado"},"StatusAllgood":{"message":"Sucesso"},"StatusDisabled":{"message":"Desativado"},"StatusError":{"message":"Erro"},"StatusSyncing":{"message":"Sincronizando"},"LabelReset":{"message":"Reset"},"DescriptionReset":{"message":"Redefinir pasta sinronizada para criar uma nova."},"LabelChoosefolder":{"message":"Escolher uma pasta"},"DescriptionChoosefolder":{"message":"Definir uma pasta existente para sincronizar"},"LabelRemoveaccount":{"message":"Remover conta"},"DescriptionRemoveaccount":{"message":"Apaga esta conta (no ir remover os marcadores)"},"LabelResetCache":{"message":"Desencadear sincronizao incial"},"DescriptionResetcache":{"message":"Marque para limpar o cache e garante que a prxima sincronizao no i apagar nada, apenas juntar os marcadores locais com os do servidor."},"LabelParallelsync":{"message":"Aumentar a velocidade de sincronizao"},"DescriptionParallelsync":{"message":"Marque para sincronizar vrias pastas em simultneo o que poder acelerar a valocidade de sincronizao. Esta  uma funcionalidade experimental e dificulta a leitura dos registos de debug."},"LabelSave":{"message":"Guardar"},"LabelCancel":{"message":"Cancelar"},"LabelAdapternextcloudfolders":{"message":"Marcadores do Nextcloud"},"DescriptionAdapternextcloudfolders":{"message":"A opo \\"Marcadores do Nextcloud\\"  compatvel com a verso 0.14 ou superior da aplicao de marcadores."},"LabelAdapternextcloud":{"message":"Marcadores do Nextcloud (legacy)"},"DescriptionAdapternextcloud":{"message":"A opo legacy  compatvel com pelo menos a verso 0.11 da aplicao de marcadores. Ir emular pastas recorrendo a tags contento o caminho da pasta. No  recomendvel utilizar esta opo com novas contas."},"LabelAdapterwebdav":{"message":"Ficheiro XBEL em partilha WebDAV"},"DescriptionAdapterwebdav":{"message":"A opo WebDAV sincroniza os seus marcadores guardando-os num ficheiro XBEL numa partilha WebDAV.  No existe uma interface web para esta opo e pode ser utilizada com qualquer servidor compatvel com WebDAV."},"LabelAddaccount":{"message":"Adicionar conta"},"LabelSecurecredentials":{"message":"Proteja as suas credenciais"},"LabelOpenintab":{"message":"Abrir em separador"},"LabelDebuglogs":{"message":"Registos de debug"},"LabelFunddevelopment":{"message":"Apoiar o desenvolvimento"},"LabelSelect":{"message":"Selecionar"},"LabelUntitledfolder":{"message":"Pasta sem nome"},"LabelSetkey":{"message":"Defina uma palavra-passe para o floccus"},"DescriptionSetkey":{"message":"Quando define uma palavra-passe ter de a introduzir de cada vez que inicia o seu browser. S aps isto ser possvel aceder e sincronizar os seus marcadores."},"LabelKey":{"message":"Introduza a sua palavra-passe"},"LabelKey2":{"message":"Introduza a sua palavra-passe novamente"},"LabelUnlock":{"message":"Desbloquear o floccus"},"LabelSyncinterval":{"message":"Intervalo de sincronizao"},"DescriptionSyncinterval":{"message":"O intervalo em minutos entre duas sincronizaes. O valor padro  15 minutos."}}')},90274:e=>{"use strict";e.exports=JSON.parse('{"Error001":{"message":"E001:    "},"Error002":{"message":"E002:     "},"Error003":{"message":"E003:     .  . ."},"Error004":{"message":"E004:  ,    "},"Error005":{"message":"E005:    "},"Error006":{"message":"E006:    "},"Error007":{"message":"E007:     "},"Error008":{"message":"E008: -   "},"Error009":{"message":"E009: -    "},"Error010":{"message":"E010:     "},"Error011":{"message":"E011:       : {0}"},"Error012":{"message":"E012:       "},"Error013":{"message":"E013:    "},"Error014":{"message":"E014:    ,   "},"Error015":{"message":"E015:    "},"Error016":{"message":"E016:  .    "},"Error017":{"message":"E017:  :        "},"Error018":{"message":"E018:    "},"Error019":{"message":"E019: HTTP  {0}.    {1}.     ."},"Error020":{"message":"E020:    .      ?"},"Error021":{"message":"E021:   .     ,     "},"Error022":{"message":"E022:  {0}   {1}"},"Error023":{"message":"E023:    ,   {0}."},"Error024":{"message":"E024: HTTP  {0}      {1}"},"Error025":{"message":"E025:       : \'/\'"},"Error026":{"message":"E026:  HTTP {0}.   "},"Error027":{"message":"E027:    "},"LabelWebdavurl":{"message":" WebDAV"},"DescriptionWebdavurl":{"message":", nextcloud: https://your-domain.com/remote.php/webdav/"},"LabelNextcloudurl":{"message":" Nextcloud"},"LabelUsername":{"message":""},"LabelPassword":{"message":""},"LabelBookmarksfile":{"message":"  "},"DescriptionBookmarksfile":{"message":"        WebDAV (      ).  personal_stuff/bookmarks.xbel"},"LabelServerfolder":{"message":"  "},"DescriptionServerfolder":{"message":"         . ,    \\"/work\\",             (      ).           \'\'.       ."},"LabelLocalfolder":{"message":" "},"DescriptionLocalfolder":{"message":"         .        . ( :           \' \'.)"},"LabelRootfolder":{"message":" "},"LabelOptions":{"message":""},"LabelSyncnow":{"message":""},"LabelCancelsync":{"message":""},"LabelEnabled":{"message":""},"StatusLastsynced":{"message":" : {0} "},"StatusNeversynced":{"message":" ,  "},"StatusAllgood":{"message":" "},"StatusDisabled":{"message":""},"StatusError":{"message":""},"StatusSyncing":{"message":""},"LabelReset":{"message":""},"DescriptionReset":{"message":"     "},"LabelChoosefolder":{"message":" "},"DescriptionChoosefolder":{"message":"    "},"LabelRemoveaccount":{"message":" "},"DescriptionRemoveaccount":{"message":"   (    )"},"LabelResetCache":{"message":"   "},"DescriptionResetcache":{"message":"     ,                 "},"LabelParallelsync":{"message":" "},"DescriptionParallelsync":{"message":"  ,  .     -     ."},"LabelStrategy":{"message":" "},"DescriptionStrategy":{"message":"         . ,      (    ),                ."},"LabelStrategydefault":{"message":"     ()"},"LabelStrategyslave":{"message":"     "},"LabelStrategyoverwrite":{"message":"     "},"LabelSave":{"message":""},"LabelCancel":{"message":""},"LabelAdapternextcloudfolders":{"message":" Nextcloud"},"DescriptionAdapternextcloudfolders":{"message":" \' Nextcloud\'         0.14."},"LabelAdapternextcloud":{"message":" Nextcloud ()"},"DescriptionAdapternextcloud":{"message":"         v0.11.      ,   .      ."},"LabelAdapterwebdav":{"message":" XBEL  WebDAV"},"DescriptionAdapterwebdav":{"message":"  WebDAV       XBEL. - - .     WebDAV- ."},"LabelAddaccount":{"message":" "},"LabelSecurecredentials":{"message":"  "},"LabelOpenintab":{"message":"  "},"LabelDebuglogs":{"message":" "},"LabelFunddevelopment":{"message":" "},"DescriptionFunddevelopment":{"message":",   .      ,   .  "},"LabelSelect":{"message":""},"LabelUntitledfolder":{"message":" "},"LabelSetkey":{"message":"    floccus"},"DescriptionSetkey":{"message":"                     ."},"LabelKey":{"message":"    "},"LabelKey2":{"message":"    "},"LabelUnlock":{"message":" floccus"},"LabelSyncinterval":{"message":"  "},"DescriptionSyncinterval":{"message":"  floccus   .   - 15 ."},"LabelChooseadapter":{"message":"    ?"},"LabelOptionsscreen":{"message":" {0}","description":"Title of the options screen. The placeholder holds the account type."},"LabelPaypal":{"message":"Paypal"},"DescriptionPaypal":{"message":"     paypal"},"LabelOpencollective":{"message":"OpenCollective"},"DescriptionOpencollective":{"message":"        OpenCollective"},"LabelLiberapay":{"message":"Liberapay"},"DescriptionLiberapay":{"message":"     Liberapay"},"LabelGithubsponsors":{"message":"  GitHub"},"DescriptionGithubsponsors":{"message":"      GitHub "}}')},69766:e=>{"use strict";e.exports=JSON.parse('{"Error001":{"message":"E001: Mappen att skapa i finns inte"},"Error002":{"message":"E002: Bokmrket som ska uppdateras finns inte lngre"},"Error003":{"message":"E003: Mappen som ska flyttas ifrn finns inte. Detta r en avvikelse.\\nGrattis."},"Error004":{"message":"E004: Mappen att flytta till finns inte"},"Error005":{"message":"E005: Mappen att skapa i finns inte"},"Error006":{"message":"E006: Mappen som ska uppdateras finns inte"},"Error007":{"message":"E007: Mappen som ska flyttas finns inte"},"Error008":{"message":"E008: Mappen att flytta ut frn finns inte"},"Error009":{"message":"E009: Mappen att flytta in i finns inte"},"Error010":{"message":"E010: Kunde inte hitta mappen att sortera"},"Error011":{"message":"E011: Posten som ska sorteras i mappen r inte underliggande: {0}"},"Error012":{"message":"E012: Mappen som ska sorteras saknar ngra av mappens underliggande objekt"},"Error013":{"message":"E013: Mappen som ska tas bort finns inte"},"Error014":{"message":"E014: Den verliggande mappen som ska tas bort finns inte"},"Error015":{"message":"E015: Ovntat svar frn server"},"Error016":{"message":"E016: Begran tog fr lng tid. Kontrollera dina serverinstllningar"},"Error017":{"message":"E017: Ntverksfel: Kontrollera din ntverksanslutning och dina kontoinstllningar"},"Error018":{"message":"E018: Det gick inte att verifiera med servern"},"Error019":{"message":"E019: HTTP status {0}. Misslyckades med {1} begran. Kontrollera dina serverinstllningar och logg."},"Error020":{"message":"E020: Det gick inte att analysera serverns svar. r bokmrken-appen installerad p din server?"},"Error021":{"message":"E021: Inkonsekvent servertillstnd. Mappen finns i listan ver underordnade mappar men inte i mapptrdet"},"Error022":{"message":"E022: Mappen {0} innehller icke existerande bokmrke {1}"},"Error023":{"message":"E023: Kunde inte rensa lst fil, vervg att ta bort {0} manuellt."},"Error024":{"message":"E024: HTTP status {0} nr status faststlldes fr lsta filen {1}"},"Error025":{"message":"E025: Bokmrkensfilens instllning fr inte brja med ett slashtecken: \'/\'"},"Error026":{"message":"E026: HTTP status {0}. Misslyckade att hmta bokmrken"},"Error027":{"message":"E027. Synkningsprocessen avbrts"},"LabelWebdavurl":{"message":"WebDAV URL"},"DescriptionWebdavurl":{"message":"Ex. med nextcloud: https://your-domain.com/remote.php/webdav/"},"LabelNextcloudurl":{"message":"Nextcloud URL"},"LabelUsername":{"message":"Anvndarnamn"},"LabelPassword":{"message":"Lsenord"},"LabelBookmarksfile":{"message":"Bokmrkets filskvg"},"DescriptionBookmarksfile":{"message":"en skvg till bokmrkesfilen relativt din WebDAV-URL (alla mappar i skvgen mste redan existera). t.ex. personal_stuff/bookmarks.xbel"},"LabelServerfolder":{"message":"Server mapp"},"DescriptionServerfolder":{"message":"Detta r den skvgsprefix under vilket detta konto kommer att fungera p servern. T.ex. Om du anvnder \'\' / work \'kommer alla dina bokmrken att skapas p servern med denna skvg frinstlld till sin ursprungliga skvg (den i frhllande till den lokala mappen som du angav ovan). Detta gr att du kan dela dina serverbokmrken i flera \'profiler\'. Lmna detta tomt fr att inte anvnda ngot prefix alls."},"LabelLocalfolder":{"message":"Lokal mapp"},"DescriptionLocalfolder":{"message":"Detta r den lokala bokmrkesmappen i den hr webblsaren som kommer att synkroniseras med servern. Som standard skapas en ny tom mapp fr dig i den hr webblsaren. Om du vill synkronisera en befintlig mapp, vlj den hr. (Obs! Du kan nu synkronisera rotmappen mellan olika webblsarleverantrer som standard.)"},"LabelRootfolder":{"message":"Rotkatalog"},"LabelOptions":{"message":"Alternativ"},"LabelSyncnow":{"message":"Synka nu"},"LabelCancelsync":{"message":"Avbryt synkning"},"LabelEnabled":{"message":"Aktiverad"},"StatusLastsynced":{"message":"Tid sedan synkronisering: {0}"},"StatusNeversynced":{"message":"nnu inte synkroniserad"},"StatusAllgood":{"message":"Allt vl"},"StatusDisabled":{"message":"Avaktiverad"},"StatusError":{"message":"Fel"},"StatusSyncing":{"message":"Synkar"},"LabelReset":{"message":"terstll"},"DescriptionReset":{"message":"terstll synkroniserad mapp fr att skapa en ny"},"LabelChoosefolder":{"message":"Vlj mapp"},"DescriptionChoosefolder":{"message":"Vlj en existerande mapp att synka"},"LabelRemoveaccount":{"message":"Ta bort konto"},"DescriptionRemoveaccount":{"message":"Ta bort detta konto (detta kommer inte ta bort dina bokmrken)"},"LabelResetCache":{"message":"Utls en synkning frn grunden"},"DescriptionResetcache":{"message":"Kryssa i den hr rutan fr att terstlla cachen s att nsta synkroniseringskrning garanteras att inte radera data och bara slr samman server och lokala bokmrken."},"LabelParallelsync":{"message":"Skynda p synkronisering"},"DescriptionParallelsync":{"message":"Kryssa i denna ruta fr att behandla flera mappar parallellt fr att pskynda synkroniseringen. Den hr funktionen r experimentell och gr det svrare att lsa felskningsloggarna."},"LabelStrategy":{"message":"Synkronieringsstrategi"},"DescriptionStrategy":{"message":"Det hr alternativet avgr hur du ska synkronisera bokmrkttrdet p servern med det i den hr webblsaren. Vanligtvis vill du behlla ndringar i bda trden om de r kompatibla, men ibland kanske du vill tvinga den lokala versionen till servern, eller vice versa."},"LabelStrategydefault":{"message":"Sl samman lokala och fjrrndringar (rekommenderas)"},"LabelStrategyslave":{"message":"Skriv alltid ver och terstll lokala ndringar"},"LabelStrategyoverwrite":{"message":"Skriv alltid ver och terstll fjrrndringar"},"LabelSave":{"message":"Spara"},"LabelCancel":{"message":"Avbryt"},"LabelAdapternextcloudfolders":{"message":"Nextcloud Bookmarks"},"DescriptionAdapternextcloudfolders":{"message":"Alternativet \'Nextcloud Bookmarks\' r kompatibel med tminstonde version v0.14 av Bookmarks appen."},"LabelAdapternextcloud":{"message":"Nextcloud Bookmarks (legacy)"},"DescriptionAdapternextcloud":{"message":"Den ldre versionen r kompatibel med tminstone version v0.11 av appen Bookmarks. Den kommer att emulera mappar med taggar som innehller mappvgen. Det rekommenderas inte att anvnda detta fr nya konton."},"LabelAdapterwebdav":{"message":"XBEL filen i WebDAV delningen"},"DescriptionAdapterwebdav":{"message":"WebDAV-alternativet synkroniserar dina bokmrken genom att lagra dem i en XBEL-fil i den angivna WebDAV-delningen. Det finns inget medfljande webbgrnssnitt fr detta alternativ och du kan anvnda det med vilken WebDAV-kompatibel server som helst."},"LabelAddaccount":{"message":"Lgg till konto"},"LabelSecurecredentials":{"message":"Skra dina autentiseringsuppgifter "},"LabelSecuredcredentials":{"message":"Dina autentiseringsuppgifter r skra"},"LabelOpenintab":{"message":"ppna i flik"},"LabelDebuglogs":{"message":"Debug loggar"},"LabelFunddevelopment":{"message":"Finansiera utvecklingen"},"DescriptionFunddevelopment":{"message":"Jag anvnder denna mjlighet fr att be dig om en donation fr att stdja underhllet av detta projekt och gra detta arbete mer hllbart. Du hittar de betalningsleverantrer som stds nedan. Varje belopp uppskattas. Tack! "},"LabelSelect":{"message":"Vlj"},"LabelUntitledfolder":{"message":"Namnls mapp"},"LabelSetkey":{"message":"Ange lsenfras fr floccus"},"DescriptionSetkey":{"message":"Nr du stller in en lsenfras mste du ange denna lsenfras varje gng du startar webblsaren om du vill komma t och synkronisera dina bokmrken."},"LabelKey":{"message":"Ange din upplsnings lsenfras"},"LabelKey2":{"message":"Ange din lsenfras en gng till"},"LabelUnlock":{"message":"Ls upp floccus"},"LabelRemovekey":{"message":"Ta bort lsenfrasen"},"LabelRemovedkey":{"message":"Lsenfras har tagits bort"},"LabelSyncinterval":{"message":"Synkroniseringsintervall"},"DescriptionSyncinterval":{"message":"Tidsspannet mellan tv synkningar i minuter. Standard r 15 mintuer."},"LabelChooseadapter":{"message":"Hur vill du synka?"},"LabelOptionsscreen":{"message":"{0} alternativ","description":"Title of the options screen. The placeholder holds the account type."},"LabelPaypal":{"message":"PayPal"},"DescriptionPaypal":{"message":"Gr en engngsdonation via PayPal fr att sttta projektet"},"LabelOpencollective":{"message":"OpenCollective"},"DescriptionOpencollective":{"message":"Gr en regelbunden donation via OpenCollective fr att sttta projektet"},"LabelLiberapay":{"message":"Liberapay"},"DescriptionLiberapay":{"message":"Gr en regelbunden donation via Liberapay fr att sttta projektet"},"LabelGithubsponsors":{"message":"GitHub sponsorer"},"DescriptionGithubsponsors":{"message":"Gr en regelbunden donation via GitHub sponsors fr att sttta projektet"},"LegacyAdapterDeprecation":{"message":"Denna gamla kontotyp avskrivs och kommer snart att tas bort. Vxla till den nya synkroniseringsmetoden fr Nextcloud. Frbttrad prestanda och noggrannhet vntar dig."},"LabelUpdated":{"message":"Floccus uppdaterades"},"DescriptionUpdated":{"message":"Grattis, du har den senaste uppdateringen av floccus p din enhet!"},"LabelReleaseNotes":{"message":"Ls uppdateringslogg"},"LabelOptionsServerDetails":{"message":"Server detaljer"},"LabelOptionsFolderMapping":{"message":"Mappmappning"},"LabelOptionsSyncBehavior":{"message":"Synkningsbeteende"},"LabelOptionsDangerous":{"message":"Farliga instllningar"},"LabelAccountDeleted":{"message":"Kontot borttaget"},"DescriptionAccountDeleted":{"message":"Det hr kontot r borttaget"},"LabelNoAccount":{"message":"Inga konton hr"},"DescriptionNoAccount":{"message":"Skapa ett konto fr att synka dina bokmrken."},"LabelLoginFlowStart":{"message":"Logga in med Nextcloud Flow"},"LabelLoginFlowStop":{"message":"Avbryt Nextcloud Flow inloggning"},"LabelLoginFlowError":{"message":"Nextcloud Flow inloggning misslyckades"},"LabelNewAccount":{"message":"Nytt konto"},"LabelNestedSync":{"message":"Nstlade konton"},"DescriptionNestedSync":{"message":"Du kan nstla konton s att en verordnad mapp tillhr ett konto och en underordnad mapp till ett annat konto. Vill du inkludera detta kontos lokala mapp i eventuell verordnad mappsynkronisering frn ett annat konto?"},"LabelNestedSyncNo":{"message":"Exkludera detta kontos lokala mappar i andra synkningskonton"},"LabelNestedSyncYes":{"message":"Inkludera detta kontos lokala mappar i andra kontons synkningar"}}')},61038:e=>{"use strict";e.exports=JSON.parse('{"Error001":{"message":"E001: "},"Error002":{"message":"E002: "},"Error003":{"message":"E003"},"Error004":{"message":"E004: "},"Error005":{"message":"E005: "},"Error006":{"message":"E006: "},"Error007":{"message":"E007: "},"Error008":{"message":"E008"},"Error009":{"message":"E009"},"Error010":{"message":"E010"},"Error011":{"message":"E011{0}"},"Error012":{"message":"E012"},"Error013":{"message":"E013"},"Error014":{"message":"E014"},"Error015":{"message":"E015"},"Error016":{"message":"E016: "},"Error017":{"message":"E017: : "},"Error018":{"message":"E018"},"Error019":{"message":"E019: HTTP {0} {1} "},"Error020":{"message":"E020"},"Error021":{"message":"E021"},"Error022":{"message":"E022{0}{1}"},"Error023":{"message":"E023{0}"},"Error024":{"message":"E024HTTP{0}{1}"},"Error025":{"message":"E025: \'/\'"},"Error026":{"message":"E026: HTTP status {0}. "},"Error027":{"message":"E027: "},"Error028":{"message":"028 2FA"},"LabelWebdavurl":{"message":"WebDAV URL"},"DescriptionWebdavurl":{"message":"NextCloudhttps://your-domain.com/remote.php/webdav/"},"LabelNextcloudurl":{"message":"Nextcloud URL"},"LabelUsername":{"message":""},"LabelPassword":{"message":""},"LabelBookmarksfile":{"message":""},"DescriptionBookmarksfile":{"message":"WebDAV URL().:personal_stuff/bookmarks.xbel"},"LabelServerfolder":{"message":""},"DescriptionServerfolder":{"message":"\'\'/work\'"},"LabelLocalfolder":{"message":""},"DescriptionLocalfolder":{"message":"  "},"LabelRootfolder":{"message":""},"LabelOptions":{"message":""},"LabelSyncnow":{"message":""},"LabelCancelsync":{"message":""},"LabelEnabled":{"message":""},"StatusLastsynced":{"message":": {0} "},"StatusNeversynced":{"message":""},"StatusAllgood":{"message":""},"StatusDisabled":{"message":""},"StatusError":{"message":""},"StatusSyncing":{"message":""},"LabelReset":{"message":""},"DescriptionReset":{"message":""},"LabelChoosefolder":{"message":""},"DescriptionChoosefolder":{"message":""},"LabelRemoveaccount":{"message":""},"DescriptionRemoveaccount":{"message":"()"},"LabelResetCache":{"message":""},"DescriptionResetcache":{"message":""},"LabelParallelsync":{"message":""},"DescriptionParallelsync":{"message":""},"LabelStrategy":{"message":""},"DescriptionStrategy":{"message":""},"LabelStrategydefault":{"message":""},"LabelStrategyslave":{"message":""},"LabelStrategyoverwrite":{"message":""},"LabelSave":{"message":""},"LabelCancel":{"message":""},"LabelAdapternextcloudfolders":{"message":"Nextcloud "},"DescriptionAdapternextcloudfolders":{"message":"Nextcloud Bookmarks app v0.14"},"LabelAdapternextcloud":{"message":"Nextcloud "},"DescriptionAdapternextcloud":{"message":"v0.11"},"LabelAdapterwebdav":{"message":"WebDAVXBEL"},"DescriptionAdapterwebdav":{"message":"WebDAVWebDAVXBELWeb UIWebDAV"},"LabelAddaccount":{"message":""},"LabelSecurecredentials":{"message":""},"LabelSecuredcredentials":{"message":""},"LabelOpenintab":{"message":""},"LabelDebuglogs":{"message":"Debug"},"LabelFunddevelopment":{"message":""},"DescriptionFunddevelopment":{"message":""},"LabelSelect":{"message":""},"LabelUntitledfolder":{"message":""},"LabelSetkey":{"message":"floccus"},"DescriptionSetkey":{"message":"phrase "},"LabelKey":{"message":""},"LabelKey2":{"message":""},"LabelUnlock":{"message":"floccus"},"LabelRemovekey":{"message":""},"LabelRemovedkey":{"message":""},"LabelSyncinterval":{"message":""},"DescriptionSyncinterval":{"message":"15"},"LabelChooseadapter":{"message":""},"LabelOptionsscreen":{"message":"{0}","description":"Title of the options screen. The placeholder holds the account type."},"LabelPaypal":{"message":"Paypal"},"DescriptionPaypal":{"message":" Paypal "},"LabelOpencollective":{"message":"OpenCollective"},"DescriptionOpencollective":{"message":" OpenCollective "},"LabelLiberapay":{"message":"Liberapay"},"DescriptionLiberapay":{"message":" Liberapay "},"LabelGithubsponsors":{"message":"GitHub sponsors"},"DescriptionGithubsponsors":{"message":" GitHub sponsors "},"LegacyAdapterDeprecation":{"message":" nextcloud "},"LabelUpdated":{"message":"Floccus"},"DescriptionUpdated":{"message":" floccus "},"LabelReleaseNotes":{"message":""},"LabelOptionsServerDetails":{"message":""},"LabelOptionsFolderMapping":{"message":""},"LabelOptionsSyncBehavior":{"message":""},"LabelOptionsDangerous":{"message":""},"LabelAccountDeleted":{"message":""},"DescriptionAccountDeleted":{"message":""},"LabelNoAccount":{"message":""},"DescriptionNoAccount":{"message":""},"LabelLoginFlowStart":{"message":" Nextcloud login flow "},"LabelLoginFlowStop":{"message":" Nextcloud login flow"},"LabelLoginFlowError":{"message":"Nextcloud login flow "},"LabelNewAccount":{"message":""},"LabelNestedSync":{"message":""},"DescriptionNestedSync":{"message":""},"LabelNestedSyncNo":{"message":""},"LabelNestedSyncYes":{"message":""},"LabelImportExport":{"message":"/ "},"LabelExport":{"message":""},"LabelImport":{"message":""},"LabelFolderNotFound":{"message":""},"LabelSyncTabs":{"message":""},"LabelTabs":{"message":""},"LabelSyncDown":{"message":""},"LabelSyncUp":{"message":""},"DescriptionFilesPermission":{"message":" floccus  Nextcloud "}}')},13571:e=>{"use strict";e.exports=JSON.parse('{"Error001":{"message":"E001"},"Error002":{"message":"E002"},"Error003":{"message":"E003"},"Error004":{"message":"E004"},"Error005":{"message":"E005"},"Error006":{"message":"E006"},"Error007":{"message":"E007"},"Error008":{"message":"E008"},"Error009":{"message":"E009"},"Error010":{"message":"E010"},"Error011":{"message":"E011{0}"},"Error012":{"message":"E012"},"Error013":{"message":"E013"},"Error014":{"message":"E014"},"Error015":{"message":"E015"},"Error016":{"message":"E016"},"Error017":{"message":"E017"},"Error018":{"message":"E018"},"Error019":{"message":"E019HTTP  {0} {1} "},"Error020":{"message":"E020"},"Error021":{"message":"E021"},"Error022":{"message":"E022 {0}  {1}"},"Error023":{"message":"E023 {0}"},"Error024":{"message":"E024 {1}  HTTP  {0}"},"Error025":{"message":"E025 \'/\' "},"Error026":{"message":"E026HTTP  {0}"},"Error027":{"message":"E027"},"LabelWebdavurl":{"message":"WebDAV URL"},"DescriptionWebdavurl":{"message":" NextCloudhttps://your-domain.com/remote.php/webdav/"},"LabelNextcloudurl":{"message":"Nextcloud URL"},"LabelUsername":{"message":""},"LabelPassword":{"message":""},"LabelBookmarksfile":{"message":""},"DescriptionBookmarksfile":{"message":" WebDAV URL personal_stuff/bookmarks.xbel"},"LabelServerfolder":{"message":""},"DescriptionServerfolder":{"message":" \\"/work\\""},"LabelLocalfolder":{"message":""},"DescriptionLocalfolder":{"message":""},"LabelRootfolder":{"message":""},"LabelOptions":{"message":""},"LabelSyncnow":{"message":""},"LabelCancelsync":{"message":""},"LabelEnabled":{"message":""},"StatusLastsynced":{"message":"{0} "},"StatusNeversynced":{"message":""},"StatusAllgood":{"message":""},"StatusDisabled":{"message":""},"StatusError":{"message":""},"StatusSyncing":{"message":""},"LabelReset":{"message":""},"DescriptionReset":{"message":""},"LabelChoosefolder":{"message":""},"DescriptionChoosefolder":{"message":""},"LabelRemoveaccount":{"message":""},"DescriptionRemoveaccount":{"message":""},"LabelResetCache":{"message":""},"DescriptionResetcache":{"message":""},"LabelParallelsync":{"message":""},"DescriptionParallelsync":{"message":""},"LabelStrategy":{"message":""},"DescriptionStrategy":{"message":""},"LabelStrategydefault":{"message":""},"LabelStrategyslave":{"message":""},"LabelStrategyoverwrite":{"message":""},"LabelSave":{"message":""},"LabelCancel":{"message":""},"LabelAdapternextcloudfolders":{"message":"Nextcloud "},"DescriptionAdapternextcloudfolders":{"message":"Nextcloud   v0.14 "},"LabelAdapternextcloud":{"message":"Nextcloud "},"DescriptionAdapternextcloud":{"message":"\\"\\"  v0.11 "},"LabelAdapterwebdav":{"message":"WebDAV  XBEL "},"DescriptionAdapterwebdav":{"message":"WebDAV  WebDAV XBEL  Web UI WebDAV "},"LabelAddaccount":{"message":""},"LabelSecurecredentials":{"message":""},"LabelOpenintab":{"message":""},"LabelDebuglogs":{"message":""},"LabelFunddevelopment":{"message":""},"DescriptionFunddevelopment":{"message":" floccus Thank you "},"LabelSelect":{"message":""},"LabelUntitledfolder":{"message":""},"LabelSetkey":{"message":" floccus "},"DescriptionSetkey":{"message":""},"LabelKey":{"message":""},"LabelKey2":{"message":""},"LabelUnlock":{"message":" floccus"},"LabelSyncinterval":{"message":""},"DescriptionSyncinterval":{"message":" 15 "},"LabelChooseadapter":{"message":""},"LabelOptionsscreen":{"message":"{0} ","description":"Title of the options screen. The placeholder holds the account type."},"LabelPaypal":{"message":"Paypal"},"DescriptionPaypal":{"message":" Paypal "},"LabelOpencollective":{"message":"OpenCollective"},"DescriptionOpencollective":{"message":" OpenCollective "},"LabelLiberapay":{"message":"Liberapay"},"DescriptionLiberapay":{"message":" Liberapay "},"LabelGithubsponsors":{"message":"GitHub sponsors"},"DescriptionGithubsponsors":{"message":" GitHub sponsors "}}')},61299:e=>{"use strict";e.exports=JSON.parse('{"web":{"client_id":"305459871054-4rr6n0jmsdvvprtjqbma5oeksshis2bn.apps.googleusercontent.com","project_id":"floccus-1613668481464","auth_uri":"https://accounts.google.com/o/oauth2/auth","token_uri":"https://oauth2.googleapis.com/token","auth_provider_x509_cert_url":"https://www.googleapis.com/oauth2/v1/certs","client_secret":"-2C9DALj2JYEGhZMZTvzN2ZE","redirect_uris":["https://mbepccofdnoepgicagpchfmafecckdam.chromiumapp.org/","https://76a380c4950986998208e7bb9dbd8fea94c91504.extensions.allizom.org/"]}}')},4147:e=>{"use strict";e.exports={i8:"4.8.6"}}},n={};function o(e){var t=n[e];if(void 0!==t)return t.exports;var a=n[e]={id:e,loaded:!1,exports:{}};return r[e].call(a.exports,a,a.exports,o),a.loaded=!0,a.exports}o.m=r,o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o.f={},o.e=e=>Promise.all(Object.keys(o.f).reduce(((t,r)=>(o.f[r](e,t),t)),[])),o.u=e=>e+".js",o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),e={},t="floccus:",o.l=(r,n,a,i)=>{if(e[r])e[r].push(n);else{var s,u;if(void 0!==a)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var f=c[l];if(f.getAttribute("src")==r||f.getAttribute("data-webpack")==t+a){s=f;break}}s||(u=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,o.nc&&s.setAttribute("nonce",o.nc),s.setAttribute("data-webpack",t+a),s.src=r),e[r]=[n];var d=(t,n)=>{s.onerror=s.onload=null,clearTimeout(p);var o=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),o&&o.forEach((e=>e(n))),t)return t(n)},p=setTimeout(d.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=d.bind(null,s.onerror),s.onload=d.bind(null,s.onload),u&&document.head.appendChild(s)}},o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),o.p="/dist/js/",(()=>{var e={816:0};o.f.j=(t,r)=>{var n=o.o(e,t)?e[t]:void 0;if(0!==n)if(n)r.push(n[2]);else{var a=new Promise(((r,o)=>n=e[t]=[r,o]));r.push(n[2]=a);var i=o.p+o.u(t),s=new Error;o.l(i,(r=>{if(o.o(e,t)&&(0!==(n=e[t])&&(e[t]=void 0),n)){var a=r&&("load"===r.type?"missing":r.type),i=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+a+": "+i+")",s.name="ChunkLoadError",s.type=a,s.request=i,n[1](s)}}),"chunk-"+t,t)}};var t=(t,r)=>{var n,a,i=r[0],s=r[1],u=r[2],c=0;if(i.some((t=>0!==e[t]))){for(n in s)o.o(s,n)&&(o.m[n]=s[n]);u&&u(o)}for(t&&t(r);c<i.length;c++)a=i[c],o.o(e,a)&&e[a]&&e[a][0](),e[i[c]]=0},r=self.webpackChunkfloccus=self.webpackChunkfloccus||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),(()=>{"use strict";o(33948),o(57640),o(9924),o(88449),o(2490),o(59849),o(15581),o(34514),o(25387),o(72608),o(68216),o(79433);var e=o(53769),t=o(81293),r=o.n(t),n=o(20202),a=o.n(n),i=o(57516),s=o.n(i),u=o(42002),c=o(4147),l=o(95940),f=o(96486),d=o.n(f),p=o(12492),h=o.n(p),m=o(72903),g=o.n(m);const v=Symbol("error"),y=Symbol("syncing"),b=Symbol("allgood"),w=Symbol("disabled");class E{constructor(e){this.ctl=e}async checkSync(){const e=await l.default.getAllAccounts();for(let t of e){const e=(await r().get(t)).getData(),n=e.lastSync||0,o=e.syncInterval||15;Date.now()>1e3*o*60+n&&this.ctl.scheduleSync(t)}}}window.controller=new class{constructor(){this.jobs=new(h())({concurrency:1}),this.waiting={},this.schedule={},this.listeners=[],this.alarms=new E(this),e.default.bookmarks.onChanged.addListener(((e,t)=>this.onchange(e,t))),e.default.bookmarks.onMoved.addListener(((e,t)=>this.onchange(e,t))),e.default.bookmarks.onRemoved.addListener(((e,t)=>this.onchange(e,t))),e.default.bookmarks.onCreated.addListener(((e,t)=>this.onchange(e,t))),e.default.alarms.create("checkSync",{periodInMinutes:1}),e.default.alarms.onAlarm.addListener((e=>{this.alarms[e.name]()})),e.default.storage.local.get("accountsLocked").then((async e=>{this.setEnabled(!e.accountsLocked),this.unlocked=!e.accountsLocked,e.accountsLocked&&(this.key=null)})),e.default.storage.local.get("currentVersion").then((async t=>{if(c.i8===t.currentVersion)return;await e.default.storage.local.set({currentVersion:c.i8});const r=t.currentVersion.split(".");(await e.default.storage.local.get("accountsLocked")).accountsLocked&&"4"===r[0]&&(r[1]<5||5==r[1]&&0==r[2])&&await e.default.storage.local.set({rekeyAfterUpdate:!0});const n=c.i8.split("."),o=t.currentVersion?t.currentVersion.split("."):[];n[0]===o[0]&&n[1]===o[1]||e.default.tabs.create({url:"/dist/html/options.html#/update",active:!1})})),setTimeout((()=>this.updateStatus()),3e3)}setEnabled(e){this.enabled=e,e&&setTimeout((()=>{this.alarms.checkSync()}),7e3)}async setKey(t){let n=await r().getAllAccounts();await Promise.all(n.map((e=>e.updateFromStorage()))),this.key=t;let o=await s().sha256(t),a=await s().encryptAES(t,o,"FLOCCUS");await e.default.storage.local.set({accountsLocked:a}),n.length&&await Promise.all(n.map((e=>e.setData(e.getData())))),this.unlocked=!0,this.setEnabled(!0)}async unlock(t){let r=await e.default.storage.local.get({accountsLocked:null}),n=await e.default.storage.local.get({rekeyAfterUpdate:null});if(r.accountsLocked){if(n.rekeyAfterUpdate){let n=await u.Z.sha256(t);if(await u.Z.decryptAES(t,u.Z.iv,r.accountsLocked)!==n)throw new Error("The provided key was wrong");this.unlocked=!0,this.key=t,await this.unsetKey(),await this.setKey(t),await e.default.storage.local.set({rekeyAfterUpdate:null})}else{let e=await s().sha256(t);if(await s().decryptAES(t,r.accountsLocked,"FLOCCUS")!==e)throw new Error("The provided key was wrong")}this.key=t}this.unlocked=!0,this.setEnabled(!0)}async unsetKey(){if(!this.unlocked)throw new Error("Cannot disable encryption without unlocking first");let t=await r().getAllAccounts();await Promise.all(t.map((e=>e.updateFromStorage()))),this.key=null,await e.default.storage.local.set({accountsLocked:null}),await Promise.all(t.map((e=>e.setData(e.getData()))))}async onchange(e,t){if(!this.enabled)return;this.setEnabled(!1);const n=await r().getAllAccounts(),o=await Promise.all(n.map((async t=>t.tracksBookmark(e))));let i,s=n.filter(((e,t)=>o[t]));try{i=await a().getIdPathFromLocalId(e)}catch(e){return void this.setEnabled(!0)}const u=await r().getAccountsContainingLocalId(e,i,n);s=d().uniqBy(s.concat(u),(e=>e.id)).filter((e=>!e.getData().syncing)).filter((e=>e.getData().enabled)),s.forEach((e=>{this.scheduleSync(e.id,!0)})),this.setEnabled(!0)}async scheduleSync(e,t){if(t)return this.schedule[e]&&clearTimeout(this.schedule[e]),void(this.schedule[e]=setTimeout((()=>this.scheduleSync(e)),6e4));let n=await r().get(e);return n.getData().syncing||!n.getData().enabled||this.waiting[e]?void 0:(this.waiting[e]=!0,this.jobs.add((()=>this.syncAccount(e))))}async cancelSync(e,t){let r=await g().get(e);t||await r.setData({...r.getData(),enabled:!1}),await r.cancelSync()}async syncAccount(e,t){if(this.waiting[e]=!1,!this.enabled)return;let r=await g().get(e);if(!r.getData().syncing){setTimeout((()=>this.updateStatus()),500);try{await r.sync(t)}catch(e){console.error(e)}this.updateStatus()}}async updateStatus(){await this.updateBadge(),this.listeners.forEach((e=>e()))}onStatusChange(e){this.listeners.push(e);let t=!1;return()=>{t||(this.listeners.splice(this.listeners.indexOf(e),1),t=!0)}}async updateBadge(){if(!this.unlocked)return this.setStatusBadge(v);const e=await g().getAllAccounts();let t=e.reduce(((e,t)=>{const r=t.getData();return e===v||r.error&&!r.syncing?v:e===y||r.syncing?y:b}),b);t===b&&e.every((e=>!e.getData().enabled))&&(t=w),this.setStatusBadge(t)}async setStatusBadge(t){const r={[b]:{text:""},[y]:{text:"<->",color:"#0088dd"},[v]:{text:"!",color:"#dd4d00"},[w]:{text:"X",color:"#999999"}};await e.default.browserAction.setBadgeText({text:r[t].text}),r[t].color&&await e.default.browserAction.setBadgeBackgroundColor({color:r[t].color})}async onLoad(){const t=await g().getAllAccounts();await Promise.all(t.map((async t=>{t.getData().syncing&&(await t.setData({...t.getData(),syncing:!1,error:e.default.i18n.getMessage("Error027")}),await t.init())})))}},window.addEventListener("load",(()=>{window.controller.onLoad()}))})()})();