(self.webpackChunkfloccus=self.webpackChunkfloccus||[]).push([[706],{78464:(t,e,i)=>{(e=i(23645)(!1)).push([t.id,"\n.width {\n    max-width: 850px;\n    margin: 0 auto;\n}\n.v-form .v-icon {\n  margin-right: 10px;\n}\n",""]),t.exports=e},42854:(t,e,i)=>{var n=i(78464);n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[t.id,n,""]]),n.locals&&(t.exports=n.locals),(0,i(45346).Z)("4e365f0b",n,!1,{})},13706:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>U});var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t.$vuetify.breakpoint.mobile?i("v-navigation-drawer",{staticClass:"pa-5",attrs:{app:"",fixed:""}},[i("div",{staticClass:"overline"},[t._v("\n      "+t._s(t.data.type)+"\n    ")]),t._v(" "),i("div",{staticClass:"headline"},[t._v("\n      "+t._s(t.folderName||t.t("LabelUntitledfolder"))+"\n    ")]),t._v(" "),i("v-list",{attrs:{dense:"",nav:""}},[i("v-list-item",{attrs:{link:""},on:{click:function(e){return t.$vuetify.goTo("#server",{duration:.5})}}},[i("v-list-item-icon",[i("v-icon",[t._v("mdi-account-box")])],1),t._v(" "),i("v-list-item-content",[i("v-list-item-title",[t._v(t._s(t.t("LabelOptionsServerDetails")))])],1)],1),t._v(" "),i("v-list-item",{attrs:{link:""},on:{click:function(e){return t.$vuetify.goTo("#folder",{duration:.5})}}},[i("v-list-item-icon",[i("v-icon",[t._v("mdi-folder-outline")])],1),t._v(" "),i("v-list-item-content",[i("v-list-item-title",[t._v(t._s(t.t("LabelOptionsFolderMapping")))])],1)],1),t._v(" "),i("v-list-item",{attrs:{link:""},on:{click:function(e){return t.$vuetify.goTo("#sync",{duration:.5})}}},[i("v-list-item-icon",[i("v-icon",[t._v("mdi-sync-circle")])],1),t._v(" "),i("v-list-item-content",[i("v-list-item-title",[t._v(t._s(t.t("LabelOptionsSyncBehavior")))])],1)],1),t._v(" "),i("v-list-item",{attrs:{link:""},on:{click:function(e){return t.$vuetify.goTo("#danger",{duration:.5})}}},[i("v-list-item-icon",[i("v-icon",[t._v("mdi-alert-circle")])],1),t._v(" "),i("v-list-item-content",[i("v-list-item-title",[t._v(t._s(t.t("LabelOptionsDangerous")))])],1)],1)],1)],1):t._e(),t._v(" "),t.deleted?t._e():i("v-card",{staticClass:"width mt-3",attrs:{loading:t.loading}},[i("v-container",{class:[!t.$vuetify.breakpoint.mobile&&"pa-5"]},[i("v-row",[i("v-col",{style:t.$vuetify.breakpoint.mobile?{display:"none"}:{width:"250px","flex-grow":0}},[i("div",{style:{position:"sticky",top:"20px"}},[i("div",{staticClass:"overline"},[t._v("\n              "+t._s(t.data.type)+"\n            ")]),t._v(" "),i("div",{staticClass:"headline"},[t._v("\n              "+t._s(t.folderName||t.t("LabelUntitledfolder"))+"\n            ")]),t._v(" "),i("v-list",{attrs:{dense:"",nav:""}},[i("v-list-item",{attrs:{link:""},on:{click:function(e){return t.$vuetify.goTo("#server",{duration:.5})}}},[i("v-list-item-icon",[i("v-icon",[t._v("mdi-account-box")])],1),t._v(" "),i("v-list-item-content",[i("v-list-item-title",[t._v(t._s(t.t("LabelOptionsServerDetails")))])],1)],1),t._v(" "),i("v-list-item",{attrs:{link:""},on:{click:function(e){return t.$vuetify.goTo("#folder",{duration:.5})}}},[i("v-list-item-icon",[i("v-icon",[t._v("mdi-folder-outline")])],1),t._v(" "),i("v-list-item-content",[i("v-list-item-title",[t._v(t._s(t.t("LabelOptionsFolderMapping")))])],1)],1),t._v(" "),i("v-list-item",{attrs:{link:""},on:{click:function(e){return t.$vuetify.goTo("#sync",{duration:.5})}}},[i("v-list-item-icon",[i("v-icon",[t._v("mdi-sync-circle")])],1),t._v(" "),i("v-list-item-content",[i("v-list-item-title",[t._v(t._s(t.t("LabelOptionsSyncBehavior")))])],1)],1),t._v(" "),i("v-list-item",{attrs:{link:""},on:{click:function(e){return t.$vuetify.goTo("#danger",{duration:.5})}}},[i("v-list-item-icon",[i("v-icon",[t._v("mdi-alert-circle")])],1),t._v(" "),i("v-list-item-content",[i("v-list-item-title",[t._v(t._s(t.t("LabelOptionsDangerous")))])],1)],1)],1)],1)]),t._v(" "),i("v-col",[i("div",{staticClass:"d-flex flex-row-reverse"},[i("v-btn",{staticClass:"primary",on:{click:t.onSave}},[t._v("\n              "+t._s(t.t("LabelSave"))+"\n            ")]),t._v(" "),t.saved?i("v-icon",{attrs:{color:"green"}},[t._v("\n              mdi-check\n            ")]):t._e()],1),t._v(" "),t.loading?t._e():i("v-form",{staticClass:"mt-3 mb-3"},["nextcloud-folders"===t.data.type||"nextcloud-bookmarks"===t.data.type?i("OptionsNextcloudFolders",t._b({on:{reset:t.onReset,delete:t.onDelete}},"OptionsNextcloudFolders",t.data,!1,!0)):t._e(),t._v(" "),"webdav"===t.data.type?i("OptionsWebdav",t._b({on:{reset:t.onReset,delete:t.onDelete}},"OptionsWebdav",t.data,!1,!0)):t._e(),t._v(" "),"fake"===t.data.type?i("OptionsFake",t._b({on:{reset:t.onReset,delete:t.onDelete}},"OptionsFake",t.data,!1,!0)):t._e(),t._v(" "),"google-drive"===t.data.type?i("OptionsGoogleDrive",t._b({on:{reset:t.onReset,delete:t.onDelete}},"OptionsGoogleDrive",t.data,!1,!0)):t._e()],1),t._v(" "),i("div",{staticClass:"d-flex flex-row-reverse"},[i("v-btn",{staticClass:"primary",on:{click:t.onSave}},[t._v("\n              "+t._s(t.t("LabelSave"))+"\n            ")]),t._v(" "),t.saved?i("v-icon",{attrs:{color:"green"}},[t._v("\n              mdi-check\n            ")]):t._e()],1)],1)],1)],1)],1),t._v(" "),i("v-dialog",{attrs:{"max-width":600,persistent:""},model:{value:t.deleted,callback:function(e){t.deleted=e},expression:"deleted"}},[i("v-card",[i("v-card-title",[t._v(t._s(t.t("LabelAccountDeleted")))]),t._v(" "),i("v-card-text",[t._v(t._s(t.t("DescriptionAccountDeleted")))])],1)],1),t._v(" "),i("v-navigation-drawer",{style:{display:"none"}})],1)};n._withStripped=!0;var a=i(11863),s=i(20202),o=i.n(s),l=i(49118),r=i(46699),c=i(64327),v=i(14059),d=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-container",[i("v-card",{staticClass:"mb-4"},[i("v-card-title",{staticClass:"text-h5",attrs:{id:"server"}},[i("v-icon",[t._v("mdi-account-box")]),t._v("\n      "+t._s(t.t("LabelOptionsServerDetails"))+"\n    ")],1),t._v(" "),i("v-card-text",[i("div",[t.authorized||t.refreshToken?[t._v("\n          "+t._s(t.username)+"\n          "),i("v-icon",{attrs:{color:"success"}},[t._v("\n            mdi-check\n          ")])]:t._e(),t._v(" "),i("v-btn",{attrs:{color:"primary"},on:{click:t.authenticate}},[t._v("\n          "+t._s(t.t("LabelLogingoogle"))+"\n        ")]),t._v(" "),i("p",{staticClass:"mt-1"},[t._v("\n          "+t._s(t.authorized||t.refreshToken?t.t("DescriptionLoggedingoogle"):t.t("DescriptionLogingoogle"))+"\n        ")])],2),t._v(" "),i("v-text-field",{staticClass:"mt-2",attrs:{"append-icon":"mdi-file-document",value:t.bookmark_file,rules:[t.validateBookmarksFile],label:t.t("LabelBookmarksfile"),hint:t.t("DescriptionBookmarksfilegoogle"),"persistent-hint":!0},on:{input:function(e){return t.$emit("update:bookmark_file",e)}}}),t._v(" "),i("v-text-field",{staticClass:"mt-2",attrs:{"append-icon":"mdi-lock",type:"password",value:t.password,label:t.t("LabelPassphrase"),hint:t.t("DescriptionPassphrase"),"persistent-hint":!0},on:{input:function(e){return t.$emit("update:password",e)}}})],1)],1),t._v(" "),i("v-card",{staticClass:"mb-4"},[i("v-card-title",{staticClass:"text-h5",attrs:{id:"folder"}},[i("v-icon",[t._v("mdi-folder-outline")]),t._v("\n      "+t._s(t.t("LabelOptionsFolderMapping"))+"\n    ")],1),t._v(" "),i("v-card-text",[i("OptionSyncFolder",{attrs:{value:t.localRoot},on:{input:function(e){return t.$emit("update:localRoot",e)}}})],1)],1),t._v(" "),i("v-card",{staticClass:"mb-4"},[i("v-card-title",{staticClass:"text-h5",attrs:{id:"sync"}},[i("v-icon",[t._v("mdi-sync-circle")]),t._v("\n      "+t._s(t.t("LabelOptionsSyncBehavior"))+"\n    ")],1),t._v(" "),i("v-card-text",[i("OptionSyncInterval",{attrs:{value:t.syncInterval},on:{input:function(e){return t.$emit("update:syncInterval",e)}}}),t._v(" "),i("OptionSyncStrategy",{attrs:{value:t.strategy},on:{input:function(e){return t.$emit("update:strategy",e)}}}),t._v(" "),i("OptionNestedSync",{attrs:{value:t.nestedSync},on:{input:function(e){return t.$emit("update:nestedSync",e)}}})],1)],1),t._v(" "),i("v-card",{staticClass:"mb-4"},[i("v-card-title",{staticClass:"text-h5",attrs:{id:"danger"}},[i("v-icon",[t._v("mdi-alert-circle")]),t._v("\n      "+t._s(t.t("LabelOptionsDangerous"))+"\n    ")],1),t._v(" "),i("v-card-text",[i("OptionResetCache",{on:{click:function(e){return t.$emit("reset")}}}),t._v(" "),i("OptionFailsafe",{attrs:{value:t.failsafe},on:{input:function(e){return t.$emit("update:failsafe",e)}}}),t._v(" "),i("OptionDeleteAccount",{on:{click:function(e){return t.$emit("delete")}}})],1)],1)],1)};d._withStripped=!0,i(33948);var u=i(20772),p=i(78208),_=i(84512),m=i(73775),h=i(57903),f=i(72705),y={name:"OptionsGoogleDrive",components:{OptionFailsafe:i(81494).Z,OptionSyncFolder:h.Z,OptionDeleteAccount:m.Z,OptionSyncStrategy:_.Z,OptionResetCache:p.Z,OptionSyncInterval:u.Z,OptionNestedSync:f.Z},props:["username","password","refreshToken","localRoot","syncInterval","strategy","bookmark_file","nestedSync","failsafe"],data:()=>({panels:[0,1],authorized:!1}),methods:{validateBookmarksFile:t=>!t.includes("/"),async authenticate(){const t=(await Promise.resolve().then(i.t.bind(i,26322,23))).default,{refresh_token:e,username:n}=await t.authorize();e&&(this.authorized=!0,this.$emit("update:refreshToken",e),this.$emit("update:username",n))}}},g=i(51900),k=i(43453),b=i.n(k),O=i(50920),C=i(85893),x=i(5255),$=i(65386),Z=i(4786),w=i(65191),D=(0,g.Z)(y,d,[],!1,null,"50f487ac",null);b()(D,{VBtn:O.Z,VCard:C.Z,VCardText:x.ZB,VCardTitle:x.EB,VContainer:$.Z,VIcon:Z.Z,VTextField:w.Z}),D.options.__file="src/ui/components/OptionsGoogleDrive.vue";var L={name:"AccountOptions",components:{OptionsGoogleDrive:D.exports,OptionsFake:v.Z,OptionsWebdav:c.Z,OptionsNextcloudFolders:r.Z},data:()=>({folderName:"",data:{},savedData:!1,deleted:!1}),computed:{id(){return this.$route.params.accountId},loading(){return!this.$store.state.accounts[this.id]||!this.$store.state.accounts[this.id].data||!Object.keys(this.$store.state.accounts[this.id].data).length},localRoot(){return this.data?this.data.localRoot:null},saved(){return this.savedData===JSON.stringify(this.data)},menuComponent(){return this.$vuetify.breakpoint.mobile?"v-navigation-drawer":"div"}},watch:{localRoot(){this.updateFolderName()},loading(){this.loading||(this.data=this.$store.state.accounts[this.id].data)}},created(){this.updateFolderName(),this.loading||(this.data=this.$store.state.accounts[this.id].data)},methods:{async onSave(){await this.$store.dispatch(l.actions.STORE_ACCOUNT,{id:this.id,data:this.data}),this.savedData=JSON.stringify(this.data)},async updateFolderName(){const t=a.Z.pathToArray(decodeURIComponent(await o().getPathFromLocalId(this.localRoot)));this.folderName=t[t.length-1]},async onDelete(){await this.$store.dispatch(l.actions.DELETE_ACCOUNT,this.id),this.deleted=!0},async onReset(){await this.$store.dispatch(l.actions.RESET_ACCOUNT,this.id)}}},S=(i(42854),i(17024)),T=i(1765),V=i(83240),F=i(72545),N=i(3347),R=i(66925),I=i(33560),B=i(13774),A=i(57894),E=(0,g.Z)(L,n,[],!1,null,null,null);b()(E,{VBtn:O.Z,VCard:C.Z,VCardText:x.ZB,VCardTitle:x.EB,VCol:S.Z,VContainer:$.Z,VDialog:T.Z,VForm:V.Z,VIcon:Z.Z,VList:F.Z,VListItem:N.Z,VListItemContent:R.km,VListItemIcon:I.Z,VListItemTitle:R.V9,VNavigationDrawer:B.Z,VRow:A.Z}),E.options.__file="src/ui/views/AccountOptions.vue";var U=E.exports}}]);